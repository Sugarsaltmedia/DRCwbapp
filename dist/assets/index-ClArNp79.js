(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function oP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var __={exports:{}},Zu={},E_={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ul=Symbol.for("react.element"),aP=Symbol.for("react.portal"),lP=Symbol.for("react.fragment"),cP=Symbol.for("react.strict_mode"),uP=Symbol.for("react.profiler"),hP=Symbol.for("react.provider"),dP=Symbol.for("react.context"),fP=Symbol.for("react.forward_ref"),pP=Symbol.for("react.suspense"),mP=Symbol.for("react.memo"),gP=Symbol.for("react.lazy"),ev=Symbol.iterator;function yP(t){return t===null||typeof t!="object"?null:(t=ev&&t[ev]||t["@@iterator"],typeof t=="function"?t:null)}var T_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S_=Object.assign,I_={};function ao(t,e,n){this.props=t,this.context=e,this.refs=I_,this.updater=n||T_}ao.prototype.isReactComponent={};ao.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ao.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function A_(){}A_.prototype=ao.prototype;function gm(t,e,n){this.props=t,this.context=e,this.refs=I_,this.updater=n||T_}var ym=gm.prototype=new A_;ym.constructor=gm;S_(ym,ao.prototype);ym.isPureReactComponent=!0;var tv=Array.isArray,C_=Object.prototype.hasOwnProperty,vm={current:null},b_={key:!0,ref:!0,__self:!0,__source:!0};function P_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)C_.call(e,r)&&!b_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),h=0;h<a;h++)l[h]=arguments[h+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ul,type:t,key:i,ref:o,props:s,_owner:vm.current}}function vP(t,e){return{$$typeof:ul,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xm(t){return typeof t=="object"&&t!==null&&t.$$typeof===ul}function xP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nv=/\/+/g;function md(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xP(""+t.key):e.toString(36)}function Sc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ul:case aP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+md(o,0):r,tv(s)?(n="",t!=null&&(n=t.replace(nv,"$&/")+"/"),Sc(s,e,n,"",function(h){return h})):s!=null&&(xm(s)&&(s=vP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(nv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",tv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+md(i,a);o+=Sc(i,e,n,l,s)}else if(l=yP(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+md(i,a++),o+=Sc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gl(t,e,n){if(t==null)return t;var r=[],s=0;return Sc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function wP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var At={current:null},Ic={transition:null},_P={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:Ic,ReactCurrentOwner:vm};function R_(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Gl,forEach:function(t,e,n){Gl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gl(t,function(){e++}),e},toArray:function(t){return Gl(t,function(e){return e})||[]},only:function(t){if(!xm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=ao;ae.Fragment=lP;ae.Profiler=uP;ae.PureComponent=gm;ae.StrictMode=cP;ae.Suspense=pP;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_P;ae.act=R_;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=S_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=vm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)C_.call(e,l)&&!b_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var h=0;h<l;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:ul,type:t.type,key:s,ref:i,props:r,_owner:o}};ae.createContext=function(t){return t={$$typeof:dP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hP,_context:t},t.Consumer=t};ae.createElement=P_;ae.createFactory=function(t){var e=P_.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:fP,render:t}};ae.isValidElement=xm;ae.lazy=function(t){return{$$typeof:gP,_payload:{_status:-1,_result:t},_init:wP}};ae.memo=function(t,e){return{$$typeof:mP,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=Ic.transition;Ic.transition={};try{t()}finally{Ic.transition=e}};ae.unstable_act=R_;ae.useCallback=function(t,e){return At.current.useCallback(t,e)};ae.useContext=function(t){return At.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return At.current.useDeferredValue(t)};ae.useEffect=function(t,e){return At.current.useEffect(t,e)};ae.useId=function(){return At.current.useId()};ae.useImperativeHandle=function(t,e,n){return At.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return At.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return At.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return At.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return At.current.useReducer(t,e,n)};ae.useRef=function(t){return At.current.useRef(t)};ae.useState=function(t){return At.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return At.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return At.current.useTransition()};ae.version="18.3.1";E_.exports=ae;var b=E_.exports;const EP=oP(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TP=b,SP=Symbol.for("react.element"),IP=Symbol.for("react.fragment"),AP=Object.prototype.hasOwnProperty,CP=TP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bP={key:!0,ref:!0,__self:!0,__source:!0};function N_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)AP.call(e,r)&&!bP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:SP,type:t,key:i,ref:o,props:s,_owner:CP.current}}Zu.Fragment=IP;Zu.jsx=N_;Zu.jsxs=N_;__.exports=Zu;var u=__.exports,k_={exports:{}},Wt={},j_={exports:{}},D_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,W){var X=O.length;O.push(W);e:for(;0<X;){var B=X-1>>>1,z=O[B];if(0<s(z,W))O[B]=W,O[X]=z,X=B;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var W=O[0],X=O.pop();if(X!==W){O[0]=X;e:for(var B=0,z=O.length,K=z>>>1;B<K;){var ie=2*(B+1)-1,le=O[ie],oe=ie+1,ye=O[oe];if(0>s(le,X))oe<z&&0>s(ye,le)?(O[B]=ye,O[oe]=X,B=oe):(O[B]=le,O[ie]=X,B=ie);else if(oe<z&&0>s(ye,X))O[B]=ye,O[oe]=X,B=oe;else break e}}return W}function s(O,W){var X=O.sortIndex-W.sortIndex;return X!==0?X:O.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],h=[],d=1,f=null,m=3,y=!1,T=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(O){for(var W=n(h);W!==null;){if(W.callback===null)r(h);else if(W.startTime<=O)r(h),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(h)}}function k(O){if(A=!1,E(O),!T)if(n(l)!==null)T=!0,Kt(D);else{var W=n(h);W!==null&&pe(k,W.startTime-O)}}function D(O,W){T=!1,A&&(A=!1,w(v),v=-1),y=!0;var X=m;try{for(E(W),f=n(l);f!==null&&(!(f.expirationTime>W)||O&&!N());){var B=f.callback;if(typeof B=="function"){f.callback=null,m=f.priorityLevel;var z=B(f.expirationTime<=W);W=t.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),E(W)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var ie=n(h);ie!==null&&pe(k,ie.startTime-W),K=!1}return K}finally{f=null,m=X,y=!1}}var M=!1,S=null,v=-1,I=5,C=-1;function N(){return!(t.unstable_now()-C<I)}function j(){if(S!==null){var O=t.unstable_now();C=O;var W=!0;try{W=S(!0,O)}finally{W?P():(M=!1,S=null)}}else M=!1}var P;if(typeof x=="function")P=function(){x(j)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,bt=Pe.port2;Pe.port1.onmessage=j,P=function(){bt.postMessage(null)}}else P=function(){R(j,0)};function Kt(O){S=O,M||(M=!0,P())}function pe(O,W){v=R(function(){O(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){T||y||(T=!0,Kt(D))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var X=m;m=W;try{return O()}finally{m=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,W){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var X=m;m=O;try{return W()}finally{m=X}},t.unstable_scheduleCallback=function(O,W,X){var B=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?B+X:B):X=B,O){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=X+z,O={id:d++,callback:W,priorityLevel:O,startTime:X,expirationTime:z,sortIndex:-1},X>B?(O.sortIndex=X,e(h,O),n(l)===null&&O===n(h)&&(A?(w(v),v=-1):A=!0,pe(k,X-B))):(O.sortIndex=z,e(l,O),T||y||(T=!0,Kt(D))),O},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(O){var W=m;return function(){var X=m;m=W;try{return O.apply(this,arguments)}finally{m=X}}}})(D_);j_.exports=D_;var PP=j_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RP=b,Ht=PP;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V_=new Set,Pa={};function Ys(t,e){zi(t,e),zi(t+"Capture",e)}function zi(t,e){for(Pa[t]=e,t=0;t<e.length;t++)V_.add(e[t])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tf=Object.prototype.hasOwnProperty,NP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rv={},sv={};function kP(t){return Tf.call(sv,t)?!0:Tf.call(rv,t)?!1:NP.test(t)?sv[t]=!0:(rv[t]=!0,!1)}function jP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DP(t,e,n,r){if(e===null||typeof e>"u"||jP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ct(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ot[t]=new Ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ot[e]=new Ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ot[t]=new Ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ot[t]=new Ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ot[t]=new Ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ot[t]=new Ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ot[t]=new Ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ot[t]=new Ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ot[t]=new Ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var wm=/[\-:]([a-z])/g;function _m(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wm,_m);ot[e]=new Ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wm,_m);ot[e]=new Ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wm,_m);ot[e]=new Ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ot[t]=new Ct(t,1,!1,t.toLowerCase(),null,!1,!1)});ot.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ot[t]=new Ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function Em(t,e,n,r){var s=ot.hasOwnProperty(e)?ot[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DP(e,n,s,r)&&(n=null),r||s===null?kP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gr=RP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ql=Symbol.for("react.element"),di=Symbol.for("react.portal"),fi=Symbol.for("react.fragment"),Tm=Symbol.for("react.strict_mode"),Sf=Symbol.for("react.profiler"),M_=Symbol.for("react.provider"),L_=Symbol.for("react.context"),Sm=Symbol.for("react.forward_ref"),If=Symbol.for("react.suspense"),Af=Symbol.for("react.suspense_list"),Im=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),O_=Symbol.for("react.offscreen"),iv=Symbol.iterator;function Uo(t){return t===null||typeof t!="object"?null:(t=iv&&t[iv]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,gd;function Yo(t){if(gd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gd=e&&e[1]||""}return`
`+gd+t}var yd=!1;function vd(t,e){if(!t||yd)return"";yd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{yd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yo(t):""}function VP(t){switch(t.tag){case 5:return Yo(t.type);case 16:return Yo("Lazy");case 13:return Yo("Suspense");case 19:return Yo("SuspenseList");case 0:case 2:case 15:return t=vd(t.type,!1),t;case 11:return t=vd(t.type.render,!1),t;case 1:return t=vd(t.type,!0),t;default:return""}}function Cf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fi:return"Fragment";case di:return"Portal";case Sf:return"Profiler";case Tm:return"StrictMode";case If:return"Suspense";case Af:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case L_:return(t.displayName||"Context")+".Consumer";case M_:return(t._context.displayName||"Context")+".Provider";case Sm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Im:return e=t.displayName||null,e!==null?e:Cf(t.type)||"Memo";case Sr:e=t._payload,t=t._init;try{return Cf(t(e))}catch{}}return null}function MP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cf(e);case 8:return e===Tm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function F_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LP(t){var e=F_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yl(t){t._valueTracker||(t._valueTracker=LP(t))}function U_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=F_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bf(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ov(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function B_(t,e){e=e.checked,e!=null&&Em(t,"checked",e,!1)}function Pf(t,e){B_(t,e);var n=Yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rf(t,e.type,Yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function av(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rf(t,e,n){(e!=="number"||Jc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xo=Array.isArray;function Ni(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Nf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Xo(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yr(n)}}function z_(t,e){var n=Yr(e.value),r=Yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xl,H_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xl=Xl||document.createElement("div"),Xl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ra(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OP=["Webkit","ms","Moz","O"];Object.keys(aa).forEach(function(t){OP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),aa[e]=aa[t]})});function W_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||aa.hasOwnProperty(t)&&aa[t]?(""+e).trim():e+"px"}function q_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=W_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var FP=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jf(t,e){if(e){if(FP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Df(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vf=null;function Am(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mf=null,ki=null,ji=null;function uv(t){if(t=fl(t)){if(typeof Mf!="function")throw Error($(280));var e=t.stateNode;e&&(e=sh(e),Mf(t.stateNode,t.type,e))}}function K_(t){ki?ji?ji.push(t):ji=[t]:ki=t}function G_(){if(ki){var t=ki,e=ji;if(ji=ki=null,uv(t),e)for(t=0;t<e.length;t++)uv(e[t])}}function Q_(t,e){return t(e)}function Y_(){}var xd=!1;function X_(t,e,n){if(xd)return t(e,n);xd=!0;try{return Q_(t,e,n)}finally{xd=!1,(ki!==null||ji!==null)&&(Y_(),G_())}}function Na(t,e){var n=t.stateNode;if(n===null)return null;var r=sh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Lf=!1;if(ir)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){Lf=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{Lf=!1}function UP(t,e,n,r,s,i,o,a,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var la=!1,Zc=null,eu=!1,Of=null,BP={onError:function(t){la=!0,Zc=t}};function zP(t,e,n,r,s,i,o,a,l){la=!1,Zc=null,UP.apply(BP,arguments)}function $P(t,e,n,r,s,i,o,a,l){if(zP.apply(this,arguments),la){if(la){var h=Zc;la=!1,Zc=null}else throw Error($(198));eu||(eu=!0,Of=h)}}function Xs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function J_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hv(t){if(Xs(t)!==t)throw Error($(188))}function HP(t){var e=t.alternate;if(!e){if(e=Xs(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return hv(s),t;if(i===r)return hv(s),e;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function Z_(t){return t=HP(t),t!==null?eE(t):null}function eE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eE(t);if(e!==null)return e;t=t.sibling}return null}var tE=Ht.unstable_scheduleCallback,dv=Ht.unstable_cancelCallback,WP=Ht.unstable_shouldYield,qP=Ht.unstable_requestPaint,Ue=Ht.unstable_now,KP=Ht.unstable_getCurrentPriorityLevel,Cm=Ht.unstable_ImmediatePriority,nE=Ht.unstable_UserBlockingPriority,tu=Ht.unstable_NormalPriority,GP=Ht.unstable_LowPriority,rE=Ht.unstable_IdlePriority,eh=null,kn=null;function QP(t){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(eh,t,void 0,(t.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:JP,YP=Math.log,XP=Math.LN2;function JP(t){return t>>>=0,t===0?32:31-(YP(t)/XP|0)|0}var Jl=64,Zl=4194304;function Jo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Jo(a):(i&=o,i!==0&&(r=Jo(i)))}else o=n&~s,o!==0?r=Jo(o):i!==0&&(r=Jo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yn(e),s=1<<n,r|=t[n],e&=~s;return r}function ZP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-yn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=ZP(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ff(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sE(){var t=Jl;return Jl<<=1,!(Jl&4194240)&&(Jl=64),t}function wd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yn(e),t[e]=n}function t2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-yn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function bm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ve=0;function iE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oE,Pm,aE,lE,cE,Uf=!1,ec=[],Mr=null,Lr=null,Or=null,ka=new Map,ja=new Map,Ar=[],n2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fv(t,e){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":ka.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ja.delete(e.pointerId)}}function zo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=fl(e),e!==null&&Pm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function r2(t,e,n,r,s){switch(e){case"focusin":return Mr=zo(Mr,t,e,n,r,s),!0;case"dragenter":return Lr=zo(Lr,t,e,n,r,s),!0;case"mouseover":return Or=zo(Or,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ka.set(i,zo(ka.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ja.set(i,zo(ja.get(i)||null,t,e,n,r,s)),!0}return!1}function uE(t){var e=As(t.target);if(e!==null){var n=Xs(e);if(n!==null){if(e=n.tag,e===13){if(e=J_(n),e!==null){t.blockedOn=e,cE(t.priority,function(){aE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ac(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vf=r,n.target.dispatchEvent(r),Vf=null}else return e=fl(n),e!==null&&Pm(e),t.blockedOn=n,!1;e.shift()}return!0}function pv(t,e,n){Ac(t)&&n.delete(e)}function s2(){Uf=!1,Mr!==null&&Ac(Mr)&&(Mr=null),Lr!==null&&Ac(Lr)&&(Lr=null),Or!==null&&Ac(Or)&&(Or=null),ka.forEach(pv),ja.forEach(pv)}function $o(t,e){t.blockedOn===e&&(t.blockedOn=null,Uf||(Uf=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,s2)))}function Da(t){function e(s){return $o(s,t)}if(0<ec.length){$o(ec[0],t);for(var n=1;n<ec.length;n++){var r=ec[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mr!==null&&$o(Mr,t),Lr!==null&&$o(Lr,t),Or!==null&&$o(Or,t),ka.forEach(e),ja.forEach(e),n=0;n<Ar.length;n++)r=Ar[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ar.length&&(n=Ar[0],n.blockedOn===null);)uE(n),n.blockedOn===null&&Ar.shift()}var Di=gr.ReactCurrentBatchConfig,ru=!0;function i2(t,e,n,r){var s=ve,i=Di.transition;Di.transition=null;try{ve=1,Rm(t,e,n,r)}finally{ve=s,Di.transition=i}}function o2(t,e,n,r){var s=ve,i=Di.transition;Di.transition=null;try{ve=4,Rm(t,e,n,r)}finally{ve=s,Di.transition=i}}function Rm(t,e,n,r){if(ru){var s=Bf(t,e,n,r);if(s===null)Rd(t,e,r,su,n),fv(t,r);else if(r2(s,t,e,n,r))r.stopPropagation();else if(fv(t,r),e&4&&-1<n2.indexOf(t)){for(;s!==null;){var i=fl(s);if(i!==null&&oE(i),i=Bf(t,e,n,r),i===null&&Rd(t,e,r,su,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Rd(t,e,r,null,n)}}var su=null;function Bf(t,e,n,r){if(su=null,t=Am(r),t=As(t),t!==null)if(e=Xs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=J_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return su=t,null}function hE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KP()){case Cm:return 1;case nE:return 4;case tu:case GP:return 16;case rE:return 536870912;default:return 16}default:return 16}}var jr=null,Nm=null,Cc=null;function dE(){if(Cc)return Cc;var t,e=Nm,n=e.length,r,s="value"in jr?jr.value:jr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Cc=s.slice(t,1<r?1-r:void 0)}function bc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tc(){return!0}function mv(){return!1}function qt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?tc:mv,this.isPropagationStopped=mv,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tc)},persist:function(){},isPersistent:tc}),e}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},km=qt(lo),dl=je({},lo,{view:0,detail:0}),a2=qt(dl),_d,Ed,Ho,th=je({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ho&&(Ho&&t.type==="mousemove"?(_d=t.screenX-Ho.screenX,Ed=t.screenY-Ho.screenY):Ed=_d=0,Ho=t),_d)},movementY:function(t){return"movementY"in t?t.movementY:Ed}}),gv=qt(th),l2=je({},th,{dataTransfer:0}),c2=qt(l2),u2=je({},dl,{relatedTarget:0}),Td=qt(u2),h2=je({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),d2=qt(h2),f2=je({},lo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),p2=qt(f2),m2=je({},lo,{data:0}),yv=qt(m2),g2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=v2[t])?!!e[t]:!1}function jm(){return x2}var w2=je({},dl,{key:function(t){if(t.key){var e=g2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?y2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jm,charCode:function(t){return t.type==="keypress"?bc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_2=qt(w2),E2=je({},th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vv=qt(E2),T2=je({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jm}),S2=qt(T2),I2=je({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),A2=qt(I2),C2=je({},th,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),b2=qt(C2),P2=[9,13,27,32],Dm=ir&&"CompositionEvent"in window,ca=null;ir&&"documentMode"in document&&(ca=document.documentMode);var R2=ir&&"TextEvent"in window&&!ca,fE=ir&&(!Dm||ca&&8<ca&&11>=ca),xv=" ",wv=!1;function pE(t,e){switch(t){case"keyup":return P2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pi=!1;function N2(t,e){switch(t){case"compositionend":return mE(e);case"keypress":return e.which!==32?null:(wv=!0,xv);case"textInput":return t=e.data,t===xv&&wv?null:t;default:return null}}function k2(t,e){if(pi)return t==="compositionend"||!Dm&&pE(t,e)?(t=dE(),Cc=Nm=jr=null,pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fE&&e.locale!=="ko"?null:e.data;default:return null}}var j2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _v(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!j2[t.type]:e==="textarea"}function gE(t,e,n,r){K_(r),e=iu(e,"onChange"),0<e.length&&(n=new km("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ua=null,Va=null;function D2(t){CE(t,0)}function nh(t){var e=yi(t);if(U_(e))return t}function V2(t,e){if(t==="change")return e}var yE=!1;if(ir){var Sd;if(ir){var Id="oninput"in document;if(!Id){var Ev=document.createElement("div");Ev.setAttribute("oninput","return;"),Id=typeof Ev.oninput=="function"}Sd=Id}else Sd=!1;yE=Sd&&(!document.documentMode||9<document.documentMode)}function Tv(){ua&&(ua.detachEvent("onpropertychange",vE),Va=ua=null)}function vE(t){if(t.propertyName==="value"&&nh(Va)){var e=[];gE(e,Va,t,Am(t)),X_(D2,e)}}function M2(t,e,n){t==="focusin"?(Tv(),ua=e,Va=n,ua.attachEvent("onpropertychange",vE)):t==="focusout"&&Tv()}function L2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nh(Va)}function O2(t,e){if(t==="click")return nh(e)}function F2(t,e){if(t==="input"||t==="change")return nh(e)}function U2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wn=typeof Object.is=="function"?Object.is:U2;function Ma(t,e){if(wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Tf.call(e,s)||!wn(t[s],e[s]))return!1}return!0}function Sv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Iv(t,e){var n=Sv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sv(n)}}function xE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wE(){for(var t=window,e=Jc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jc(t.document)}return e}function Vm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function B2(t){var e=wE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xE(n.ownerDocument.documentElement,n)){if(r!==null&&Vm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Iv(n,i);var o=Iv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var z2=ir&&"documentMode"in document&&11>=document.documentMode,mi=null,zf=null,ha=null,$f=!1;function Av(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$f||mi==null||mi!==Jc(r)||(r=mi,"selectionStart"in r&&Vm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ha&&Ma(ha,r)||(ha=r,r=iu(zf,"onSelect"),0<r.length&&(e=new km("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mi)))}function nc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gi={animationend:nc("Animation","AnimationEnd"),animationiteration:nc("Animation","AnimationIteration"),animationstart:nc("Animation","AnimationStart"),transitionend:nc("Transition","TransitionEnd")},Ad={},_E={};ir&&(_E=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function rh(t){if(Ad[t])return Ad[t];if(!gi[t])return t;var e=gi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _E)return Ad[t]=e[n];return t}var EE=rh("animationend"),TE=rh("animationiteration"),SE=rh("animationstart"),IE=rh("transitionend"),AE=new Map,Cv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(t,e){AE.set(t,e),Ys(e,[t])}for(var Cd=0;Cd<Cv.length;Cd++){var bd=Cv[Cd],$2=bd.toLowerCase(),H2=bd[0].toUpperCase()+bd.slice(1);as($2,"on"+H2)}as(EE,"onAnimationEnd");as(TE,"onAnimationIteration");as(SE,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(IE,"onTransitionEnd");zi("onMouseEnter",["mouseout","mouseover"]);zi("onMouseLeave",["mouseout","mouseover"]);zi("onPointerEnter",["pointerout","pointerover"]);zi("onPointerLeave",["pointerout","pointerover"]);Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zo));function bv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$P(r,e,void 0,t),t.currentTarget=null}function CE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,h=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;bv(s,a,h),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,h=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;bv(s,a,h),i=l}}}if(eu)throw t=Of,eu=!1,Of=null,t}function Te(t,e){var n=e[Gf];n===void 0&&(n=e[Gf]=new Set);var r=t+"__bubble";n.has(r)||(bE(e,t,2,!1),n.add(r))}function Pd(t,e,n){var r=0;e&&(r|=4),bE(n,t,r,e)}var rc="_reactListening"+Math.random().toString(36).slice(2);function La(t){if(!t[rc]){t[rc]=!0,V_.forEach(function(n){n!=="selectionchange"&&(W2.has(n)||Pd(n,!1,t),Pd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rc]||(e[rc]=!0,Pd("selectionchange",!1,e))}}function bE(t,e,n,r){switch(hE(e)){case 1:var s=i2;break;case 4:s=o2;break;default:s=Rm}n=s.bind(null,e,n,t),s=void 0,!Lf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Rd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=As(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}X_(function(){var h=i,d=Am(n),f=[];e:{var m=AE.get(t);if(m!==void 0){var y=km,T=t;switch(t){case"keypress":if(bc(n)===0)break e;case"keydown":case"keyup":y=_2;break;case"focusin":T="focus",y=Td;break;case"focusout":T="blur",y=Td;break;case"beforeblur":case"afterblur":y=Td;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=gv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=c2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=S2;break;case EE:case TE:case SE:y=d2;break;case IE:y=A2;break;case"scroll":y=a2;break;case"wheel":y=b2;break;case"copy":case"cut":case"paste":y=p2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=vv}var A=(e&4)!==0,R=!A&&t==="scroll",w=A?m!==null?m+"Capture":null:m;A=[];for(var x=h,E;x!==null;){E=x;var k=E.stateNode;if(E.tag===5&&k!==null&&(E=k,w!==null&&(k=Na(x,w),k!=null&&A.push(Oa(x,k,E)))),R)break;x=x.return}0<A.length&&(m=new y(m,T,null,n,d),f.push({event:m,listeners:A}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==Vf&&(T=n.relatedTarget||n.fromElement)&&(As(T)||T[or]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(T=n.relatedTarget||n.toElement,y=h,T=T?As(T):null,T!==null&&(R=Xs(T),T!==R||T.tag!==5&&T.tag!==6)&&(T=null)):(y=null,T=h),y!==T)){if(A=gv,k="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(A=vv,k="onPointerLeave",w="onPointerEnter",x="pointer"),R=y==null?m:yi(y),E=T==null?m:yi(T),m=new A(k,x+"leave",y,n,d),m.target=R,m.relatedTarget=E,k=null,As(d)===h&&(A=new A(w,x+"enter",T,n,d),A.target=E,A.relatedTarget=R,k=A),R=k,y&&T)t:{for(A=y,w=T,x=0,E=A;E;E=ai(E))x++;for(E=0,k=w;k;k=ai(k))E++;for(;0<x-E;)A=ai(A),x--;for(;0<E-x;)w=ai(w),E--;for(;x--;){if(A===w||w!==null&&A===w.alternate)break t;A=ai(A),w=ai(w)}A=null}else A=null;y!==null&&Pv(f,m,y,A,!1),T!==null&&R!==null&&Pv(f,R,T,A,!0)}}e:{if(m=h?yi(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var D=V2;else if(_v(m))if(yE)D=F2;else{D=L2;var M=M2}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=O2);if(D&&(D=D(t,h))){gE(f,D,n,d);break e}M&&M(t,m,h),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&Rf(m,"number",m.value)}switch(M=h?yi(h):window,t){case"focusin":(_v(M)||M.contentEditable==="true")&&(mi=M,zf=h,ha=null);break;case"focusout":ha=zf=mi=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,Av(f,n,d);break;case"selectionchange":if(z2)break;case"keydown":case"keyup":Av(f,n,d)}var S;if(Dm)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else pi?pE(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(fE&&n.locale!=="ko"&&(pi||v!=="onCompositionStart"?v==="onCompositionEnd"&&pi&&(S=dE()):(jr=d,Nm="value"in jr?jr.value:jr.textContent,pi=!0)),M=iu(h,v),0<M.length&&(v=new yv(v,t,null,n,d),f.push({event:v,listeners:M}),S?v.data=S:(S=mE(n),S!==null&&(v.data=S)))),(S=R2?N2(t,n):k2(t,n))&&(h=iu(h,"onBeforeInput"),0<h.length&&(d=new yv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:h}),d.data=S))}CE(f,e)})}function Oa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function iu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Na(t,n),i!=null&&r.unshift(Oa(t,i,s)),i=Na(t,e),i!=null&&r.push(Oa(t,i,s))),t=t.return}return r}function ai(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,h=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&h!==null&&(a=h,s?(l=Na(n,i),l!=null&&o.unshift(Oa(n,l,a))):s||(l=Na(n,i),l!=null&&o.push(Oa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var q2=/\r\n?/g,K2=/\u0000|\uFFFD/g;function Rv(t){return(typeof t=="string"?t:""+t).replace(q2,`
`).replace(K2,"")}function sc(t,e,n){if(e=Rv(e),Rv(t)!==e&&n)throw Error($(425))}function ou(){}var Hf=null,Wf=null;function qf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kf=typeof setTimeout=="function"?setTimeout:void 0,G2=typeof clearTimeout=="function"?clearTimeout:void 0,Nv=typeof Promise=="function"?Promise:void 0,Q2=typeof queueMicrotask=="function"?queueMicrotask:typeof Nv<"u"?function(t){return Nv.resolve(null).then(t).catch(Y2)}:Kf;function Y2(t){setTimeout(function(){throw t})}function Nd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Da(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Da(e)}function Fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var co=Math.random().toString(36).slice(2),Nn="__reactFiber$"+co,Fa="__reactProps$"+co,or="__reactContainer$"+co,Gf="__reactEvents$"+co,X2="__reactListeners$"+co,J2="__reactHandles$"+co;function As(t){var e=t[Nn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[or]||n[Nn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kv(t);t!==null;){if(n=t[Nn])return n;t=kv(t)}return e}t=n,n=t.parentNode}return null}function fl(t){return t=t[Nn]||t[or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function sh(t){return t[Fa]||null}var Qf=[],vi=-1;function ls(t){return{current:t}}function Ie(t){0>vi||(t.current=Qf[vi],Qf[vi]=null,vi--)}function _e(t,e){vi++,Qf[vi]=t.current,t.current=e}var Xr={},xt=ls(Xr),Dt=ls(!1),Fs=Xr;function $i(t,e){var n=t.type.contextTypes;if(!n)return Xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Vt(t){return t=t.childContextTypes,t!=null}function au(){Ie(Dt),Ie(xt)}function jv(t,e,n){if(xt.current!==Xr)throw Error($(168));_e(xt,e),_e(Dt,n)}function PE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,MP(t)||"Unknown",s));return je({},n,r)}function lu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,Fs=xt.current,_e(xt,t),_e(Dt,Dt.current),!0}function Dv(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=PE(t,e,Fs),r.__reactInternalMemoizedMergedChildContext=t,Ie(Dt),Ie(xt),_e(xt,t)):Ie(Dt),_e(Dt,n)}var Jn=null,ih=!1,kd=!1;function RE(t){Jn===null?Jn=[t]:Jn.push(t)}function Z2(t){ih=!0,RE(t)}function cs(){if(!kd&&Jn!==null){kd=!0;var t=0,e=ve;try{var n=Jn;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jn=null,ih=!1}catch(s){throw Jn!==null&&(Jn=Jn.slice(t+1)),tE(Cm,cs),s}finally{ve=e,kd=!1}}return null}var xi=[],wi=0,cu=null,uu=0,Yt=[],Xt=0,Us=null,Zn=1,er="";function ws(t,e){xi[wi++]=uu,xi[wi++]=cu,cu=t,uu=e}function NE(t,e,n){Yt[Xt++]=Zn,Yt[Xt++]=er,Yt[Xt++]=Us,Us=t;var r=Zn;t=er;var s=32-yn(r)-1;r&=~(1<<s),n+=1;var i=32-yn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Zn=1<<32-yn(e)+s|n<<s|r,er=i+t}else Zn=1<<i|n<<s|r,er=t}function Mm(t){t.return!==null&&(ws(t,1),NE(t,1,0))}function Lm(t){for(;t===cu;)cu=xi[--wi],xi[wi]=null,uu=xi[--wi],xi[wi]=null;for(;t===Us;)Us=Yt[--Xt],Yt[Xt]=null,er=Yt[--Xt],Yt[Xt]=null,Zn=Yt[--Xt],Yt[Xt]=null}var zt=null,Ut=null,Ae=!1,pn=null;function kE(t,e){var n=Zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Vv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zt=t,Ut=Fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zt=t,Ut=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Us!==null?{id:Zn,overflow:er}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zt=t,Ut=null,!0):!1;default:return!1}}function Yf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xf(t){if(Ae){var e=Ut;if(e){var n=e;if(!Vv(t,e)){if(Yf(t))throw Error($(418));e=Fr(n.nextSibling);var r=zt;e&&Vv(t,e)?kE(r,n):(t.flags=t.flags&-4097|2,Ae=!1,zt=t)}}else{if(Yf(t))throw Error($(418));t.flags=t.flags&-4097|2,Ae=!1,zt=t}}}function Mv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zt=t}function ic(t){if(t!==zt)return!1;if(!Ae)return Mv(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qf(t.type,t.memoizedProps)),e&&(e=Ut)){if(Yf(t))throw jE(),Error($(418));for(;e;)kE(t,e),e=Fr(e.nextSibling)}if(Mv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ut=Fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ut=null}}else Ut=zt?Fr(t.stateNode.nextSibling):null;return!0}function jE(){for(var t=Ut;t;)t=Fr(t.nextSibling)}function Hi(){Ut=zt=null,Ae=!1}function Om(t){pn===null?pn=[t]:pn.push(t)}var eR=gr.ReactCurrentBatchConfig;function Wo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function oc(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lv(t){var e=t._init;return e(t._payload)}function DE(t){function e(w,x){if(t){var E=w.deletions;E===null?(w.deletions=[x],w.flags|=16):E.push(x)}}function n(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function s(w,x){return w=$r(w,x),w.index=0,w.sibling=null,w}function i(w,x,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<x?(w.flags|=2,x):E):(w.flags|=2,x)):(w.flags|=1048576,x)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,x,E,k){return x===null||x.tag!==6?(x=Fd(E,w.mode,k),x.return=w,x):(x=s(x,E),x.return=w,x)}function l(w,x,E,k){var D=E.type;return D===fi?d(w,x,E.props.children,k,E.key):x!==null&&(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Sr&&Lv(D)===x.type)?(k=s(x,E.props),k.ref=Wo(w,x,E),k.return=w,k):(k=Vc(E.type,E.key,E.props,null,w.mode,k),k.ref=Wo(w,x,E),k.return=w,k)}function h(w,x,E,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=Ud(E,w.mode,k),x.return=w,x):(x=s(x,E.children||[]),x.return=w,x)}function d(w,x,E,k,D){return x===null||x.tag!==7?(x=Ds(E,w.mode,k,D),x.return=w,x):(x=s(x,E),x.return=w,x)}function f(w,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Fd(""+x,w.mode,E),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ql:return E=Vc(x.type,x.key,x.props,null,w.mode,E),E.ref=Wo(w,null,x),E.return=w,E;case di:return x=Ud(x,w.mode,E),x.return=w,x;case Sr:var k=x._init;return f(w,k(x._payload),E)}if(Xo(x)||Uo(x))return x=Ds(x,w.mode,E,null),x.return=w,x;oc(w,x)}return null}function m(w,x,E,k){var D=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return D!==null?null:a(w,x,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ql:return E.key===D?l(w,x,E,k):null;case di:return E.key===D?h(w,x,E,k):null;case Sr:return D=E._init,m(w,x,D(E._payload),k)}if(Xo(E)||Uo(E))return D!==null?null:d(w,x,E,k,null);oc(w,E)}return null}function y(w,x,E,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(E)||null,a(x,w,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ql:return w=w.get(k.key===null?E:k.key)||null,l(x,w,k,D);case di:return w=w.get(k.key===null?E:k.key)||null,h(x,w,k,D);case Sr:var M=k._init;return y(w,x,E,M(k._payload),D)}if(Xo(k)||Uo(k))return w=w.get(E)||null,d(x,w,k,D,null);oc(x,k)}return null}function T(w,x,E,k){for(var D=null,M=null,S=x,v=x=0,I=null;S!==null&&v<E.length;v++){S.index>v?(I=S,S=null):I=S.sibling;var C=m(w,S,E[v],k);if(C===null){S===null&&(S=I);break}t&&S&&C.alternate===null&&e(w,S),x=i(C,x,v),M===null?D=C:M.sibling=C,M=C,S=I}if(v===E.length)return n(w,S),Ae&&ws(w,v),D;if(S===null){for(;v<E.length;v++)S=f(w,E[v],k),S!==null&&(x=i(S,x,v),M===null?D=S:M.sibling=S,M=S);return Ae&&ws(w,v),D}for(S=r(w,S);v<E.length;v++)I=y(S,w,v,E[v],k),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?v:I.key),x=i(I,x,v),M===null?D=I:M.sibling=I,M=I);return t&&S.forEach(function(N){return e(w,N)}),Ae&&ws(w,v),D}function A(w,x,E,k){var D=Uo(E);if(typeof D!="function")throw Error($(150));if(E=D.call(E),E==null)throw Error($(151));for(var M=D=null,S=x,v=x=0,I=null,C=E.next();S!==null&&!C.done;v++,C=E.next()){S.index>v?(I=S,S=null):I=S.sibling;var N=m(w,S,C.value,k);if(N===null){S===null&&(S=I);break}t&&S&&N.alternate===null&&e(w,S),x=i(N,x,v),M===null?D=N:M.sibling=N,M=N,S=I}if(C.done)return n(w,S),Ae&&ws(w,v),D;if(S===null){for(;!C.done;v++,C=E.next())C=f(w,C.value,k),C!==null&&(x=i(C,x,v),M===null?D=C:M.sibling=C,M=C);return Ae&&ws(w,v),D}for(S=r(w,S);!C.done;v++,C=E.next())C=y(S,w,v,C.value,k),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?v:C.key),x=i(C,x,v),M===null?D=C:M.sibling=C,M=C);return t&&S.forEach(function(j){return e(w,j)}),Ae&&ws(w,v),D}function R(w,x,E,k){if(typeof E=="object"&&E!==null&&E.type===fi&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ql:e:{for(var D=E.key,M=x;M!==null;){if(M.key===D){if(D=E.type,D===fi){if(M.tag===7){n(w,M.sibling),x=s(M,E.props.children),x.return=w,w=x;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Sr&&Lv(D)===M.type){n(w,M.sibling),x=s(M,E.props),x.ref=Wo(w,M,E),x.return=w,w=x;break e}n(w,M);break}else e(w,M);M=M.sibling}E.type===fi?(x=Ds(E.props.children,w.mode,k,E.key),x.return=w,w=x):(k=Vc(E.type,E.key,E.props,null,w.mode,k),k.ref=Wo(w,x,E),k.return=w,w=k)}return o(w);case di:e:{for(M=E.key;x!==null;){if(x.key===M)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){n(w,x.sibling),x=s(x,E.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else e(w,x);x=x.sibling}x=Ud(E,w.mode,k),x.return=w,w=x}return o(w);case Sr:return M=E._init,R(w,x,M(E._payload),k)}if(Xo(E))return T(w,x,E,k);if(Uo(E))return A(w,x,E,k);oc(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,x!==null&&x.tag===6?(n(w,x.sibling),x=s(x,E),x.return=w,w=x):(n(w,x),x=Fd(E,w.mode,k),x.return=w,w=x),o(w)):n(w,x)}return R}var Wi=DE(!0),VE=DE(!1),hu=ls(null),du=null,_i=null,Fm=null;function Um(){Fm=_i=du=null}function Bm(t){var e=hu.current;Ie(hu),t._currentValue=e}function Jf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vi(t,e){du=t,Fm=_i=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kt=!0),t.firstContext=null)}function rn(t){var e=t._currentValue;if(Fm!==t)if(t={context:t,memoizedValue:e,next:null},_i===null){if(du===null)throw Error($(308));_i=t,du.dependencies={lanes:0,firstContext:t}}else _i=_i.next=t;return e}var Cs=null;function zm(t){Cs===null?Cs=[t]:Cs.push(t)}function ME(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,zm(e)):(n.next=s.next,s.next=n),e.interleaved=n,ar(t,r)}function ar(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ir=!1;function $m(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ar(t,n)}return s=r.interleaved,s===null?(e.next=e,zm(r)):(e.next=s.next,s.next=e),r.interleaved=e,ar(t,n)}function Pc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bm(t,n)}}function Ov(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fu(t,e,n,r){var s=t.updateQueue;Ir=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,h=l.next;l.next=null,o===null?i=h:o.next=h,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=h:a.next=h,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=h=l=null,a=i;do{var m=a.lane,y=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,A=a;switch(m=e,y=n,A.tag){case 1:if(T=A.payload,typeof T=="function"){f=T.call(y,f,m);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=A.payload,m=typeof T=="function"?T.call(y,f,m):T,m==null)break e;f=je({},f,m);break e;case 2:Ir=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(h=d=y,l=f):d=d.next=y,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=h,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);zs|=o,t.lanes=o,t.memoizedState=f}}function Fv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var pl={},jn=ls(pl),Ua=ls(pl),Ba=ls(pl);function bs(t){if(t===pl)throw Error($(174));return t}function Hm(t,e){switch(_e(Ba,e),_e(Ua,t),_e(jn,pl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kf(e,t)}Ie(jn),_e(jn,e)}function qi(){Ie(jn),Ie(Ua),Ie(Ba)}function OE(t){bs(Ba.current);var e=bs(jn.current),n=kf(e,t.type);e!==n&&(_e(Ua,t),_e(jn,n))}function Wm(t){Ua.current===t&&(Ie(jn),Ie(Ua))}var Re=ls(0);function pu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jd=[];function qm(){for(var t=0;t<jd.length;t++)jd[t]._workInProgressVersionPrimary=null;jd.length=0}var Rc=gr.ReactCurrentDispatcher,Dd=gr.ReactCurrentBatchConfig,Bs=0,ke=null,Ge=null,Je=null,mu=!1,da=!1,za=0,tR=0;function dt(){throw Error($(321))}function Km(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wn(t[n],e[n]))return!1;return!0}function Gm(t,e,n,r,s,i){if(Bs=i,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rc.current=t===null||t.memoizedState===null?iR:oR,t=n(r,s),da){i=0;do{if(da=!1,za=0,25<=i)throw Error($(301));i+=1,Je=Ge=null,e.updateQueue=null,Rc.current=aR,t=n(r,s)}while(da)}if(Rc.current=gu,e=Ge!==null&&Ge.next!==null,Bs=0,Je=Ge=ke=null,mu=!1,e)throw Error($(300));return t}function Qm(){var t=za!==0;return za=0,t}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?ke.memoizedState=Je=t:Je=Je.next=t,Je}function sn(){if(Ge===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var e=Je===null?ke.memoizedState:Je.next;if(e!==null)Je=e,Ge=t;else{if(t===null)throw Error($(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Je===null?ke.memoizedState=Je=t:Je=Je.next=t}return Je}function $a(t,e){return typeof e=="function"?e(t):e}function Vd(t){var e=sn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=Ge,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,h=i;do{var d=h.lane;if((Bs&d)===d)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var f={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ke.lanes|=d,zs|=d}h=h.next}while(h!==null&&h!==i);l===null?o=r:l.next=a,wn(r,e.memoizedState)||(kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ke.lanes|=i,zs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Md(t){var e=sn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);wn(i,e.memoizedState)||(kt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function FE(){}function UE(t,e){var n=ke,r=sn(),s=e(),i=!wn(r.memoizedState,s);if(i&&(r.memoizedState=s,kt=!0),r=r.queue,Ym($E.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,Ha(9,zE.bind(null,n,r,s,e),void 0,null),Ze===null)throw Error($(349));Bs&30||BE(n,e,s)}return s}function BE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zE(t,e,n,r){e.value=n,e.getSnapshot=r,HE(e)&&WE(t)}function $E(t,e,n){return n(function(){HE(e)&&WE(t)})}function HE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wn(t,n)}catch{return!0}}function WE(t){var e=ar(t,1);e!==null&&vn(e,t,1,-1)}function Uv(t){var e=bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:t},e.queue=t,t=t.dispatch=sR.bind(null,ke,t),[e.memoizedState,t]}function Ha(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qE(){return sn().memoizedState}function Nc(t,e,n,r){var s=bn();ke.flags|=t,s.memoizedState=Ha(1|e,n,void 0,r===void 0?null:r)}function oh(t,e,n,r){var s=sn();r=r===void 0?null:r;var i=void 0;if(Ge!==null){var o=Ge.memoizedState;if(i=o.destroy,r!==null&&Km(r,o.deps)){s.memoizedState=Ha(e,n,i,r);return}}ke.flags|=t,s.memoizedState=Ha(1|e,n,i,r)}function Bv(t,e){return Nc(8390656,8,t,e)}function Ym(t,e){return oh(2048,8,t,e)}function KE(t,e){return oh(4,2,t,e)}function GE(t,e){return oh(4,4,t,e)}function QE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YE(t,e,n){return n=n!=null?n.concat([t]):null,oh(4,4,QE.bind(null,e,t),n)}function Xm(){}function XE(t,e){var n=sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Km(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function JE(t,e){var n=sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Km(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ZE(t,e,n){return Bs&21?(wn(n,e)||(n=sE(),ke.lanes|=n,zs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kt=!0),t.memoizedState=n)}function nR(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=Dd.transition;Dd.transition={};try{t(!1),e()}finally{ve=n,Dd.transition=r}}function eT(){return sn().memoizedState}function rR(t,e,n){var r=zr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tT(t))nT(e,n);else if(n=ME(t,e,n,r),n!==null){var s=It();vn(n,t,r,s),rT(n,e,r)}}function sR(t,e,n){var r=zr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tT(t))nT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,wn(a,o)){var l=e.interleaved;l===null?(s.next=s,zm(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=ME(t,e,s,r),n!==null&&(s=It(),vn(n,t,r,s),rT(n,e,r))}}function tT(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function nT(t,e){da=mu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bm(t,n)}}var gu={readContext:rn,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},iR={readContext:rn,useCallback:function(t,e){return bn().memoizedState=[t,e===void 0?null:e],t},useContext:rn,useEffect:Bv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Nc(4194308,4,QE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Nc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nc(4,2,t,e)},useMemo:function(t,e){var n=bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=bn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rR.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=bn();return t={current:t},e.memoizedState=t},useState:Uv,useDebugValue:Xm,useDeferredValue:function(t){return bn().memoizedState=t},useTransition:function(){var t=Uv(!1),e=t[0];return t=nR.bind(null,t[1]),bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ke,s=bn();if(Ae){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),Ze===null)throw Error($(349));Bs&30||BE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Bv($E.bind(null,r,i,t),[t]),r.flags|=2048,Ha(9,zE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=bn(),e=Ze.identifierPrefix;if(Ae){var n=er,r=Zn;n=(r&~(1<<32-yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=za++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oR={readContext:rn,useCallback:XE,useContext:rn,useEffect:Ym,useImperativeHandle:YE,useInsertionEffect:KE,useLayoutEffect:GE,useMemo:JE,useReducer:Vd,useRef:qE,useState:function(){return Vd($a)},useDebugValue:Xm,useDeferredValue:function(t){var e=sn();return ZE(e,Ge.memoizedState,t)},useTransition:function(){var t=Vd($a)[0],e=sn().memoizedState;return[t,e]},useMutableSource:FE,useSyncExternalStore:UE,useId:eT,unstable_isNewReconciler:!1},aR={readContext:rn,useCallback:XE,useContext:rn,useEffect:Ym,useImperativeHandle:YE,useInsertionEffect:KE,useLayoutEffect:GE,useMemo:JE,useReducer:Md,useRef:qE,useState:function(){return Md($a)},useDebugValue:Xm,useDeferredValue:function(t){var e=sn();return Ge===null?e.memoizedState=t:ZE(e,Ge.memoizedState,t)},useTransition:function(){var t=Md($a)[0],e=sn().memoizedState;return[t,e]},useMutableSource:FE,useSyncExternalStore:UE,useId:eT,unstable_isNewReconciler:!1};function hn(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ah={isMounted:function(t){return(t=t._reactInternals)?Xs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=It(),s=zr(t),i=rr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ur(t,i,s),e!==null&&(vn(e,t,s,r),Pc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=It(),s=zr(t),i=rr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ur(t,i,s),e!==null&&(vn(e,t,s,r),Pc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=It(),r=zr(t),s=rr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ur(t,s,r),e!==null&&(vn(e,t,r,n),Pc(e,t,r))}};function zv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ma(n,r)||!Ma(s,i):!0}function sT(t,e,n){var r=!1,s=Xr,i=e.contextType;return typeof i=="object"&&i!==null?i=rn(i):(s=Vt(e)?Fs:xt.current,r=e.contextTypes,i=(r=r!=null)?$i(t,s):Xr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ah,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function $v(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ah.enqueueReplaceState(e,e.state,null)}function ep(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},$m(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=rn(i):(i=Vt(e)?Fs:xt.current,s.context=$i(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Zf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ah.enqueueReplaceState(s,s.state,null),fu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ki(t,e){try{var n="",r=e;do n+=VP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ld(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lR=typeof WeakMap=="function"?WeakMap:Map;function iT(t,e,n){n=rr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vu||(vu=!0,hp=r),tp(t,e)},n}function oT(t,e,n){n=rr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){tp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){tp(t,e),typeof r!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Hv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=ER.bind(null,t,e,n),e.then(t,t))}function Wv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rr(-1,1),e.tag=2,Ur(n,e,1))),n.lanes|=1),t)}var cR=gr.ReactCurrentOwner,kt=!1;function Tt(t,e,n,r){e.child=t===null?VE(e,null,n,r):Wi(e,t.child,n,r)}function Kv(t,e,n,r,s){n=n.render;var i=e.ref;return Vi(e,s),r=Gm(t,e,n,r,i,s),n=Qm(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,lr(t,e,s)):(Ae&&n&&Mm(e),e.flags|=1,Tt(t,e,r,s),e.child)}function Gv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ig(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,aT(t,e,i,r,s)):(t=Vc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ma,n(o,r)&&t.ref===e.ref)return lr(t,e,s)}return e.flags|=1,t=$r(i,r),t.ref=e.ref,t.return=e,e.child=t}function aT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ma(i,r)&&t.ref===e.ref)if(kt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(kt=!0);else return e.lanes=t.lanes,lr(t,e,s)}return np(t,e,n,r,s)}function lT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Ti,Ft),Ft|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(Ti,Ft),Ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,_e(Ti,Ft),Ft|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,_e(Ti,Ft),Ft|=r;return Tt(t,e,s,n),e.child}function cT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function np(t,e,n,r,s){var i=Vt(n)?Fs:xt.current;return i=$i(e,i),Vi(e,s),n=Gm(t,e,n,r,i,s),r=Qm(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,lr(t,e,s)):(Ae&&r&&Mm(e),e.flags|=1,Tt(t,e,n,s),e.child)}function Qv(t,e,n,r,s){if(Vt(n)){var i=!0;lu(e)}else i=!1;if(Vi(e,s),e.stateNode===null)kc(t,e),sT(e,n,r),ep(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=rn(h):(h=Vt(n)?Fs:xt.current,h=$i(e,h));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==h)&&$v(e,o,r,h),Ir=!1;var m=e.memoizedState;o.state=m,fu(e,r,o,s),l=e.memoizedState,a!==r||m!==l||Dt.current||Ir?(typeof d=="function"&&(Zf(e,n,d,r),l=e.memoizedState),(a=Ir||zv(e,n,a,r,m,l,h))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=h,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,LE(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:hn(e.type,a),o.props=h,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=rn(l):(l=Vt(n)?Fs:xt.current,l=$i(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&$v(e,o,r,l),Ir=!1,m=e.memoizedState,o.state=m,fu(e,r,o,s);var T=e.memoizedState;a!==f||m!==T||Dt.current||Ir?(typeof y=="function"&&(Zf(e,n,y,r),T=e.memoizedState),(h=Ir||zv(e,n,h,r,m,T,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=h):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return rp(t,e,n,r,i,s)}function rp(t,e,n,r,s,i){cT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Dv(e,n,!1),lr(t,e,i);r=e.stateNode,cR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Wi(e,t.child,null,i),e.child=Wi(e,null,a,i)):Tt(t,e,a,i),e.memoizedState=r.state,s&&Dv(e,n,!0),e.child}function uT(t){var e=t.stateNode;e.pendingContext?jv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jv(t,e.context,!1),Hm(t,e.containerInfo)}function Yv(t,e,n,r,s){return Hi(),Om(s),e.flags|=256,Tt(t,e,n,r),e.child}var sp={dehydrated:null,treeContext:null,retryLane:0};function ip(t){return{baseLanes:t,cachePool:null,transitions:null}}function hT(t,e,n){var r=e.pendingProps,s=Re.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),_e(Re,s&1),t===null)return Xf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=uh(o,r,0,null),t=Ds(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ip(n),e.memoizedState=sp,t):Jm(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return uR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$r(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=$r(a,i):(i=Ds(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ip(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=sp,r}return i=t.child,t=i.sibling,r=$r(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jm(t,e){return e=uh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ac(t,e,n,r){return r!==null&&Om(r),Wi(e,t.child,null,n),t=Jm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ld(Error($(422))),ac(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=uh({mode:"visible",children:r.children},s,0,null),i=Ds(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Wi(e,t.child,null,o),e.child.memoizedState=ip(o),e.memoizedState=sp,i);if(!(e.mode&1))return ac(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error($(419)),r=Ld(i,r,void 0),ac(t,e,o,r)}if(a=(o&t.childLanes)!==0,kt||a){if(r=Ze,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ar(t,s),vn(r,t,s,-1))}return sg(),r=Ld(Error($(421))),ac(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=TR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ut=Fr(s.nextSibling),zt=e,Ae=!0,pn=null,t!==null&&(Yt[Xt++]=Zn,Yt[Xt++]=er,Yt[Xt++]=Us,Zn=t.id,er=t.overflow,Us=e),e=Jm(e,r.children),e.flags|=4096,e)}function Xv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jf(t.return,e,n)}function Od(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function dT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Tt(t,e,r.children,n),r=Re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xv(t,n,e);else if(t.tag===19)Xv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(Re,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&pu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Od(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&pu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Od(e,!0,n,null,i);break;case"together":Od(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function lr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=$r(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$r(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hR(t,e,n){switch(e.tag){case 3:uT(e),Hi();break;case 5:OE(e);break;case 1:Vt(e.type)&&lu(e);break;case 4:Hm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;_e(hu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(Re,Re.current&1),e.flags|=128,null):n&e.child.childLanes?hT(t,e,n):(_e(Re,Re.current&1),t=lr(t,e,n),t!==null?t.sibling:null);_e(Re,Re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_e(Re,Re.current),r)break;return null;case 22:case 23:return e.lanes=0,lT(t,e,n)}return lr(t,e,n)}var fT,op,pT,mT;fT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};op=function(){};pT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,bs(jn.current);var i=null;switch(n){case"input":s=bf(t,s),r=bf(t,r),i=[];break;case"select":s=je({},s,{value:void 0}),r=je({},r,{value:void 0}),i=[];break;case"textarea":s=Nf(t,s),r=Nf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ou)}jf(n,r);var o;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var a=s[h];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Pa.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var l=r[h];if(a=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&l!==a&&(l!=null||a!=null))if(h==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(h,n)),n=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Pa.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&Te("scroll",t),i||a===l||(i=[])):(i=i||[]).push(h,l))}n&&(i=i||[]).push("style",n);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};mT=function(t,e,n,r){n!==r&&(e.flags|=4)};function qo(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dR(t,e,n){var r=e.pendingProps;switch(Lm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return Vt(e.type)&&au(),ft(e),null;case 3:return r=e.stateNode,qi(),Ie(Dt),Ie(xt),qm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ic(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pn!==null&&(pp(pn),pn=null))),op(t,e),ft(e),null;case 5:Wm(e);var s=bs(Ba.current);if(n=e.type,t!==null&&e.stateNode!=null)pT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return ft(e),null}if(t=bs(jn.current),ic(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Nn]=e,r[Fa]=i,t=(e.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(s=0;s<Zo.length;s++)Te(Zo[s],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":ov(r,i),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Te("invalid",r);break;case"textarea":lv(r,i),Te("invalid",r)}jf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&sc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&sc(r.textContent,a,t),s=["children",""+a]):Pa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Te("scroll",r)}switch(n){case"input":Yl(r),av(r,i,!0);break;case"textarea":Yl(r),cv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ou)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Nn]=e,t[Fa]=r,fT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Df(n,r),n){case"dialog":Te("cancel",t),Te("close",t),s=r;break;case"iframe":case"object":case"embed":Te("load",t),s=r;break;case"video":case"audio":for(s=0;s<Zo.length;s++)Te(Zo[s],t);s=r;break;case"source":Te("error",t),s=r;break;case"img":case"image":case"link":Te("error",t),Te("load",t),s=r;break;case"details":Te("toggle",t),s=r;break;case"input":ov(t,r),s=bf(t,r),Te("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=je({},r,{value:void 0}),Te("invalid",t);break;case"textarea":lv(t,r),s=Nf(t,r),Te("invalid",t);break;default:s=r}jf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?q_(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&H_(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ra(t,l):typeof l=="number"&&Ra(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pa.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Te("scroll",t):l!=null&&Em(t,i,l,o))}switch(n){case"input":Yl(t),av(t,r,!1);break;case"textarea":Yl(t),cv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ni(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ni(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ou)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ft(e),null;case 6:if(t&&e.stateNode!=null)mT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=bs(Ba.current),bs(jn.current),ic(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nn]=e,(i=r.nodeValue!==n)&&(t=zt,t!==null))switch(t.tag){case 3:sc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nn]=e,e.stateNode=r}return ft(e),null;case 13:if(Ie(Re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Ut!==null&&e.mode&1&&!(e.flags&128))jE(),Hi(),e.flags|=98560,i=!1;else if(i=ic(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Nn]=e}else Hi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ft(e),i=!1}else pn!==null&&(pp(pn),pn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Re.current&1?Qe===0&&(Qe=3):sg())),e.updateQueue!==null&&(e.flags|=4),ft(e),null);case 4:return qi(),op(t,e),t===null&&La(e.stateNode.containerInfo),ft(e),null;case 10:return Bm(e.type._context),ft(e),null;case 17:return Vt(e.type)&&au(),ft(e),null;case 19:if(Ie(Re),i=e.memoizedState,i===null)return ft(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)qo(i,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=pu(t),o!==null){for(e.flags|=128,qo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(Re,Re.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ue()>Gi&&(e.flags|=128,r=!0,qo(i,!1),e.lanes=4194304)}else{if(!r)if(t=pu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ae)return ft(e),null}else 2*Ue()-i.renderingStartTime>Gi&&n!==1073741824&&(e.flags|=128,r=!0,qo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ue(),e.sibling=null,n=Re.current,_e(Re,r?n&1|2:n&1),e):(ft(e),null);case 22:case 23:return rg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ft&1073741824&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function fR(t,e){switch(Lm(e),e.tag){case 1:return Vt(e.type)&&au(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qi(),Ie(Dt),Ie(xt),qm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wm(e),null;case 13:if(Ie(Re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Hi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(Re),null;case 4:return qi(),null;case 10:return Bm(e.type._context),null;case 22:case 23:return rg(),null;case 24:return null;default:return null}}var lc=!1,gt=!1,pR=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Ei(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Le(t,e,r)}else n.current=null}function ap(t,e,n){try{n()}catch(r){Le(t,e,r)}}var Jv=!1;function mR(t,e){if(Hf=ru,t=wE(),Vm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,h=0,d=0,f=t,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++h===s&&(a=o),m===i&&++d===r&&(l=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wf={focusedElem:t,selectionRange:n},ru=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var A=T.memoizedProps,R=T.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?A:hn(e.type,A),R);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(k){Le(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return T=Jv,Jv=!1,T}function fa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ap(e,n,i)}s=s.next}while(s!==r)}}function lh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gT(t){var e=t.alternate;e!==null&&(t.alternate=null,gT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nn],delete e[Fa],delete e[Gf],delete e[X2],delete e[J2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yT(t){return t.tag===5||t.tag===3||t.tag===4}function Zv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ou));else if(r!==4&&(t=t.child,t!==null))for(cp(t,e,n),t=t.sibling;t!==null;)cp(t,e,n),t=t.sibling}function up(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(up(t,e,n),t=t.sibling;t!==null;)up(t,e,n),t=t.sibling}var tt=null,dn=!1;function _r(t,e,n){for(n=n.child;n!==null;)vT(t,e,n),n=n.sibling}function vT(t,e,n){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(eh,n)}catch{}switch(n.tag){case 5:gt||Ei(n,e);case 6:var r=tt,s=dn;tt=null,_r(t,e,n),tt=r,dn=s,tt!==null&&(dn?(t=tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(dn?(t=tt,n=n.stateNode,t.nodeType===8?Nd(t.parentNode,n):t.nodeType===1&&Nd(t,n),Da(t)):Nd(tt,n.stateNode));break;case 4:r=tt,s=dn,tt=n.stateNode.containerInfo,dn=!0,_r(t,e,n),tt=r,dn=s;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ap(n,e,o),s=s.next}while(s!==r)}_r(t,e,n);break;case 1:if(!gt&&(Ei(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Le(n,e,a)}_r(t,e,n);break;case 21:_r(t,e,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,_r(t,e,n),gt=r):_r(t,e,n);break;default:_r(t,e,n)}}function ex(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pR),e.forEach(function(r){var s=SR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tt=a.stateNode,dn=!1;break e;case 3:tt=a.stateNode.containerInfo,dn=!0;break e;case 4:tt=a.stateNode.containerInfo,dn=!0;break e}a=a.return}if(tt===null)throw Error($(160));vT(i,o,s),tt=null,dn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(h){Le(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xT(e,t),e=e.sibling}function xT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cn(e,t),Cn(t),r&4){try{fa(3,t,t.return),lh(3,t)}catch(A){Le(t,t.return,A)}try{fa(5,t,t.return)}catch(A){Le(t,t.return,A)}}break;case 1:cn(e,t),Cn(t),r&512&&n!==null&&Ei(n,n.return);break;case 5:if(cn(e,t),Cn(t),r&512&&n!==null&&Ei(n,n.return),t.flags&32){var s=t.stateNode;try{Ra(s,"")}catch(A){Le(t,t.return,A)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&B_(s,i),Df(a,o);var h=Df(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?q_(s,f):d==="dangerouslySetInnerHTML"?H_(s,f):d==="children"?Ra(s,f):Em(s,d,f,h)}switch(a){case"input":Pf(s,i);break;case"textarea":z_(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Ni(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ni(s,!!i.multiple,i.defaultValue,!0):Ni(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fa]=i}catch(A){Le(t,t.return,A)}}break;case 6:if(cn(e,t),Cn(t),r&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(A){Le(t,t.return,A)}}break;case 3:if(cn(e,t),Cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Da(e.containerInfo)}catch(A){Le(t,t.return,A)}break;case 4:cn(e,t),Cn(t);break;case 13:cn(e,t),Cn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(tg=Ue())),r&4&&ex(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(gt=(h=gt)||d,cn(e,t),gt=h):cn(e,t),Cn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(f=Q=d;Q!==null;){switch(m=Q,y=m.child,m.tag){case 0:case 11:case 14:case 15:fa(4,m,m.return);break;case 1:Ei(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(A){Le(r,n,A)}}break;case 5:Ei(m,m.return);break;case 22:if(m.memoizedState!==null){nx(f);continue}}y!==null?(y.return=m,Q=y):nx(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=W_("display",o))}catch(A){Le(t,t.return,A)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=h?"":f.memoizedProps}catch(A){Le(t,t.return,A)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:cn(e,t),Cn(t),r&4&&ex(t);break;case 21:break;default:cn(e,t),Cn(t)}}function Cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yT(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ra(s,""),r.flags&=-33);var i=Zv(t);up(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Zv(t);cp(t,a,o);break;default:throw Error($(161))}}catch(l){Le(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gR(t,e,n){Q=t,wT(t)}function wT(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||lc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||gt;a=lc;var h=gt;if(lc=o,(gt=l)&&!h)for(Q=s;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?rx(s):l!==null?(l.return=o,Q=l):rx(s);for(;i!==null;)Q=i,wT(i),i=i.sibling;Q=s,lc=a,gt=h}tx(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):tx(t)}}function tx(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gt||lh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:hn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Fv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Da(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}gt||e.flags&512&&lp(e)}catch(m){Le(e,e.return,m)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function nx(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function rx(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lh(4,e)}catch(l){Le(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Le(e,s,l)}}var i=e.return;try{lp(e)}catch(l){Le(e,i,l)}break;case 5:var o=e.return;try{lp(e)}catch(l){Le(e,o,l)}}}catch(l){Le(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var yR=Math.ceil,yu=gr.ReactCurrentDispatcher,Zm=gr.ReactCurrentOwner,en=gr.ReactCurrentBatchConfig,fe=0,Ze=null,He=null,it=0,Ft=0,Ti=ls(0),Qe=0,Wa=null,zs=0,ch=0,eg=0,pa=null,Rt=null,tg=0,Gi=1/0,Xn=null,vu=!1,hp=null,Br=null,cc=!1,Dr=null,xu=0,ma=0,dp=null,jc=-1,Dc=0;function It(){return fe&6?Ue():jc!==-1?jc:jc=Ue()}function zr(t){return t.mode&1?fe&2&&it!==0?it&-it:eR.transition!==null?(Dc===0&&(Dc=sE()),Dc):(t=ve,t!==0||(t=window.event,t=t===void 0?16:hE(t.type)),t):1}function vn(t,e,n,r){if(50<ma)throw ma=0,dp=null,Error($(185));hl(t,n,r),(!(fe&2)||t!==Ze)&&(t===Ze&&(!(fe&2)&&(ch|=n),Qe===4&&Cr(t,it)),Mt(t,r),n===1&&fe===0&&!(e.mode&1)&&(Gi=Ue()+500,ih&&cs()))}function Mt(t,e){var n=t.callbackNode;e2(t,e);var r=nu(t,t===Ze?it:0);if(r===0)n!==null&&dv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&dv(n),e===1)t.tag===0?Z2(sx.bind(null,t)):RE(sx.bind(null,t)),Q2(function(){!(fe&6)&&cs()}),n=null;else{switch(iE(r)){case 1:n=Cm;break;case 4:n=nE;break;case 16:n=tu;break;case 536870912:n=rE;break;default:n=tu}n=bT(n,_T.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _T(t,e){if(jc=-1,Dc=0,fe&6)throw Error($(327));var n=t.callbackNode;if(Mi()&&t.callbackNode!==n)return null;var r=nu(t,t===Ze?it:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wu(t,r);else{e=r;var s=fe;fe|=2;var i=TT();(Ze!==t||it!==e)&&(Xn=null,Gi=Ue()+500,js(t,e));do try{wR();break}catch(a){ET(t,a)}while(!0);Um(),yu.current=i,fe=s,He!==null?e=0:(Ze=null,it=0,e=Qe)}if(e!==0){if(e===2&&(s=Ff(t),s!==0&&(r=s,e=fp(t,s))),e===1)throw n=Wa,js(t,0),Cr(t,r),Mt(t,Ue()),n;if(e===6)Cr(t,r);else{if(s=t.current.alternate,!(r&30)&&!vR(s)&&(e=wu(t,r),e===2&&(i=Ff(t),i!==0&&(r=i,e=fp(t,i))),e===1))throw n=Wa,js(t,0),Cr(t,r),Mt(t,Ue()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:_s(t,Rt,Xn);break;case 3:if(Cr(t,r),(r&130023424)===r&&(e=tg+500-Ue(),10<e)){if(nu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){It(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Kf(_s.bind(null,t,Rt,Xn),e);break}_s(t,Rt,Xn);break;case 4:if(Cr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-yn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yR(r/1960))-r,10<r){t.timeoutHandle=Kf(_s.bind(null,t,Rt,Xn),r);break}_s(t,Rt,Xn);break;case 5:_s(t,Rt,Xn);break;default:throw Error($(329))}}}return Mt(t,Ue()),t.callbackNode===n?_T.bind(null,t):null}function fp(t,e){var n=pa;return t.current.memoizedState.isDehydrated&&(js(t,e).flags|=256),t=wu(t,e),t!==2&&(e=Rt,Rt=n,e!==null&&pp(e)),t}function pp(t){Rt===null?Rt=t:Rt.push.apply(Rt,t)}function vR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!wn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cr(t,e){for(e&=~eg,e&=~ch,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yn(e),r=1<<n;t[n]=-1,e&=~r}}function sx(t){if(fe&6)throw Error($(327));Mi();var e=nu(t,0);if(!(e&1))return Mt(t,Ue()),null;var n=wu(t,e);if(t.tag!==0&&n===2){var r=Ff(t);r!==0&&(e=r,n=fp(t,r))}if(n===1)throw n=Wa,js(t,0),Cr(t,e),Mt(t,Ue()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_s(t,Rt,Xn),Mt(t,Ue()),null}function ng(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Gi=Ue()+500,ih&&cs())}}function $s(t){Dr!==null&&Dr.tag===0&&!(fe&6)&&Mi();var e=fe;fe|=1;var n=en.transition,r=ve;try{if(en.transition=null,ve=1,t)return t()}finally{ve=r,en.transition=n,fe=e,!(fe&6)&&cs()}}function rg(){Ft=Ti.current,Ie(Ti)}function js(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,G2(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(Lm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&au();break;case 3:qi(),Ie(Dt),Ie(xt),qm();break;case 5:Wm(r);break;case 4:qi();break;case 13:Ie(Re);break;case 19:Ie(Re);break;case 10:Bm(r.type._context);break;case 22:case 23:rg()}n=n.return}if(Ze=t,He=t=$r(t.current,null),it=Ft=e,Qe=0,Wa=null,eg=ch=zs=0,Rt=pa=null,Cs!==null){for(e=0;e<Cs.length;e++)if(n=Cs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Cs=null}return t}function ET(t,e){do{var n=He;try{if(Um(),Rc.current=gu,mu){for(var r=ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}mu=!1}if(Bs=0,Je=Ge=ke=null,da=!1,za=0,Zm.current=null,n===null||n.return===null){Qe=1,Wa=e,He=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=it,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Wv(o);if(y!==null){y.flags&=-257,qv(y,o,a,i,e),y.mode&1&&Hv(i,h,e),e=y,l=h;var T=e.updateQueue;if(T===null){var A=new Set;A.add(l),e.updateQueue=A}else T.add(l);break e}else{if(!(e&1)){Hv(i,h,e),sg();break e}l=Error($(426))}}else if(Ae&&a.mode&1){var R=Wv(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),qv(R,o,a,i,e),Om(Ki(l,a));break e}}i=l=Ki(l,a),Qe!==4&&(Qe=2),pa===null?pa=[i]:pa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=iT(i,l,e);Ov(i,w);break e;case 1:a=l;var x=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Br===null||!Br.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=oT(i,a,e);Ov(i,k);break e}}i=i.return}while(i!==null)}IT(n)}catch(D){e=D,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function TT(){var t=yu.current;return yu.current=gu,t===null?gu:t}function sg(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Ze===null||!(zs&268435455)&&!(ch&268435455)||Cr(Ze,it)}function wu(t,e){var n=fe;fe|=2;var r=TT();(Ze!==t||it!==e)&&(Xn=null,js(t,e));do try{xR();break}catch(s){ET(t,s)}while(!0);if(Um(),fe=n,yu.current=r,He!==null)throw Error($(261));return Ze=null,it=0,Qe}function xR(){for(;He!==null;)ST(He)}function wR(){for(;He!==null&&!WP();)ST(He)}function ST(t){var e=CT(t.alternate,t,Ft);t.memoizedProps=t.pendingProps,e===null?IT(t):He=e,Zm.current=null}function IT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fR(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,He=null;return}}else if(n=dR(n,e,Ft),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Qe===0&&(Qe=5)}function _s(t,e,n){var r=ve,s=en.transition;try{en.transition=null,ve=1,_R(t,e,n,r)}finally{en.transition=s,ve=r}return null}function _R(t,e,n,r){do Mi();while(Dr!==null);if(fe&6)throw Error($(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(t2(t,i),t===Ze&&(He=Ze=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cc||(cc=!0,bT(tu,function(){return Mi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=en.transition,en.transition=null;var o=ve;ve=1;var a=fe;fe|=4,Zm.current=null,mR(t,n),xT(n,t),B2(Wf),ru=!!Hf,Wf=Hf=null,t.current=n,gR(n),qP(),fe=a,ve=o,en.transition=i}else t.current=n;if(cc&&(cc=!1,Dr=t,xu=s),i=t.pendingLanes,i===0&&(Br=null),QP(n.stateNode),Mt(t,Ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vu)throw vu=!1,t=hp,hp=null,t;return xu&1&&t.tag!==0&&Mi(),i=t.pendingLanes,i&1?t===dp?ma++:(ma=0,dp=t):ma=0,cs(),null}function Mi(){if(Dr!==null){var t=iE(xu),e=en.transition,n=ve;try{if(en.transition=null,ve=16>t?16:t,Dr===null)var r=!1;else{if(t=Dr,Dr=null,xu=0,fe&6)throw Error($(331));var s=fe;for(fe|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var h=a[l];for(Q=h;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:fa(8,d,i)}var f=d.child;if(f!==null)f.return=d,Q=f;else for(;Q!==null;){d=Q;var m=d.sibling,y=d.return;if(gT(d),d===h){Q=null;break}if(m!==null){m.return=y,Q=m;break}Q=y}}}var T=i.alternate;if(T!==null){var A=T.child;if(A!==null){T.child=null;do{var R=A.sibling;A.sibling=null,A=R}while(A!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fa(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Q=w;break e}Q=i.return}}var x=t.current;for(Q=x;Q!==null;){o=Q;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Q=E;else e:for(o=x;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lh(9,a)}}catch(D){Le(a,a.return,D)}if(a===o){Q=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Q=k;break e}Q=a.return}}if(fe=s,cs(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(eh,t)}catch{}r=!0}return r}finally{ve=n,en.transition=e}}return!1}function ix(t,e,n){e=Ki(n,e),e=iT(t,e,1),t=Ur(t,e,1),e=It(),t!==null&&(hl(t,1,e),Mt(t,e))}function Le(t,e,n){if(t.tag===3)ix(t,t,n);else for(;e!==null;){if(e.tag===3){ix(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Br===null||!Br.has(r))){t=Ki(n,t),t=oT(e,t,1),e=Ur(e,t,1),t=It(),e!==null&&(hl(e,1,t),Mt(e,t));break}}e=e.return}}function ER(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=It(),t.pingedLanes|=t.suspendedLanes&n,Ze===t&&(it&n)===n&&(Qe===4||Qe===3&&(it&130023424)===it&&500>Ue()-tg?js(t,0):eg|=n),Mt(t,e)}function AT(t,e){e===0&&(t.mode&1?(e=Zl,Zl<<=1,!(Zl&130023424)&&(Zl=4194304)):e=1);var n=It();t=ar(t,e),t!==null&&(hl(t,e,n),Mt(t,n))}function TR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),AT(t,n)}function SR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),AT(t,n)}var CT;CT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dt.current)kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kt=!1,hR(t,e,n);kt=!!(t.flags&131072)}else kt=!1,Ae&&e.flags&1048576&&NE(e,uu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;kc(t,e),t=e.pendingProps;var s=$i(e,xt.current);Vi(e,n),s=Gm(null,e,r,t,s,n);var i=Qm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vt(r)?(i=!0,lu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$m(e),s.updater=ah,e.stateNode=s,s._reactInternals=e,ep(e,r,t,n),e=rp(null,e,r,!0,i,n)):(e.tag=0,Ae&&i&&Mm(e),Tt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(kc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=AR(r),t=hn(r,t),s){case 0:e=np(null,e,r,t,n);break e;case 1:e=Qv(null,e,r,t,n);break e;case 11:e=Kv(null,e,r,t,n);break e;case 14:e=Gv(null,e,r,hn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hn(r,s),np(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hn(r,s),Qv(t,e,r,s,n);case 3:e:{if(uT(e),t===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,LE(t,e),fu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ki(Error($(423)),e),e=Yv(t,e,r,n,s);break e}else if(r!==s){s=Ki(Error($(424)),e),e=Yv(t,e,r,n,s);break e}else for(Ut=Fr(e.stateNode.containerInfo.firstChild),zt=e,Ae=!0,pn=null,n=VE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hi(),r===s){e=lr(t,e,n);break e}Tt(t,e,r,n)}e=e.child}return e;case 5:return OE(e),t===null&&Xf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,qf(r,s)?o=null:i!==null&&qf(r,i)&&(e.flags|=32),cT(t,e),Tt(t,e,o,n),e.child;case 6:return t===null&&Xf(e),null;case 13:return hT(t,e,n);case 4:return Hm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wi(e,null,r,n):Tt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hn(r,s),Kv(t,e,r,s,n);case 7:return Tt(t,e,e.pendingProps,n),e.child;case 8:return Tt(t,e,e.pendingProps.children,n),e.child;case 12:return Tt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,_e(hu,r._currentValue),r._currentValue=o,i!==null)if(wn(i.value,o)){if(i.children===s.children&&!Dt.current){e=lr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=rr(-1,n&-n),l.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?l.next=l:(l.next=d.next,d.next=l),h.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Jf(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Jf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Vi(e,n),s=rn(s),r=r(s),e.flags|=1,Tt(t,e,r,n),e.child;case 14:return r=e.type,s=hn(r,e.pendingProps),s=hn(r.type,s),Gv(t,e,r,s,n);case 15:return aT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hn(r,s),kc(t,e),e.tag=1,Vt(r)?(t=!0,lu(e)):t=!1,Vi(e,n),sT(e,r,s),ep(e,r,s,n),rp(null,e,r,!0,t,n);case 19:return dT(t,e,n);case 22:return lT(t,e,n)}throw Error($(156,e.tag))};function bT(t,e){return tE(t,e)}function IR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,e,n,r){return new IR(t,e,n,r)}function ig(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AR(t){if(typeof t=="function")return ig(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sm)return 11;if(t===Im)return 14}return 2}function $r(t,e){var n=t.alternate;return n===null?(n=Zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ig(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fi:return Ds(n.children,s,i,e);case Tm:o=8,s|=8;break;case Sf:return t=Zt(12,n,e,s|2),t.elementType=Sf,t.lanes=i,t;case If:return t=Zt(13,n,e,s),t.elementType=If,t.lanes=i,t;case Af:return t=Zt(19,n,e,s),t.elementType=Af,t.lanes=i,t;case O_:return uh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M_:o=10;break e;case L_:o=9;break e;case Sm:o=11;break e;case Im:o=14;break e;case Sr:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=Zt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ds(t,e,n,r){return t=Zt(7,t,r,e),t.lanes=n,t}function uh(t,e,n,r){return t=Zt(22,t,r,e),t.elementType=O_,t.lanes=n,t.stateNode={isHidden:!1},t}function Fd(t,e,n){return t=Zt(6,t,null,e),t.lanes=n,t}function Ud(t,e,n){return e=Zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function CR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wd(0),this.expirationTimes=wd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function og(t,e,n,r,s,i,o,a,l){return t=new CR(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Zt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$m(i),t}function bR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:di,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PT(t){if(!t)return Xr;t=t._reactInternals;e:{if(Xs(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Vt(n))return PE(t,n,e)}return e}function RT(t,e,n,r,s,i,o,a,l){return t=og(n,r,!0,t,s,i,o,a,l),t.context=PT(null),n=t.current,r=It(),s=zr(n),i=rr(r,s),i.callback=e??null,Ur(n,i,s),t.current.lanes=s,hl(t,s,r),Mt(t,r),t}function hh(t,e,n,r){var s=e.current,i=It(),o=zr(s);return n=PT(n),e.context===null?e.context=n:e.pendingContext=n,e=rr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ur(s,e,o),t!==null&&(vn(t,s,o,i),Pc(t,s,o)),o}function _u(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ox(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ag(t,e){ox(t,e),(t=t.alternate)&&ox(t,e)}function PR(){return null}var NT=typeof reportError=="function"?reportError:function(t){console.error(t)};function lg(t){this._internalRoot=t}dh.prototype.render=lg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));hh(t,e,null,null)};dh.prototype.unmount=lg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$s(function(){hh(null,t,null,null)}),e[or]=null}};function dh(t){this._internalRoot=t}dh.prototype.unstable_scheduleHydration=function(t){if(t){var e=lE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ar.length&&e!==0&&e<Ar[n].priority;n++);Ar.splice(n,0,t),n===0&&uE(t)}};function cg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ax(){}function RR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var h=_u(o);i.call(h)}}var o=RT(e,r,t,0,null,!1,!1,"",ax);return t._reactRootContainer=o,t[or]=o.current,La(t.nodeType===8?t.parentNode:t),$s(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var h=_u(l);a.call(h)}}var l=og(t,0,!1,null,null,!1,!1,"",ax);return t._reactRootContainer=l,t[or]=l.current,La(t.nodeType===8?t.parentNode:t),$s(function(){hh(e,l,n,r)}),l}function ph(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=_u(o);a.call(l)}}hh(e,o,t,s)}else o=RR(n,e,t,s,r);return _u(o)}oE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jo(e.pendingLanes);n!==0&&(bm(e,n|1),Mt(e,Ue()),!(fe&6)&&(Gi=Ue()+500,cs()))}break;case 13:$s(function(){var r=ar(t,1);if(r!==null){var s=It();vn(r,t,1,s)}}),ag(t,1)}};Pm=function(t){if(t.tag===13){var e=ar(t,134217728);if(e!==null){var n=It();vn(e,t,134217728,n)}ag(t,134217728)}};aE=function(t){if(t.tag===13){var e=zr(t),n=ar(t,e);if(n!==null){var r=It();vn(n,t,e,r)}ag(t,e)}};lE=function(){return ve};cE=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};Mf=function(t,e,n){switch(e){case"input":if(Pf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=sh(r);if(!s)throw Error($(90));U_(r),Pf(r,s)}}}break;case"textarea":z_(t,n);break;case"select":e=n.value,e!=null&&Ni(t,!!n.multiple,e,!1)}};Q_=ng;Y_=$s;var NR={usingClientEntryPoint:!1,Events:[fl,yi,sh,K_,G_,ng]},Ko={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kR={bundleType:Ko.bundleType,version:Ko.version,rendererPackageName:Ko.rendererPackageName,rendererConfig:Ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Z_(t),t===null?null:t.stateNode},findFiberByHostInstance:Ko.findFiberByHostInstance||PR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{eh=uc.inject(kR),kn=uc}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NR;Wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cg(e))throw Error($(200));return bR(t,e,null,n)};Wt.createRoot=function(t,e){if(!cg(t))throw Error($(299));var n=!1,r="",s=NT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=og(t,1,!1,null,null,n,!1,r,s),t[or]=e.current,La(t.nodeType===8?t.parentNode:t),new lg(e)};Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=Z_(e),t=t===null?null:t.stateNode,t};Wt.flushSync=function(t){return $s(t)};Wt.hydrate=function(t,e,n){if(!fh(e))throw Error($(200));return ph(null,t,e,!0,n)};Wt.hydrateRoot=function(t,e,n){if(!cg(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=NT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=RT(e,null,t,1,n??null,s,!1,i,o),t[or]=e.current,La(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new dh(e)};Wt.render=function(t,e,n){if(!fh(e))throw Error($(200));return ph(null,t,e,!1,n)};Wt.unmountComponentAtNode=function(t){if(!fh(t))throw Error($(40));return t._reactRootContainer?($s(function(){ph(null,null,t,!1,function(){t._reactRootContainer=null,t[or]=null})}),!0):!1};Wt.unstable_batchedUpdates=ng;Wt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fh(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return ph(t,e,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function kT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kT)}catch(t){console.error(t)}}kT(),k_.exports=Wt;var jR=k_.exports,jT,lx=jR;jT=lx.createRoot,lx.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cx="popstate";function DR(t={}){function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return mp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:qa(s)}return MR(e,n,null,t)}function be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _n(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VR(){return Math.random().toString(36).substring(2,10)}function ux(t,e){return{usr:t.state,key:t.key,idx:e}}function mp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?uo(e):e,state:n,key:e&&e.key||r||VR()}}function qa({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function uo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function MR(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",l=null,h=d();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function d(){return(o.state||{idx:null}).idx}function f(){a="POP";let R=d(),w=R==null?null:R-h;h=R,l&&l({action:a,location:A.location,delta:w})}function m(R,w){a="PUSH";let x=mp(A.location,R,w);h=d()+1;let E=ux(x,h),k=A.createHref(x);try{o.pushState(E,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(k)}i&&l&&l({action:a,location:A.location,delta:1})}function y(R,w){a="REPLACE";let x=mp(A.location,R,w);h=d();let E=ux(x,h),k=A.createHref(x);o.replaceState(E,"",k),i&&l&&l({action:a,location:A.location,delta:0})}function T(R){return LR(R)}let A={get action(){return a},get location(){return t(s,o)},listen(R){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(cx,f),l=R,()=>{s.removeEventListener(cx,f),l=null}},createHref(R){return e(s,R)},createURL:T,encodeLocation(R){let w=T(R);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:y,go(R){return o.go(R)}};return A}function LR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),be(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:qa(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function DT(t,e,n="/"){return OR(t,e,n,!1)}function OR(t,e,n,r){let s=typeof e=="string"?uo(e):e,i=cr(s.pathname||"/",n);if(i==null)return null;let o=VT(t);FR(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let h=YR(i);a=GR(o[l],h,r)}return a}function VT(t,e=[],n=[],r="",s=!1){let i=(o,a,l=s,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;be(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=sr([r,d.relativePath]),m=n.concat(d);o.children&&o.children.length>0&&(be(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),VT(o.children,e,m,f,l)),!(o.path==null&&!o.index)&&e.push({path:f,score:qR(f,o.index),routesMeta:m})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let h of MT(o.path))i(o,a,!0,h)}),e}function MT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=MT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function FR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var UR=/^:[\w-]+$/,BR=3,zR=2,$R=1,HR=10,WR=-2,hx=t=>t==="*";function qR(t,e){let n=t.split("/"),r=n.length;return n.some(hx)&&(r+=WR),e&&(r+=zR),n.filter(s=>!hx(s)).reduce((s,i)=>s+(UR.test(i)?BR:i===""?$R:HR),r)}function KR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function GR(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],h=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=Eu({path:l.relativePath,caseSensitive:l.caseSensitive,end:h},d),m=l.route;if(!f&&h&&n&&!r[r.length-1].route.index&&(f=Eu({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:sr([i,f.pathname]),pathnameBase:eN(sr([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=sr([i,f.pathnameBase]))}return o}function Eu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((h,{paramName:d,isOptional:f},m)=>{if(d==="*"){let T=a[m]||"";o=i.slice(0,i.length-T.length).replace(/(.)\/+$/,"$1")}const y=a[m];return f&&!y?h[d]=void 0:h[d]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function QR(t,e=!1,n=!0){_n(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function YR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _n(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function cr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function XR(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?uo(t):t;return{pathname:n?n.startsWith("/")?n:JR(n,e):e,search:tN(r),hash:nN(s)}}function JR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Bd(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ug(t){let e=ZR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function hg(t,e,n,r=!1){let s;typeof t=="string"?s=uo(t):(s={...t},be(!s.pathname||!s.pathname.includes("?"),Bd("?","pathname","search",s)),be(!s.pathname||!s.pathname.includes("#"),Bd("#","pathname","hash",s)),be(!s.search||!s.search.includes("#"),Bd("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=XR(s,a),h=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(h||d)&&(l.pathname+="/"),l}var sr=t=>t.join("/").replace(/\/\/+/g,"/"),eN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var LT=["POST","PUT","PATCH","DELETE"];new Set(LT);var sN=["GET",...LT];new Set(sN);var ho=b.createContext(null);ho.displayName="DataRouter";var mh=b.createContext(null);mh.displayName="DataRouterState";b.createContext(!1);var OT=b.createContext({isTransitioning:!1});OT.displayName="ViewTransition";var iN=b.createContext(new Map);iN.displayName="Fetchers";var oN=b.createContext(null);oN.displayName="Await";var In=b.createContext(null);In.displayName="Navigation";var ml=b.createContext(null);ml.displayName="Location";var qn=b.createContext({outlet:null,matches:[],isDataRoute:!1});qn.displayName="Route";var dg=b.createContext(null);dg.displayName="RouteError";function aN(t,{relative:e}={}){be(fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(In),{hash:s,pathname:i,search:o}=gl(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:sr([n,i])),r.createHref({pathname:a,search:o,hash:s})}function fo(){return b.useContext(ml)!=null}function us(){return be(fo(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(ml).location}var FT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UT(t){b.useContext(In).static||b.useLayoutEffect(t)}function fg(){let{isDataRoute:t}=b.useContext(qn);return t?wN():lN()}function lN(){be(fo(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(ho),{basename:e,navigator:n}=b.useContext(In),{matches:r}=b.useContext(qn),{pathname:s}=us(),i=JSON.stringify(ug(r)),o=b.useRef(!1);return UT(()=>{o.current=!0}),b.useCallback((l,h={})=>{if(_n(o.current,FT),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=hg(l,JSON.parse(i),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:sr([e,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[e,n,i,s,t])}b.createContext(null);function gl(t,{relative:e}={}){let{matches:n}=b.useContext(qn),{pathname:r}=us(),s=JSON.stringify(ug(n));return b.useMemo(()=>hg(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function cN(t,e){return BT(t,e)}function BT(t,e,n,r,s){var x;be(fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(In),{matches:o}=b.useContext(qn),a=o[o.length-1],l=a?a.params:{},h=a?a.pathname:"/",d=a?a.pathnameBase:"/",f=a&&a.route;{let E=f&&f.path||"";zT(h,!f||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let m=us(),y;if(e){let E=typeof e=="string"?uo(e):e;be(d==="/"||((x=E.pathname)==null?void 0:x.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=m;let T=y.pathname||"/",A=T;if(d!=="/"){let E=d.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(E.length).join("/")}let R=DT(t,{pathname:A});_n(f||R!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),_n(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=pN(R&&R.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:sr([d,i.encodeLocation?i.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:sr([d,i.encodeLocation?i.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,n,r,s);return e&&w?b.createElement(ml.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},w):w}function uN(){let t=xN(),e=rN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,o)}var hN=b.createElement(uN,null),dN=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(qn.Provider,{value:this.props.routeContext},b.createElement(dg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fN({routeContext:t,match:e,children:n}){let r=b.useContext(ho);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(qn.Provider,{value:t},n)}function pN(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let h=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);be(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let a=!1,l=-1;if(n)for(let h=0;h<i.length;h++){let d=i[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=h),d.route.id){let{loaderData:f,errors:m}=n,y=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((h,d,f)=>{let m,y=!1,T=null,A=null;n&&(m=o&&d.route.id?o[d.route.id]:void 0,T=d.route.errorElement||hN,a&&(l<0&&f===0?(zT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,A=null):l===f&&(y=!0,A=d.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,f+1)),w=()=>{let x;return m?x=T:y?x=A:d.route.Component?x=b.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=h,b.createElement(fN,{match:d,routeContext:{outlet:h,matches:R,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?b.createElement(dN,{location:n.location,revalidation:n.revalidation,component:T,error:m,children:w(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:r}):w()},null)}function pg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mN(t){let e=b.useContext(ho);return be(e,pg(t)),e}function gN(t){let e=b.useContext(mh);return be(e,pg(t)),e}function yN(t){let e=b.useContext(qn);return be(e,pg(t)),e}function mg(t){let e=yN(t),n=e.matches[e.matches.length-1];return be(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function vN(){return mg("useRouteId")}function xN(){var r;let t=b.useContext(dg),e=gN("useRouteError"),n=mg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function wN(){let{router:t}=mN("useNavigate"),e=mg("useNavigate"),n=b.useRef(!1);return UT(()=>{n.current=!0}),b.useCallback(async(s,i={})=>{_n(n.current,FT),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var dx={};function zT(t,e,n){!e&&!dx[t]&&(dx[t]=!0,_n(!1,n))}b.memo(_N);function _N({routes:t,future:e,state:n,unstable_onError:r}){return BT(t,void 0,n,r,e)}function zd({to:t,replace:e,state:n,relative:r}){be(fo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(In);_n(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=b.useContext(qn),{pathname:o}=us(),a=fg(),l=hg(t,ug(i),o,r==="path"),h=JSON.stringify(l);return b.useEffect(()=>{a(JSON.parse(h),{replace:e,state:n,relative:r})},[a,h,r,e,n]),null}function Es(t){be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function EN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){be(!fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=b.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=uo(n));let{pathname:l="/",search:h="",hash:d="",state:f=null,key:m="default"}=n,y=b.useMemo(()=>{let T=cr(l,o);return T==null?null:{location:{pathname:T,search:h,hash:d,state:f,key:m},navigationType:r}},[o,l,h,d,f,m,r]);return _n(y!=null,`<Router basename="${o}"> is not able to match the URL "${l}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:b.createElement(In.Provider,{value:a},b.createElement(ml.Provider,{children:e,value:y}))}function TN({children:t,location:e}){return cN(gp(t),e)}function gp(t,e=[]){let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,gp(r.props.children,i));return}be(r.type===Es,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),be(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=gp(r.props.children,i)),n.push(o)}),n}var Mc="get",Lc="application/x-www-form-urlencoded";function gh(t){return t!=null&&typeof t.tagName=="string"}function SN(t){return gh(t)&&t.tagName.toLowerCase()==="button"}function IN(t){return gh(t)&&t.tagName.toLowerCase()==="form"}function AN(t){return gh(t)&&t.tagName.toLowerCase()==="input"}function CN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bN(t,e){return t.button===0&&(!e||e==="_self")&&!CN(t)}var hc=null;function PN(){if(hc===null)try{new FormData(document.createElement("form"),0),hc=!1}catch{hc=!0}return hc}var RN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $d(t){return t!=null&&!RN.has(t)?(_n(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lc}"`),null):t}function NN(t,e){let n,r,s,i,o;if(IN(t)){let a=t.getAttribute("action");r=a?cr(a,e):null,n=t.getAttribute("method")||Mc,s=$d(t.getAttribute("enctype"))||Lc,i=new FormData(t)}else if(SN(t)||AN(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?cr(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Mc,s=$d(t.getAttribute("formenctype"))||$d(a.getAttribute("enctype"))||Lc,i=new FormData(a,t),!PN()){let{name:h,type:d,value:f}=t;if(d==="image"){let m=h?`${h}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else h&&i.append(h,f)}}else{if(gh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mc,r=null,s=Lc,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kN(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&cr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function jN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function VN(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await jN(i,n);return o.links?o.links():[]}return[]}));return FN(r.flat(1).filter(DN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function fx(t,e,n,r,s,i){let o=(l,h)=>n[h]?l.route.id!==n[h].route.id:!0,a=(l,h)=>{var d;return n[h].pathname!==l.pathname||((d=n[h].route.path)==null?void 0:d.endsWith("*"))&&n[h].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,h)=>o(l,h)||a(l,h)):i==="data"?e.filter((l,h)=>{var f;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,h)||a(l,h))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function MN(t,e,{includeHydrateFallback:n}={}){return LN(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function LN(t){return[...new Set(t)]}function ON(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function FN(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(ON(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function $T(){let t=b.useContext(ho);return gg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function UN(){let t=b.useContext(mh);return gg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var yg=b.createContext(void 0);yg.displayName="FrameworkContext";function HT(){let t=b.useContext(yg);return gg(t,"You must render this element inside a <HydratedRouter> element"),t}function BN(t,e){let n=b.useContext(yg),[r,s]=b.useState(!1),[i,o]=b.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:h,onMouseLeave:d,onTouchStart:f}=e,m=b.useRef(null);b.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let A=w=>{w.forEach(x=>{o(x.isIntersecting)})},R=new IntersectionObserver(A,{threshold:.5});return m.current&&R.observe(m.current),()=>{R.disconnect()}}},[t]),b.useEffect(()=>{if(r){let A=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(A)}}},[r]);let y=()=>{s(!0)},T=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,m,{}]:[i,m,{onFocus:Go(a,y),onBlur:Go(l,T),onMouseEnter:Go(h,y),onMouseLeave:Go(d,T),onTouchStart:Go(f,y)}]:[!1,m,{}]}function Go(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function zN({page:t,...e}){let{router:n}=$T(),r=b.useMemo(()=>DT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(HN,{page:t,matches:r,...e}):null}function $N(t){let{manifest:e,routeModules:n}=HT(),[r,s]=b.useState([]);return b.useEffect(()=>{let i=!1;return VN(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function HN({page:t,matches:e,...n}){let r=us(),{manifest:s,routeModules:i}=HT(),{basename:o}=$T(),{loaderData:a,matches:l}=UN(),h=b.useMemo(()=>fx(t,e,l,s,r,"data"),[t,e,l,s,r]),d=b.useMemo(()=>fx(t,e,l,s,r,"assets"),[t,e,l,s,r]),f=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,A=!1;if(e.forEach(w=>{var E;let x=s.routes[w.route.id];!x||!x.hasLoader||(!h.some(k=>k.route.id===w.route.id)&&w.route.id in a&&((E=i[w.route.id])!=null&&E.shouldRevalidate)||x.hasClientLoader?A=!0:T.add(w.route.id))}),T.size===0)return[];let R=kN(t,o,"data");return A&&T.size>0&&R.searchParams.set("_routes",e.filter(w=>T.has(w.route.id)).map(w=>w.route.id).join(",")),[R.pathname+R.search]},[o,a,r,s,h,e,t,i]),m=b.useMemo(()=>MN(d,s),[d,s]),y=$N(d);return b.createElement(b.Fragment,null,f.map(T=>b.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),m.map(T=>b.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),y.map(({key:T,link:A})=>b.createElement("link",{key:T,nonce:n.nonce,...A})))}function WN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var WT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WT&&(window.__reactRouterVersion="7.9.4")}catch{}function qN({basename:t,children:e,window:n}){let r=b.useRef();r.current==null&&(r.current=DR({window:n,v5Compat:!0}));let s=r.current,[i,o]=b.useState({action:s.action,location:s.location}),a=b.useCallback(l=>{b.startTransition(()=>o(l))},[o]);return b.useLayoutEffect(()=>s.listen(a),[s,a]),b.createElement(EN,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var qT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KT=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:h,preventScrollReset:d,viewTransition:f,...m},y){let{basename:T}=b.useContext(In),A=typeof h=="string"&&qT.test(h),R,w=!1;if(typeof h=="string"&&A&&(R=h,WT))try{let I=new URL(window.location.href),C=h.startsWith("//")?new URL(I.protocol+h):new URL(h),N=cr(C.pathname,T);C.origin===I.origin&&N!=null?h=N+C.search+C.hash:w=!0}catch{_n(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=aN(h,{relative:s}),[E,k,D]=BN(r,m),M=YN(h,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function S(I){e&&e(I),I.defaultPrevented||M(I)}let v=b.createElement("a",{...m,...D,href:R||x,onClick:w||i?e:S,ref:WN(y,k),target:l,"data-discover":!A&&n==="render"?"true":void 0});return E&&!A?b.createElement(b.Fragment,null,v,b.createElement(zN,{page:x})):v});KT.displayName="Link";var KN=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...h},d){let f=gl(o,{relative:h.relative}),m=us(),y=b.useContext(mh),{navigator:T,basename:A}=b.useContext(In),R=y!=null&&tk(f)&&a===!0,w=T.encodeLocation?T.encodeLocation(f).pathname:f.pathname,x=m.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(x=x.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&A&&(E=cr(E,A)||E);const k=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let D=x===w||!s&&x.startsWith(w)&&x.charAt(k)==="/",M=E!=null&&(E===w||!s&&E.startsWith(w)&&E.charAt(w.length)==="/"),S={isActive:D,isPending:M,isTransitioning:R},v=D?e:void 0,I;typeof r=="function"?I=r(S):I=[r,D?"active":null,M?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let C=typeof i=="function"?i(S):i;return b.createElement(KT,{...h,"aria-current":v,className:I,ref:d,style:C,to:o,viewTransition:a},typeof l=="function"?l(S):l)});KN.displayName="NavLink";var GN=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Mc,action:a,onSubmit:l,relative:h,preventScrollReset:d,viewTransition:f,...m},y)=>{let T=ZN(),A=ek(a,{relative:h}),R=o.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&qT.test(a),x=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let k=E.nativeEvent.submitter,D=(k==null?void 0:k.getAttribute("formmethod"))||o;T(k||E.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:s,state:i,relative:h,preventScrollReset:d,viewTransition:f})};return b.createElement("form",{ref:y,method:R,action:A,onSubmit:r?l:x,...m,"data-discover":!w&&t==="render"?"true":void 0})});GN.displayName="Form";function QN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GT(t){let e=b.useContext(ho);return be(e,QN(t)),e}function YN(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=fg(),l=us(),h=gl(t,{relative:i});return b.useCallback(d=>{if(bN(d,e)){d.preventDefault();let f=n!==void 0?n:qa(l)===qa(h);a(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[l,a,h,n,r,e,t,s,i,o])}var XN=0,JN=()=>`__${String(++XN)}__`;function ZN(){let{router:t}=GT("useSubmit"),{basename:e}=b.useContext(In),n=vN();return b.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:l,body:h}=NN(r,e);if(s.navigate===!1){let d=s.fetcherKey||JN();await t.fetch(d,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:h,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:h,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function ek(t,{relative:e}={}){let{basename:n}=b.useContext(In),r=b.useContext(qn);be(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...gl(t||".",{relative:e})},o=us();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:sr([n,i.pathname])),qa(i)}function tk(t,{relative:e}={}){let n=b.useContext(OT);be(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=GT("useViewTransitionState"),s=gl(t,{relative:e});if(!n.isTransitioning)return!1;let i=cr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=cr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Eu(s.pathname,o)!=null||Eu(s.pathname,i)!=null}const nk=()=>{};var px={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},rk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},YT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,h=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|h>>6,y=h&63;l||(y=64,o||(m=64)),r.push(n[d],n[f],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||h==null||f==null)throw new sk;const m=i<<2|a>>4;if(r.push(m),h!==64){const y=a<<4&240|h>>2;if(r.push(y),f!==64){const T=h<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ik=function(t){const e=QT(t);return YT.encodeByteArray(e,!0)},Tu=function(t){return ik(t).replace(/\./g,"")},XT=function(t){try{return YT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=()=>ok().__FIREBASE_DEFAULTS__,lk=()=>{if(typeof process>"u"||typeof px>"u")return;const t=px.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ck=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XT(t[1]);return e&&JSON.parse(e)},yh=()=>{try{return nk()||ak()||lk()||ck()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JT=t=>{var e,n;return(n=(e=yh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},uk=t=>{const e=JT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZT=()=>{var t;return(t=yh())==null?void 0:t.config},eS=t=>{var e;return(e=yh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Tu(JSON.stringify(n)),Tu(JSON.stringify(o)),""].join(".")}const ga={};function fk(){const t={prod:[],emulator:[]};for(const e of Object.keys(ga))ga[e]?t.emulator.push(e):t.prod.push(e);return t}function pk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let mx=!1;function nS(t,e){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||ga[t]===e||ga[t]||mx)return;ga[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=fk().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{mx=!0,o()},m}function d(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=pk(r),y=n("text"),T=document.getElementById(y)||document.createElement("span"),A=n("learnmore"),R=document.getElementById(A)||document.createElement("a"),w=n("preprendIcon"),x=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const E=m.element;a(E),d(R,A);const k=h();l(x,w),E.append(x,T,R,k),document.body.appendChild(E)}i?(T.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function gk(){var e;const t=(e=yh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xk(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wk(){return!gk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sS(){try{return typeof indexedDB=="object"}catch{return!1}}function iS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function _k(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="FirebaseError";class An extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ek,Object.setPrototypeOf(this,An.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Js.prototype.create)}}class Js{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Tk(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new An(s,a,r)}}function Tk(t,e){return t.replace(Sk,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Sk=/\{\$([^}]+)}/g;function Ik(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jr(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(gx(i)&&gx(o)){if(!Jr(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function gx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ea(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ta(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Ak(t,e){const n=new Ck(t,e);return n.subscribe.bind(n)}class Ck{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bk(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Hd),s.error===void 0&&(s.error=Hd),s.complete===void 0&&(s.complete=Hd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=1e3,Rk=2,Nk=4*60*60*1e3,kk=.5;function yx(t,e=Pk,n=Rk){const r=e*Math.pow(n,t),s=Math.round(kk*r*(Math.random()-.5)*2);return Math.min(Nk,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t){return t&&t._delegate?t._delegate:t}class En{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vk(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Dk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Dk(t){return t===Ts?void 0:t}function Vk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const Lk={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},Ok=ce.INFO,Fk={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},Uk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Fk[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vh{constructor(e){this.name=e,this._logLevel=Ok,this._logHandler=Uk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const Bk=(t,e)=>e.some(n=>t instanceof n);let vx,xx;function zk(){return vx||(vx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $k(){return xx||(xx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oS=new WeakMap,yp=new WeakMap,aS=new WeakMap,Wd=new WeakMap,vg=new WeakMap;function Hk(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Hr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&oS.set(n,t)}).catch(()=>{}),vg.set(e,t),e}function Wk(t){if(yp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});yp.set(t,e)}let vp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qk(t){vp=t(vp)}function Kk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qd(this),e,...n);return aS.set(r,e.sort?e.sort():[e]),Hr(r)}:$k().includes(t)?function(...e){return t.apply(qd(this),e),Hr(oS.get(this))}:function(...e){return Hr(t.apply(qd(this),e))}}function Gk(t){return typeof t=="function"?Kk(t):(t instanceof IDBTransaction&&Wk(t),Bk(t,zk())?new Proxy(t,vp):t)}function Hr(t){if(t instanceof IDBRequest)return Hk(t);if(Wd.has(t))return Wd.get(t);const e=Gk(t);return e!==t&&(Wd.set(t,e),vg.set(e,t)),e}const qd=t=>vg.get(t);function lS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Hr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Hr(o.result),l.oldVersion,l.newVersion,Hr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const Qk=["get","getKey","getAll","getAllKeys","count"],Yk=["put","add","delete","clear"],Kd=new Map;function wx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kd.get(e))return Kd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Yk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Qk.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),s&&l.done]))[0]};return Kd.set(e,i),i}qk(t=>({...t,get:(e,n,r)=>wx(e,n)||t.get(e,n,r),has:(e,n)=>!!wx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Jk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Jk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xp="@firebase/app",_x="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new vh("@firebase/app"),Zk="@firebase/app-compat",ej="@firebase/analytics-compat",tj="@firebase/analytics",nj="@firebase/app-check-compat",rj="@firebase/app-check",sj="@firebase/auth",ij="@firebase/auth-compat",oj="@firebase/database",aj="@firebase/data-connect",lj="@firebase/database-compat",cj="@firebase/functions",uj="@firebase/functions-compat",hj="@firebase/installations",dj="@firebase/installations-compat",fj="@firebase/messaging",pj="@firebase/messaging-compat",mj="@firebase/performance",gj="@firebase/performance-compat",yj="@firebase/remote-config",vj="@firebase/remote-config-compat",xj="@firebase/storage",wj="@firebase/storage-compat",_j="@firebase/firestore",Ej="@firebase/ai",Tj="@firebase/firestore-compat",Sj="firebase",Ij="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="[DEFAULT]",Aj={[xp]:"fire-core",[Zk]:"fire-core-compat",[tj]:"fire-analytics",[ej]:"fire-analytics-compat",[rj]:"fire-app-check",[nj]:"fire-app-check-compat",[sj]:"fire-auth",[ij]:"fire-auth-compat",[oj]:"fire-rtdb",[aj]:"fire-data-connect",[lj]:"fire-rtdb-compat",[cj]:"fire-fn",[uj]:"fire-fn-compat",[hj]:"fire-iid",[dj]:"fire-iid-compat",[fj]:"fire-fcm",[pj]:"fire-fcm-compat",[mj]:"fire-perf",[gj]:"fire-perf-compat",[yj]:"fire-rc",[vj]:"fire-rc-compat",[xj]:"fire-gcs",[wj]:"fire-gcs-compat",[_j]:"fire-fst",[Tj]:"fire-fst-compat",[Ej]:"fire-vertex","fire-js":"fire-js",[Sj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Map,Cj=new Map,_p=new Map;function Ex(t,e){try{t.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hn(t){const e=t.name;if(_p.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;_p.set(e,t);for(const n of Su.values())Ex(n,t);for(const n of Cj.values())Ex(n,t);return!0}function Zs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new Js("app","Firebase",bj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new En("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=Ij;function cS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:wp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Wr.create("bad-app-name",{appName:String(s)});if(n||(n=ZT()),!n)throw Wr.create("no-options");const i=Su.get(s);if(i){if(Jr(n,i.options)&&Jr(r,i.config))return i;throw Wr.create("duplicate-app",{appName:s})}const o=new Mk(s);for(const l of _p.values())o.addComponent(l);const a=new Pj(n,r,o);return Su.set(s,a),a}function xg(t=wp){const e=Su.get(t);if(!e&&t===wp&&ZT())return cS();if(!e)throw Wr.create("no-app",{appName:t});return e}function tn(t,e,n){let r=Aj[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(o.join(" "));return}Hn(new En(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="firebase-heartbeat-database",Nj=1,Ka="firebase-heartbeat-store";let Gd=null;function uS(){return Gd||(Gd=lS(Rj,Nj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ka)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wr.create("idb-open",{originalErrorMessage:t.message})})),Gd}async function kj(t){try{const n=(await uS()).transaction(Ka),r=await n.objectStore(Ka).get(hS(t));return await n.done,r}catch(e){if(e instanceof An)ur.warn(e.message);else{const n=Wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ur.warn(n.message)}}}async function Tx(t,e){try{const r=(await uS()).transaction(Ka,"readwrite");await r.objectStore(Ka).put(e,hS(t)),await r.done}catch(n){if(n instanceof An)ur.warn(n.message);else{const r=Wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ur.warn(r.message)}}}function hS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=1024,Dj=30;class Vj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Sx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>Dj){const o=Oj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ur.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sx(),{heartbeatsToSend:r,unsentEntries:s}=Mj(this._heartbeatsCache.heartbeats),i=Tu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ur.warn(n),""}}}function Sx(){return new Date().toISOString().substring(0,10)}function Mj(t,e=jj){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ix(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ix(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Lj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sS()?iS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Tx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Tx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ix(t){return Tu(JSON.stringify({version:2,heartbeats:t})).length}function Oj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t){Hn(new En("platform-logger",e=>new Xk(e),"PRIVATE")),Hn(new En("heartbeat",e=>new Vj(e),"PRIVATE")),tn(xp,_x,t),tn(xp,_x,"esm2020"),tn("fire-js","")}Fj("");function dS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Uj=dS,fS=new Js("auth","Firebase",dS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=new vh("@firebase/auth");function Bj(t,...e){Iu.logLevel<=ce.WARN&&Iu.warn(`Auth (${mo}): ${t}`,...e)}function Oc(t,...e){Iu.logLevel<=ce.ERROR&&Iu.error(`Auth (${mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw wg(t,...e)}function Dn(t,...e){return wg(t,...e)}function pS(t,e,n){const r={...Uj(),[e]:n};return new Js("auth","Firebase",r).create(e,{appName:t.name})}function qr(t){return pS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fS.create(t,...e)}function Z(t,e,...n){if(!t)throw wg(e,...n)}function tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Oc(e),new Error(e)}function hr(t,e){t||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function zj(){return Ax()==="http:"||Ax()==="https:"}function Ax(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zj()||rS()||"connection"in navigator)?navigator.onLine:!0}function Hj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=mk()||vk()}get(){return $j()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t,e){hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Kj=new vl(3e4,6e4);function ei(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function hs(t,e,n,r,s={}){return gS(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=yl({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:l,...i};return yk()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&po(t.emulatorConfig.host)&&(h.credentials="include"),mS.fetch()(await yS(t,t.config.apiHost,n,a),h)})}async function gS(t,e,n){t._canInitEmulator=!1;const r={...Wj,...e};try{const s=new Qj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw dc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,h]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw dc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw dc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw dc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw pS(t,d,h);Tn(t,d)}}catch(s){if(s instanceof An)throw s;Tn(t,"network-request-failed",{message:String(s)})}}async function xh(t,e,n,r,s={}){const i=await hs(t,e,n,r,s);return"mfaPendingCredential"in i&&Tn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function yS(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?_g(t.config,s):`${t.config.apiScheme}://${s}`;return qj.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function Gj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dn(this.auth,"network-request-failed")),Kj.get())})}}function dc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Dn(t,e,r);return s.customData._tokenResponse=n,s}function Cx(t){return t!==void 0&&t.enterprise!==void 0}class Yj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Gj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Xj(t,e){return hs(t,"GET","/v2/recaptchaConfig",ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(t,e){return hs(t,"POST","/v1/accounts:delete",e)}async function Au(t,e){return hs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Zj(t,e=!1){const n=Be(t),r=await n.getIdToken(e),s=Eg(r);Z(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ya(Qd(s.auth_time)),issuedAtTime:ya(Qd(s.iat)),expirationTime:ya(Qd(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Qd(t){return Number(t)*1e3}function Eg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const s=XT(n);return s?JSON.parse(s):(Oc("Failed to decode base64 JWT payload"),null)}catch(s){return Oc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function bx(t){const e=Eg(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof An&&e4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ya(this.lastLoginAt),this.creationTime=ya(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Ga(t,Au(e,{idToken:n}));Z(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?vS(s.providerUserInfo):[],o=r4(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),h=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Tp(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function n4(t){const e=Be(t);await Cu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function vS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(t,e){const n=await gS(t,{},async()=>{const r=yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await yS(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&po(t.emulatorConfig.host)&&(l.credentials="include"),mS.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i4(t,e){return hs(t,"POST","/v2/accounts:revokeToken",ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=bx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await s4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Li;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Z(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Z(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Li,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new t4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Tp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ga(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Zj(this,e)}reload(){return n4(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(qr(this.auth));const e=await this.getIdToken();return await Ga(this,Jj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,h=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:y,providerData:T,stsTokenManager:A}=n;Z(f&&A,e,"internal-error");const R=Li.fromJSON(this.name,A);Z(typeof f=="string",e,"internal-error"),Er(r,e.name),Er(s,e.name),Z(typeof m=="boolean",e,"internal-error"),Z(typeof y=="boolean",e,"internal-error"),Er(i,e.name),Er(o,e.name),Er(a,e.name),Er(l,e.name),Er(h,e.name),Er(d,e.name);const w=new gn({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:R,createdAt:h,lastLoginAt:d});return T&&Array.isArray(T)&&(w.providerData=T.map(x=>({...x}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new Li;s.updateFromServerResponse(n);const i=new gn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Cu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Z(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?vS(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Li;a.updateFromIdToken(r);const l=new gn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Tp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,h),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new Map;function nr(t){hr(t instanceof Function,"Expected a class definition");let e=Px.get(t);return e?(hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Px.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xS.type="NONE";const Rx=xS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t,e,n){return`firebase:${t}:${e}:${n}`}class Oi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Fc(this.userKey,s.apiKey,i),this.fullPersistenceKey=Fc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Au(this.auth,{idToken:e}).catch(()=>{});return n?gn._fromGetAccountInfoResponse(this.auth,n,e):null}return gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Oi(nr(Rx),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||nr(Rx);const o=Fc(r,e.config.apiKey,e.name);let a=null;for(const h of n)try{const d=await h._get(o);if(d){let f;if(typeof d=="string"){const m=await Au(e,{idToken:d}).catch(()=>{});if(!m)break;f=await gn._fromGetAccountInfoResponse(e,m,d)}else f=gn._fromJSON(e,d);h!==i&&(a=f),i=h;break}}catch{}const l=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Oi(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new Oi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IS(e))return"Blackberry";if(AS(e))return"Webos";if(_S(e))return"Safari";if((e.includes("chrome/")||ES(e))&&!e.includes("edge/"))return"Chrome";if(SS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wS(t=wt()){return/firefox\//i.test(t)}function _S(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ES(t=wt()){return/crios\//i.test(t)}function TS(t=wt()){return/iemobile/i.test(t)}function SS(t=wt()){return/android/i.test(t)}function IS(t=wt()){return/blackberry/i.test(t)}function AS(t=wt()){return/webos/i.test(t)}function Tg(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o4(t=wt()){var e;return Tg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function a4(){return xk()&&document.documentMode===10}function CS(t=wt()){return Tg(t)||SS(t)||AS(t)||IS(t)||/windows phone/i.test(t)||TS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t,e=[]){let n;switch(t){case"Browser":n=Nx(wt());break;case"Worker":n=`${Nx(wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(t,e={}){return hs(t,"GET","/v2/passwordPolicy",ei(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=6;class h4{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??u4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kx(this),this.idTokenSubscription=new kx(this),this.beforeStateQueue=new l4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Oi.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Au(this,{idToken:e}),r=await gn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(mn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Hj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(qr(this));const n=e?Be(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c4(this),n=new h4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Js("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await i4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nr(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await Oi.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Bj(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function go(t){return Be(t)}class kx{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ak(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f4(t){wh=t}function PS(t){return wh.loadJS(t)}function p4(){return wh.recaptchaEnterpriseScript}function m4(){return wh.gapiScript}function g4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class y4{constructor(){this.enterprise=new v4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class v4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const x4="recaptcha-enterprise",RS="NO_RECAPTCHA";class w4{constructor(e){this.type=x4,this.auth=go(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{Xj(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const h=new Yj(l);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,o(h.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Cx(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(h=>{o(h)}).catch(()=>{o(RS)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y4().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Cx(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=p4();l.length!==0&&(l+=a),PS(l).then(()=>{s(a,i,o)}).catch(h=>{o(h)})}}).catch(a=>{o(a)})})}}async function jx(t,e,n,r=!1,s=!1){const i=new w4(t);let o;if(s)o=RS;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,h=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Dx(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await jx(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await jx(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t,e){const n=Zs(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Jr(i,e??{}))return s;Tn(s,"already-initialized")}return n.initialize({options:e})}function E4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function T4(t,e,n){const r=go(t);Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=NS(e),{host:o,port:a}=S4(e),l=a===null?"":`:${a}`,h={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Z(Jr(h,r.config.emulator)&&Jr(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,po(o)?(tS(`${i}//${o}${l}`),nS("Auth",!0)):I4()}function NS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S4(t){const e=NS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Vx(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Vx(o)}}}function Vx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function I4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}async function A4(t,e){return hs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e){return xh(t,"POST","/v1/accounts:signInWithPassword",ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(t,e){return xh(t,"POST","/v1/accounts:signInWithEmailLink",ei(t,e))}async function P4(t,e){return xh(t,"POST","/v1/accounts:signInWithEmailLink",ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Sg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Qa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Qa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dx(e,n,"signInWithPassword",C4);case"emailLink":return b4(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dx(e,r,"signUpPassword",A4);case"emailLink":return P4(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fi(t,e){return xh(t,"POST","/v1/accounts:signInWithIdp",ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="http://localhost";class Hs extends Sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Hs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Fi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fi(e,n)}buildRequest(){const e={requestUri:R4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function k4(t){const e=ea(ta(t)).link,n=e?ea(ta(e)).deep_link_id:null,r=ea(ta(t)).deep_link_id;return(r?ea(ta(r)).link:null)||r||n||e||t}class Ig{constructor(e){const n=ea(ta(e)),r=n.apiKey??null,s=n.oobCode??null,i=N4(n.mode??null);Z(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=k4(e);try{return new Ig(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.providerId=yo.PROVIDER_ID}static credential(e,n){return Qa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ig.parseLink(n);return Z(r,"argument-error"),Qa._fromEmailAndCode(e,r.code,r.tenantId)}}yo.PROVIDER_ID="password";yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends kS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends xl{constructor(){super("facebook.com")}static credential(e){return Hs._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends xl{constructor(){super("github.com")}static credential(e){return Hs._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends xl{constructor(){super("twitter.com")}static credential(e,n){return Hs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Nr.credential(n,r)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await gn._fromIdTokenResponse(e,r,s),o=Mx(r);return new Qi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Mx(r);return new Qi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Mx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends An{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,bu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new bu(e,n,r,s)}}function jS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?bu._fromErrorAndOperation(t,i,e,r):i})}async function j4(t,e,n=!1){const r=await Ga(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(t,e,n=!1){const{auth:r}=t;if(mn(r.app))return Promise.reject(qr(r));const s="reauthenticate";try{const i=await Ga(t,jS(r,s,e,t),n);Z(i.idToken,r,"internal-error");const o=Eg(i.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),Qi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Tn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DS(t,e,n=!1){if(mn(t.app))return Promise.reject(qr(t));const r="signIn",s=await jS(t,r,e),i=await Qi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function V4(t,e){return DS(go(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(t){const e=go(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function L4(t,e,n){return mn(t.app)?Promise.reject(qr(t)):V4(Be(t),yo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&M4(t),r})}function O4(t,e,n,r){return Be(t).onIdTokenChanged(e,n,r)}function F4(t,e,n){return Be(t).beforeAuthStateChanged(e,n)}function U4(t,e,n,r){return Be(t).onAuthStateChanged(e,n,r)}function B4(t){return Be(t).signOut()}const Pu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pu,"1"),this.storage.removeItem(Pu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=1e3,$4=10;class MS extends VS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);a4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,$4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},z4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MS.type="LOCAL";const H4=MS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS extends VS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LS.type="SESSION";const OS=LS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new _h(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async h=>h(n.origin,i)),l=await W4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const h=Ag("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return window}function K4(t){Vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function G4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Y4(){return FS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="firebaseLocalStorageDb",X4=1,Ru="firebaseLocalStorage",BS="fbase_key";class wl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Eh(t,e){return t.transaction([Ru],e?"readwrite":"readonly").objectStore(Ru)}function J4(){const t=indexedDB.deleteDatabase(US);return new wl(t).toPromise()}function Sp(){const t=indexedDB.open(US,X4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ru,{keyPath:BS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ru)?e(r):(r.close(),await J4(),e(await Sp()))})})}async function Lx(t,e,n){const r=Eh(t,!0).put({[BS]:e,value:n});return new wl(r).toPromise()}async function Z4(t,e){const n=Eh(t,!1).get(e),r=await new wl(n).toPromise();return r===void 0?null:r.value}function Ox(t,e){const n=Eh(t,!0).delete(e);return new wl(n).toPromise()}const eD=800,tD=3;class zS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(Y4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await G4(),!this.activeServiceWorker)return;this.sender=new q4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sp();return await Lx(e,Pu,"1"),await Ox(e,Pu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Z4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ox(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Eh(s,!1).getAll();return new wl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zS.type="LOCAL";const nD=zS;new vl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t,e){return e?nr(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends Sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sD(t){return DS(t.auth,new Cg(t),t.bypassAuthState)}function iD(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),D4(n,new Cg(t),t.bypassAuthState)}async function oD(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),j4(n,new Cg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sD;case"linkViaPopup":case"linkViaRedirect":return oD;case"reauthViaPopup":case"reauthViaRedirect":return iD;default:Tn(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=new vl(2e3,1e4);class Si extends $S{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Si.currentPopupAction&&Si.currentPopupAction.cancel(),Si.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=Ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Si.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aD.get())};e()}}Si.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="pendingRedirect",Uc=new Map;class cD extends $S{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const r=await uD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uD(t,e){const n=fD(e),r=dD(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function hD(t,e){Uc.set(t._key(),e)}function dD(t){return nr(t._redirectPersistence)}function fD(t){return Fc(lD,t.config.apiKey,t.name)}async function pD(t,e,n=!1){if(mn(t.app))return Promise.reject(qr(t));const r=go(t),s=rD(r,e),o=await new cD(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=10*60*1e3;class gD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HS(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fx(e))}saveEventToCache(e){this.cachedEventUids.add(Fx(e)),this.lastProcessedEventTime=Date.now()}}function Fx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(t,e={}){return hs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wD=/^https?/;async function _D(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vD(t);for(const n of e)try{if(ED(n))return}catch{}Tn(t,"unauthorized-domain")}function ED(t){const e=Ep(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!wD.test(n))return!1;if(xD.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new vl(3e4,6e4);function Ux(){const t=Vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function SD(t){return new Promise((e,n)=>{var s,i,o;function r(){Ux(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ux(),n(Dn(t,"network-request-failed"))},timeout:TD.get()})}if((i=(s=Vn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Vn().gapi)!=null&&o.load)r();else{const a=g4("iframefcb");return Vn()[a]=()=>{gapi.load?r():n(Dn(t,"network-request-failed"))},PS(`${m4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Bc=null,e})}let Bc=null;function ID(t){return Bc=Bc||SD(t),Bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=new vl(5e3,15e3),CD="__/auth/iframe",bD="emulator/auth/iframe",PD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ND(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_g(e,bD):`https://${t.config.authDomain}/${CD}`,r={apiKey:e.apiKey,appName:t.name,v:mo},s=RD.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${yl(r).slice(1)}`}async function kD(t){const e=await ID(t),n=Vn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:ND(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PD,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Dn(t,"network-request-failed"),a=Vn().setTimeout(()=>{i(o)},AD.get());function l(){Vn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DD=500,VD=600,MD="_blank",LD="http://localhost";class Bx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OD(t,e,n,r=DD,s=VD){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...jD,width:r.toString(),height:s.toString(),top:i,left:o},h=wt().toLowerCase();n&&(a=ES(h)?MD:n),wS(h)&&(e=e||LD,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[y,T])=>`${m}${y}=${T},`,"");if(o4(h)&&a!=="_self")return FD(e||"",a),new Bx(null);const f=window.open(e||"",a,d);Z(f,t,"popup-blocked");try{f.focus()}catch{}return new Bx(f)}function FD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="__/auth/handler",BD="emulator/auth/handler",zD=encodeURIComponent("fac");async function zx(t,e,n,r,s,i){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mo,eventId:s};if(e instanceof kS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Ik(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof xl){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),h=l?`#${zD}=${encodeURIComponent(l)}`:"";return`${$D(t)}?${yl(a).slice(1)}${h}`}function $D({config:t}){return t.emulator?_g(t,BD):`https://${t.authDomain}/${UD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="webStorageSupport";class HD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OS,this._completeRedirectFn=pD,this._overrideRedirectResult=hD}async _openPopup(e,n,r,s){var o;hr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await zx(e,n,r,Ep(),s);return OD(e,i,Ag())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await zx(e,n,r,Ep(),s);return K4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(hr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kD(e),r=new gD(e);return n.register("authEvent",s=>(Z(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yd,{type:Yd},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Yd];i!==void 0&&n(!!i),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_D(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CS()||_S()||Tg()}}const WD=HD;var $x="@firebase/auth",Hx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GD(t){Hn(new En("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bS(t)},h=new d4(r,s,i,l);return E4(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hn(new En("auth-internal",e=>{const n=go(e.getProvider("auth").getImmediate());return(r=>new qD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tn($x,Hx,KD(t)),tn($x,Hx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=5*60,YD=eS("authIdTokenMaxAge")||QD;let Wx=null;const XD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YD)return;const s=n==null?void 0:n.token;Wx!==s&&(Wx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function JD(t=xg()){const e=Zs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_4(t,{popupRedirectResolver:WD,persistence:[nD,H4,OS]}),r=eS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=XD(i.toString());F4(n,o,()=>o(n.currentUser)),O4(n,a=>o(a))}}const s=JT("auth");return s&&T4(n,`http://${s}`),n}function ZD(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}f4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Dn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",ZD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GD("Browser");var eV="firebase",tV="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn(eV,tV,"app");const WS="@firebase/installations",bg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=1e4,KS=`w:${bg}`,GS="FIS_v2",nV="https://firebaseinstallations.googleapis.com/v1",rV=60*60*1e3,sV="installations",iV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ws=new Js(sV,iV,oV);function QS(t){return t instanceof An&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS({projectId:t}){return`${nV}/projects/${t}/installations`}function XS(t){return{token:t.token,requestStatus:2,expiresIn:lV(t.expiresIn),creationTime:Date.now()}}async function JS(t,e){const r=(await e.json()).error;return Ws.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ZS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function aV(t,{refreshToken:e}){const n=ZS(t);return n.append("Authorization",cV(e)),n}async function eI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function lV(t){return Number(t.replace("s","000"))}function cV(t){return`${GS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uV({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=YS(t),s=ZS(t),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const o={fid:n,authVersion:GS,appId:t.appId,sdkVersion:KS},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await eI(()=>fetch(r,a));if(l.ok){const h=await l.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:XS(h.authToken)}}else throw await JS("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=/^[cdef][\w-]{21}$/,Ip="";function fV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=pV(t);return dV.test(n)?n:Ip}catch{return Ip}}function pV(t){return hV(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=new Map;function rI(t,e){const n=Th(t);sI(n,e),mV(n,e)}function sI(t,e){const n=nI.get(t);if(n)for(const r of n)r(e)}function mV(t,e){const n=gV();n&&n.postMessage({key:t,fid:e}),yV()}let Ps=null;function gV(){return!Ps&&"BroadcastChannel"in self&&(Ps=new BroadcastChannel("[Firebase] FID Change"),Ps.onmessage=t=>{sI(t.data.key,t.data.fid)}),Ps}function yV(){nI.size===0&&Ps&&(Ps.close(),Ps=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="firebase-installations-database",xV=1,qs="firebase-installations-store";let Xd=null;function Pg(){return Xd||(Xd=lS(vV,xV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(qs)}}})),Xd}async function Nu(t,e){const n=Th(t),s=(await Pg()).transaction(qs,"readwrite"),i=s.objectStore(qs),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&rI(t,e.fid),e}async function iI(t){const e=Th(t),r=(await Pg()).transaction(qs,"readwrite");await r.objectStore(qs).delete(e),await r.done}async function Sh(t,e){const n=Th(t),s=(await Pg()).transaction(qs,"readwrite"),i=s.objectStore(qs),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&rI(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rg(t){let e;const n=await Sh(t.appConfig,r=>{const s=wV(r),i=_V(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Ip?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function wV(t){const e=t||{fid:fV(),registrationStatus:0};return oI(e)}function _V(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ws.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=EV(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:TV(t)}:{installationEntry:e}}async function EV(t,e){try{const n=await uV(t,e);return Nu(t.appConfig,n)}catch(n){throw QS(n)&&n.customData.serverCode===409?await iI(t.appConfig):await Nu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function TV(t){let e=await qx(t.appConfig);for(;e.registrationStatus===1;)await tI(100),e=await qx(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Rg(t);return r||n}return e}function qx(t){return Sh(t,e=>{if(!e)throw Ws.create("installation-not-found");return oI(e)})}function oI(t){return SV(t)?{fid:t.fid,registrationStatus:0}:t}function SV(t){return t.registrationStatus===1&&t.registrationTime+qS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV({appConfig:t,heartbeatServiceProvider:e},n){const r=AV(t,n),s=aV(t,n),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const o={installation:{sdkVersion:KS,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await eI(()=>fetch(r,a));if(l.ok){const h=await l.json();return XS(h)}else throw await JS("Generate Auth Token",l)}function AV(t,{fid:e}){return`${YS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ng(t,e=!1){let n;const r=await Sh(t.appConfig,i=>{if(!aI(i))throw Ws.create("not-registered");const o=i.authToken;if(!e&&PV(o))return i;if(o.requestStatus===1)return n=CV(t,e),i;{if(!navigator.onLine)throw Ws.create("app-offline");const a=NV(i);return n=bV(t,a),a}});return n?await n:r.authToken}async function CV(t,e){let n=await Kx(t.appConfig);for(;n.authToken.requestStatus===1;)await tI(100),n=await Kx(t.appConfig);const r=n.authToken;return r.requestStatus===0?Ng(t,e):r}function Kx(t){return Sh(t,e=>{if(!aI(e))throw Ws.create("not-registered");const n=e.authToken;return kV(n)?{...e,authToken:{requestStatus:0}}:e})}async function bV(t,e){try{const n=await IV(t,e),r={...e,authToken:n};return await Nu(t.appConfig,r),n}catch(n){if(QS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await iI(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Nu(t.appConfig,r)}throw n}}function aI(t){return t!==void 0&&t.registrationStatus===2}function PV(t){return t.requestStatus===2&&!RV(t)}function RV(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+rV}function NV(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function kV(t){return t.requestStatus===1&&t.requestTime+qS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t){const e=t,{installationEntry:n,registrationPromise:r}=await Rg(e);return r?r.catch(console.error):Ng(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV(t,e=!1){const n=t;return await VV(n),(await Ng(n,e)).token}async function VV(t){const{registrationPromise:e}=await Rg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t){if(!t||!t.options)throw Jd("App Configuration");if(!t.name)throw Jd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Jd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Jd(t){return Ws.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="installations",LV="installations-internal",OV=t=>{const e=t.getProvider("app").getImmediate(),n=MV(e),r=Zs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},FV=t=>{const e=t.getProvider("app").getImmediate(),n=Zs(e,lI).getImmediate();return{getId:()=>jV(n),getToken:s=>DV(n,s)}};function UV(){Hn(new En(lI,OV,"PUBLIC")),Hn(new En(LV,FV,"PRIVATE"))}UV();tn(WS,bg);tn(WS,bg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku="analytics",BV="firebase_id",zV="origin",$V=60*1e3,HV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt=new vh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$t=new Js("analytics","Analytics",WV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t){if(!t.startsWith(kg)){const e=$t.create("invalid-gtag-resource",{gtagURL:t});return Lt.warn(e.message),""}return t}function cI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function KV(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function GV(t,e){const n=KV("firebase-js-sdk-policy",{createScriptURL:qV}),r=document.createElement("script"),s=`${kg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function QV(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function YV(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await cI(n)).find(h=>h.measurementId===s);l&&await e[l.appId]}}catch(a){Lt.error(a)}t("config",s,i)}async function XV(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await cI(n);for(const l of o){const h=a.find(f=>f.measurementId===l),d=h&&e[h.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Lt.error(i)}}function JV(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await XV(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await YV(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,h]=o;t("get",a,l,h)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Lt.error(a)}}return s}function ZV(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=JV(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function eM(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(kg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=30,nM=1e3;class rM{constructor(e={},n=nM){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const uI=new rM;function sM(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function iM(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:sM(n)},s=HV.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw $t.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function oM(t,e=uI,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw $t.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw $t.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new cM;return setTimeout(async()=>{a.abort()},$V),hI({appId:r,apiKey:s,measurementId:i},o,a,e)}async function hI(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=uI){var a;const{appId:i,measurementId:o}=t;try{await aM(r,e)}catch(l){if(o)return Lt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await iM(t);return s.deleteThrottleMetadata(i),l}catch(l){const h=l;if(!lM(h)){if(s.deleteThrottleMetadata(i),o)return Lt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:i,measurementId:o};throw l}const d=Number((a=h==null?void 0:h.customData)==null?void 0:a.httpStatus)===503?yx(n,s.intervalMillis,tM):yx(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(i,f),Lt.debug(`Calling attemptFetch again in ${d} millis`),hI(t,f,r,s)}}function aM(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r($t.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function lM(t){if(!(t instanceof An)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class cM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function uM(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hM(){if(sS())try{await iS()}catch(t){return Lt.warn($t.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Lt.warn($t.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function dM(t,e,n,r,s,i,o){const a=oM(t);a.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Lt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Lt.error(m)),e.push(a);const l=hM().then(m=>{if(m)return r.getId()}),[h,d]=await Promise.all([a,l]);eM(i)||GV(i,h.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[zV]="firebase",f.update=!0,d!=null&&(f[BV]=d),s("config",h.measurementId,f),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.app=e}_delete(){return delete va[this.app.options.appId],Promise.resolve()}}let va={},Gx=[];const Qx={};let Zd="dataLayer",pM="gtag",Yx,dI,Xx=!1;function mM(){const t=[];if(rS()&&t.push("This is a browser extension environment."),_k()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=$t.create("invalid-analytics-context",{errorInfo:e});Lt.warn(n.message)}}function gM(t,e,n){mM();const r=t.options.appId;if(!r)throw $t.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Lt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $t.create("no-api-key");if(va[r]!=null)throw $t.create("already-exists",{id:r});if(!Xx){QV(Zd);const{wrappedGtag:i,gtagCore:o}=ZV(va,Gx,Qx,Zd,pM);dI=i,Yx=o,Xx=!0}return va[r]=dM(t,Gx,Qx,e,Yx,Zd,n),new fM(t)}function yM(t=xg()){t=Be(t);const e=Zs(t,ku);return e.isInitialized()?e.getImmediate():vM(t)}function vM(t,e={}){const n=Zs(t,ku);if(n.isInitialized()){const s=n.getImmediate();if(Jr(e,n.getOptions()))return s;throw $t.create("already-initialized")}return n.initialize({options:e})}function xM(t,e,n,r){t=Be(t),uM(dI,va[t.app.options.appId],e,n,r).catch(s=>Lt.error(s))}const Jx="@firebase/analytics",Zx="0.10.18";function wM(){Hn(new En(ku,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return gM(r,s,n)},"PUBLIC")),Hn(new En("analytics-internal",t,"PRIVATE")),tn(Jx,Zx),tn(Jx,Zx,"esm2020");function t(e){try{const n=e.getProvider(ku).getImmediate();return{logEvent:(r,s,i)=>xM(n,r,s,i)}}catch(n){throw $t.create("interop-component-reg-failed",{reason:n})}}}wM();var e1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kr,fI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,v){function I(){}I.prototype=v.prototype,S.D=v.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(C,N,j){for(var P=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)P[Pe-2]=arguments[Pe];return v.prototype[N].apply(C,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,v,I){I||(I=0);var C=Array(16);if(typeof v=="string")for(var N=0;16>N;++N)C[N]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(N=0;16>N;++N)C[N]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=S.g[0],I=S.g[1],N=S.g[2];var j=S.g[3],P=v+(j^I&(N^j))+C[0]+3614090360&4294967295;v=I+(P<<7&4294967295|P>>>25),P=j+(N^v&(I^N))+C[1]+3905402710&4294967295,j=v+(P<<12&4294967295|P>>>20),P=N+(I^j&(v^I))+C[2]+606105819&4294967295,N=j+(P<<17&4294967295|P>>>15),P=I+(v^N&(j^v))+C[3]+3250441966&4294967295,I=N+(P<<22&4294967295|P>>>10),P=v+(j^I&(N^j))+C[4]+4118548399&4294967295,v=I+(P<<7&4294967295|P>>>25),P=j+(N^v&(I^N))+C[5]+1200080426&4294967295,j=v+(P<<12&4294967295|P>>>20),P=N+(I^j&(v^I))+C[6]+2821735955&4294967295,N=j+(P<<17&4294967295|P>>>15),P=I+(v^N&(j^v))+C[7]+4249261313&4294967295,I=N+(P<<22&4294967295|P>>>10),P=v+(j^I&(N^j))+C[8]+1770035416&4294967295,v=I+(P<<7&4294967295|P>>>25),P=j+(N^v&(I^N))+C[9]+2336552879&4294967295,j=v+(P<<12&4294967295|P>>>20),P=N+(I^j&(v^I))+C[10]+4294925233&4294967295,N=j+(P<<17&4294967295|P>>>15),P=I+(v^N&(j^v))+C[11]+2304563134&4294967295,I=N+(P<<22&4294967295|P>>>10),P=v+(j^I&(N^j))+C[12]+1804603682&4294967295,v=I+(P<<7&4294967295|P>>>25),P=j+(N^v&(I^N))+C[13]+4254626195&4294967295,j=v+(P<<12&4294967295|P>>>20),P=N+(I^j&(v^I))+C[14]+2792965006&4294967295,N=j+(P<<17&4294967295|P>>>15),P=I+(v^N&(j^v))+C[15]+1236535329&4294967295,I=N+(P<<22&4294967295|P>>>10),P=v+(N^j&(I^N))+C[1]+4129170786&4294967295,v=I+(P<<5&4294967295|P>>>27),P=j+(I^N&(v^I))+C[6]+3225465664&4294967295,j=v+(P<<9&4294967295|P>>>23),P=N+(v^I&(j^v))+C[11]+643717713&4294967295,N=j+(P<<14&4294967295|P>>>18),P=I+(j^v&(N^j))+C[0]+3921069994&4294967295,I=N+(P<<20&4294967295|P>>>12),P=v+(N^j&(I^N))+C[5]+3593408605&4294967295,v=I+(P<<5&4294967295|P>>>27),P=j+(I^N&(v^I))+C[10]+38016083&4294967295,j=v+(P<<9&4294967295|P>>>23),P=N+(v^I&(j^v))+C[15]+3634488961&4294967295,N=j+(P<<14&4294967295|P>>>18),P=I+(j^v&(N^j))+C[4]+3889429448&4294967295,I=N+(P<<20&4294967295|P>>>12),P=v+(N^j&(I^N))+C[9]+568446438&4294967295,v=I+(P<<5&4294967295|P>>>27),P=j+(I^N&(v^I))+C[14]+3275163606&4294967295,j=v+(P<<9&4294967295|P>>>23),P=N+(v^I&(j^v))+C[3]+4107603335&4294967295,N=j+(P<<14&4294967295|P>>>18),P=I+(j^v&(N^j))+C[8]+1163531501&4294967295,I=N+(P<<20&4294967295|P>>>12),P=v+(N^j&(I^N))+C[13]+2850285829&4294967295,v=I+(P<<5&4294967295|P>>>27),P=j+(I^N&(v^I))+C[2]+4243563512&4294967295,j=v+(P<<9&4294967295|P>>>23),P=N+(v^I&(j^v))+C[7]+1735328473&4294967295,N=j+(P<<14&4294967295|P>>>18),P=I+(j^v&(N^j))+C[12]+2368359562&4294967295,I=N+(P<<20&4294967295|P>>>12),P=v+(I^N^j)+C[5]+4294588738&4294967295,v=I+(P<<4&4294967295|P>>>28),P=j+(v^I^N)+C[8]+2272392833&4294967295,j=v+(P<<11&4294967295|P>>>21),P=N+(j^v^I)+C[11]+1839030562&4294967295,N=j+(P<<16&4294967295|P>>>16),P=I+(N^j^v)+C[14]+4259657740&4294967295,I=N+(P<<23&4294967295|P>>>9),P=v+(I^N^j)+C[1]+2763975236&4294967295,v=I+(P<<4&4294967295|P>>>28),P=j+(v^I^N)+C[4]+1272893353&4294967295,j=v+(P<<11&4294967295|P>>>21),P=N+(j^v^I)+C[7]+4139469664&4294967295,N=j+(P<<16&4294967295|P>>>16),P=I+(N^j^v)+C[10]+3200236656&4294967295,I=N+(P<<23&4294967295|P>>>9),P=v+(I^N^j)+C[13]+681279174&4294967295,v=I+(P<<4&4294967295|P>>>28),P=j+(v^I^N)+C[0]+3936430074&4294967295,j=v+(P<<11&4294967295|P>>>21),P=N+(j^v^I)+C[3]+3572445317&4294967295,N=j+(P<<16&4294967295|P>>>16),P=I+(N^j^v)+C[6]+76029189&4294967295,I=N+(P<<23&4294967295|P>>>9),P=v+(I^N^j)+C[9]+3654602809&4294967295,v=I+(P<<4&4294967295|P>>>28),P=j+(v^I^N)+C[12]+3873151461&4294967295,j=v+(P<<11&4294967295|P>>>21),P=N+(j^v^I)+C[15]+530742520&4294967295,N=j+(P<<16&4294967295|P>>>16),P=I+(N^j^v)+C[2]+3299628645&4294967295,I=N+(P<<23&4294967295|P>>>9),P=v+(N^(I|~j))+C[0]+4096336452&4294967295,v=I+(P<<6&4294967295|P>>>26),P=j+(I^(v|~N))+C[7]+1126891415&4294967295,j=v+(P<<10&4294967295|P>>>22),P=N+(v^(j|~I))+C[14]+2878612391&4294967295,N=j+(P<<15&4294967295|P>>>17),P=I+(j^(N|~v))+C[5]+4237533241&4294967295,I=N+(P<<21&4294967295|P>>>11),P=v+(N^(I|~j))+C[12]+1700485571&4294967295,v=I+(P<<6&4294967295|P>>>26),P=j+(I^(v|~N))+C[3]+2399980690&4294967295,j=v+(P<<10&4294967295|P>>>22),P=N+(v^(j|~I))+C[10]+4293915773&4294967295,N=j+(P<<15&4294967295|P>>>17),P=I+(j^(N|~v))+C[1]+2240044497&4294967295,I=N+(P<<21&4294967295|P>>>11),P=v+(N^(I|~j))+C[8]+1873313359&4294967295,v=I+(P<<6&4294967295|P>>>26),P=j+(I^(v|~N))+C[15]+4264355552&4294967295,j=v+(P<<10&4294967295|P>>>22),P=N+(v^(j|~I))+C[6]+2734768916&4294967295,N=j+(P<<15&4294967295|P>>>17),P=I+(j^(N|~v))+C[13]+1309151649&4294967295,I=N+(P<<21&4294967295|P>>>11),P=v+(N^(I|~j))+C[4]+4149444226&4294967295,v=I+(P<<6&4294967295|P>>>26),P=j+(I^(v|~N))+C[11]+3174756917&4294967295,j=v+(P<<10&4294967295|P>>>22),P=N+(v^(j|~I))+C[2]+718787259&4294967295,N=j+(P<<15&4294967295|P>>>17),P=I+(j^(N|~v))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+j&4294967295}r.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var I=v-this.blockSize,C=this.B,N=this.h,j=0;j<v;){if(N==0)for(;j<=I;)s(this,S,j),j+=this.blockSize;if(typeof S=="string"){for(;j<v;)if(C[N++]=S.charCodeAt(j++),N==this.blockSize){s(this,C),N=0;break}}else for(;j<v;)if(C[N++]=S[j++],N==this.blockSize){s(this,C),N=0;break}}this.h=N,this.o+=v},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var I=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=I&255,I/=256;for(this.u(S),S=Array(16),v=I=0;4>v;++v)for(var C=0;32>C;C+=8)S[I++]=this.g[v]>>>C&255;return S};function i(S,v){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=v(S)}function o(S,v){this.h=v;for(var I=[],C=!0,N=S.length-1;0<=N;N--){var j=S[N]|0;C&&j==v||(I[N]=j,C=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?i(S,function(v){return new o([v|0],0>v?-1:0)}):new o([S|0],0>S?-1:0)}function h(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return R(h(-S));for(var v=[],I=1,C=0;S>=I;C++)v[C]=S/I|0,I*=4294967296;return new o(v,0)}function d(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return R(d(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=h(Math.pow(v,8)),C=f,N=0;N<S.length;N+=8){var j=Math.min(8,S.length-N),P=parseInt(S.substring(N,N+j),v);8>j?(j=h(Math.pow(v,j)),C=C.j(j).add(h(P))):(C=C.j(I),C=C.add(h(P)))}return C}var f=l(0),m=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(A(this))return-R(this).m();for(var S=0,v=1,I=0;I<this.g.length;I++){var C=this.i(I);S+=(0<=C?C:4294967296+C)*v,v*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T(this))return"0";if(A(this))return"-"+R(this).toString(S);for(var v=h(Math.pow(S,6)),I=this,C="";;){var N=k(I,v).g;I=w(I,N.j(v));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=N,T(I))return j+C;for(;6>j.length;)j="0"+j;C=j+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function T(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function A(S){return S.h==-1}t.l=function(S){return S=w(this,S),A(S)?-1:T(S)?0:1};function R(S){for(var v=S.g.length,I=[],C=0;C<v;C++)I[C]=~S.g[C];return new o(I,~S.h).add(m)}t.abs=function(){return A(this)?R(this):this},t.add=function(S){for(var v=Math.max(this.g.length,S.g.length),I=[],C=0,N=0;N<=v;N++){var j=C+(this.i(N)&65535)+(S.i(N)&65535),P=(j>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);C=P>>>16,j&=65535,P&=65535,I[N]=P<<16|j}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(S,v){return S.add(R(v))}t.j=function(S){if(T(this)||T(S))return f;if(A(this))return A(S)?R(this).j(R(S)):R(R(this).j(S));if(A(S))return R(this.j(R(S)));if(0>this.l(y)&&0>S.l(y))return h(this.m()*S.m());for(var v=this.g.length+S.g.length,I=[],C=0;C<2*v;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var N=0;N<S.g.length;N++){var j=this.i(C)>>>16,P=this.i(C)&65535,Pe=S.i(N)>>>16,bt=S.i(N)&65535;I[2*C+2*N]+=P*bt,x(I,2*C+2*N),I[2*C+2*N+1]+=j*bt,x(I,2*C+2*N+1),I[2*C+2*N+1]+=P*Pe,x(I,2*C+2*N+1),I[2*C+2*N+2]+=j*Pe,x(I,2*C+2*N+2)}for(C=0;C<v;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=v;C<2*v;C++)I[C]=0;return new o(I,0)};function x(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function E(S,v){this.g=S,this.h=v}function k(S,v){if(T(v))throw Error("division by zero");if(T(S))return new E(f,f);if(A(S))return v=k(R(S),v),new E(R(v.g),R(v.h));if(A(v))return v=k(S,R(v)),new E(R(v.g),v.h);if(30<S.g.length){if(A(S)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,C=v;0>=C.l(S);)I=D(I),C=D(C);var N=M(I,1),j=M(C,1);for(C=M(C,2),I=M(I,2);!T(C);){var P=j.add(C);0>=P.l(S)&&(N=N.add(I),j=P),C=M(C,1),I=M(I,1)}return v=w(S,N.j(v)),new E(N,v)}for(N=f;0<=S.l(v);){for(I=Math.max(1,Math.floor(S.m()/v.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),j=h(I),P=j.j(v);A(P)||0<P.l(S);)I-=C,j=h(I),P=j.j(v);T(j)&&(j=m),N=N.add(j),S=w(S,P)}return new E(N,S)}t.A=function(S){return k(this,S).h},t.and=function(S){for(var v=Math.max(this.g.length,S.g.length),I=[],C=0;C<v;C++)I[C]=this.i(C)&S.i(C);return new o(I,this.h&S.h)},t.or=function(S){for(var v=Math.max(this.g.length,S.g.length),I=[],C=0;C<v;C++)I[C]=this.i(C)|S.i(C);return new o(I,this.h|S.h)},t.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),I=[],C=0;C<v;C++)I[C]=this.i(C)^S.i(C);return new o(I,this.h^S.h)};function D(S){for(var v=S.g.length+1,I=[],C=0;C<v;C++)I[C]=S.i(C)<<1|S.i(C-1)>>>31;return new o(I,S.h)}function M(S,v){var I=v>>5;v%=32;for(var C=S.g.length-I,N=[],j=0;j<C;j++)N[j]=0<v?S.i(j+I)>>>v|S.i(j+I+1)<<32-v:S.i(j+I);return new o(N,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,Kr=o}).apply(typeof e1<"u"?e1:typeof self<"u"?self:typeof window<"u"?window:{});var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pI,na,mI,zc,Ap,gI,yI,vI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,g){return c==Array.prototype||c==Object.prototype||(c[p]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fc=="object"&&fc];for(var p=0;p<c.length;++p){var g=c[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(c,p){if(p)e:{var g=r;c=c.split(".");for(var _=0;_<c.length-1;_++){var V=c[_];if(!(V in g))break e;g=g[V]}c=c[c.length-1],_=g[c],p=p(_),p!=_&&p!=null&&e(g,c,{configurable:!0,writable:!0,value:p})}}function i(c,p){c instanceof String&&(c+="");var g=0,_=!1,V={next:function(){if(!_&&g<c.length){var L=g++;return{value:p(L,c[L]),done:!1}}return _=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(c){return c||function(){return i(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function h(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,g){return c.call.apply(c.bind,arguments)}function f(c,p,g){if(!c)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,_),c.apply(p,V)}}return function(){return c.apply(p,arguments)}}function m(c,p,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function y(c,p){var g=Array.prototype.slice.call(arguments,1);return function(){var _=g.slice();return _.push.apply(_,arguments),c.apply(this,_)}}function T(c,p){function g(){}g.prototype=p.prototype,c.aa=p.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(_,V,L){for(var H=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)H[xe-2]=arguments[xe];return p.prototype[V].apply(_,H)}}function A(c){const p=c.length;if(0<p){const g=Array(p);for(let _=0;_<p;_++)g[_]=c[_];return g}return[]}function R(c,p){for(let g=1;g<arguments.length;g++){const _=arguments[g];if(l(_)){const V=c.length||0,L=_.length||0;c.length=V+L;for(let H=0;H<L;H++)c[V+H]=_[H]}else c.push(_)}}class w{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function x(c){return/^[\s\xa0]*$/.test(c)}function E(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function k(c){return k[" "](c),c}k[" "]=function(){};var D=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function M(c,p,g){for(const _ in c)p.call(g,c[_],_,c)}function S(c,p){for(const g in c)p.call(void 0,c[g],g,c)}function v(c){const p={};for(const g in c)p[g]=c[g];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,p){let g,_;for(let V=1;V<arguments.length;V++){_=arguments[V];for(g in _)c[g]=_[g];for(let L=0;L<I.length;L++)g=I[L],Object.prototype.hasOwnProperty.call(_,g)&&(c[g]=_[g])}}function N(c){var p=1;c=c.split(":");const g=[];for(;0<p&&c.length;)g.push(c.shift()),p--;return c.length&&g.push(c.join(":")),g}function j(c){a.setTimeout(()=>{throw c},0)}function P(){var c=W;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Pe{constructor(){this.h=this.g=null}add(p,g){const _=bt.get();_.set(p,g),this.h?this.h.next=_:this.g=_,this.h=_}}var bt=new w(()=>new Kt,c=>c.reset());class Kt{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,O=!1,W=new Pe,X=()=>{const c=a.Promise.resolve(void 0);pe=()=>{c.then(B)}};var B=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(g){j(g)}var p=bt;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}O=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return c}();function le(c,p){if(K.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,_=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(D){e:{try{k(p.nodeName);var V=!0;break e}catch{}V=!1}V||(p=null)}}else g=="mouseover"?p=c.fromElement:g=="mouseout"&&(p=c.toElement);this.relatedTarget=p,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&le.aa.h.call(this)}}T(le,K);var oe={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Kn=0;function on(c,p,g,_,V){this.listener=c,this.proxy=null,this.src=p,this.type=g,this.capture=!!_,this.ha=V,this.key=++Kn,this.da=this.fa=!1}function lt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function an(c){this.src=c,this.g={},this.h=0}an.prototype.add=function(c,p,g,_,V){var L=c.toString();c=this.g[L],c||(c=this.g[L]=[],this.h++);var H=Kh(c,p,_,V);return-1<H?(p=c[H],g||(p.fa=!1)):(p=new on(p,this.src,L,!!_,V),p.fa=g,c.push(p)),p};function Gn(c,p){var g=p.type;if(g in c.g){var _=c.g[g],V=Array.prototype.indexOf.call(_,p,void 0),L;(L=0<=V)&&Array.prototype.splice.call(_,V,1),L&&(lt(p),c.g[g].length==0&&(delete c.g[g],c.h--))}}function Kh(c,p,g,_){for(var V=0;V<c.length;++V){var L=c[V];if(!L.da&&L.listener==p&&L.capture==!!g&&L.ha==_)return V}return-1}var Gh="closure_lm_"+(1e6*Math.random()|0),Qh={};function t0(c,p,g,_,V){if(Array.isArray(p)){for(var L=0;L<p.length;L++)t0(c,p[L],g,_,V);return null}return g=s0(g),c&&c[ye]?c.K(p,g,h(_)?!!_.capture:!!_,V):Nb(c,p,g,!1,_,V)}function Nb(c,p,g,_,V,L){if(!p)throw Error("Invalid event type");var H=h(V)?!!V.capture:!!V,xe=Xh(c);if(xe||(c[Gh]=xe=new an(c)),g=xe.add(p,g,_,H,L),g.proxy)return g;if(_=kb(),g.proxy=_,_.src=c,_.listener=g,c.addEventListener)ie||(V=H),V===void 0&&(V=!1),c.addEventListener(p.toString(),_,V);else if(c.attachEvent)c.attachEvent(r0(p.toString()),_);else if(c.addListener&&c.removeListener)c.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return g}function kb(){function c(g){return p.call(c.src,c.listener,g)}const p=jb;return c}function n0(c,p,g,_,V){if(Array.isArray(p))for(var L=0;L<p.length;L++)n0(c,p[L],g,_,V);else _=h(_)?!!_.capture:!!_,g=s0(g),c&&c[ye]?(c=c.i,p=String(p).toString(),p in c.g&&(L=c.g[p],g=Kh(L,g,_,V),-1<g&&(lt(L[g]),Array.prototype.splice.call(L,g,1),L.length==0&&(delete c.g[p],c.h--)))):c&&(c=Xh(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Kh(p,g,_,V)),(g=-1<c?p[c]:null)&&Yh(g))}function Yh(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ye])Gn(p.i,c);else{var g=c.type,_=c.proxy;p.removeEventListener?p.removeEventListener(g,_,c.capture):p.detachEvent?p.detachEvent(r0(g),_):p.addListener&&p.removeListener&&p.removeListener(_),(g=Xh(p))?(Gn(g,c),g.h==0&&(g.src=null,p[Gh]=null)):lt(c)}}}function r0(c){return c in Qh?Qh[c]:Qh[c]="on"+c}function jb(c,p){if(c.da)c=!0;else{p=new le(p,this);var g=c.listener,_=c.ha||c.src;c.fa&&Yh(c),c=g.call(_,p)}return c}function Xh(c){return c=c[Gh],c instanceof an?c:null}var Jh="__closure_events_fn_"+(1e9*Math.random()>>>0);function s0(c){return typeof c=="function"?c:(c[Jh]||(c[Jh]=function(p){return c.handleEvent(p)}),c[Jh])}function ct(){z.call(this),this.i=new an(this),this.M=this,this.F=null}T(ct,z),ct.prototype[ye]=!0,ct.prototype.removeEventListener=function(c,p,g,_){n0(this,c,p,g,_)};function _t(c,p){var g,_=c.F;if(_)for(g=[];_;_=_.F)g.push(_);if(c=c.M,_=p.type||p,typeof p=="string")p=new K(p,c);else if(p instanceof K)p.target=p.target||c;else{var V=p;p=new K(_,c),C(p,V)}if(V=!0,g)for(var L=g.length-1;0<=L;L--){var H=p.g=g[L];V=kl(H,_,!0,p)&&V}if(H=p.g=c,V=kl(H,_,!0,p)&&V,V=kl(H,_,!1,p)&&V,g)for(L=0;L<g.length;L++)H=p.g=g[L],V=kl(H,_,!1,p)&&V}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var g=c.g[p],_=0;_<g.length;_++)lt(g[_]);delete c.g[p],c.h--}}this.F=null},ct.prototype.K=function(c,p,g,_){return this.i.add(String(c),p,!1,g,_)},ct.prototype.L=function(c,p,g,_){return this.i.add(String(c),p,!0,g,_)};function kl(c,p,g,_){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,L=0;L<p.length;++L){var H=p[L];if(H&&!H.da&&H.capture==g){var xe=H.listener,et=H.ha||H.src;H.fa&&Gn(c.i,H),V=xe.call(et,_)!==!1&&V}}return V&&!_.defaultPrevented}function i0(c,p,g){if(typeof c=="function")g&&(c=m(c,g));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function o0(c){c.g=i0(()=>{c.g=null,c.i&&(c.i=!1,o0(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Db extends z{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:o0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Co(c){z.call(this),this.h=c,this.g={}}T(Co,z);var a0=[];function l0(c){M(c.g,function(p,g){this.g.hasOwnProperty(g)&&Yh(p)},c),c.g={}}Co.prototype.N=function(){Co.aa.N.call(this),l0(this)},Co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zh=a.JSON.stringify,Vb=a.JSON.parse,Mb=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ed(){}ed.prototype.h=null;function c0(c){return c.h||(c.h=c.i())}function u0(){}var bo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function td(){K.call(this,"d")}T(td,K);function nd(){K.call(this,"c")}T(nd,K);var ms={},h0=null;function jl(){return h0=h0||new ct}ms.La="serverreachability";function d0(c){K.call(this,ms.La,c)}T(d0,K);function Po(c){const p=jl();_t(p,new d0(p))}ms.STAT_EVENT="statevent";function f0(c,p){K.call(this,ms.STAT_EVENT,c),this.stat=p}T(f0,K);function Et(c){const p=jl();_t(p,new f0(p,c))}ms.Ma="timingevent";function p0(c,p){K.call(this,ms.Ma,c),this.size=p}T(p0,K);function Ro(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function No(){this.g=!0}No.prototype.xa=function(){this.g=!1};function Lb(c,p,g,_,V,L){c.info(function(){if(c.g)if(L)for(var H="",xe=L.split("&"),et=0;et<xe.length;et++){var me=xe[et].split("=");if(1<me.length){var ut=me[0];me=me[1];var ht=ut.split("_");H=2<=ht.length&&ht[1]=="type"?H+(ut+"="+me+"&"):H+(ut+"=redacted&")}}else H=null;else H=L;return"XMLHTTP REQ ("+_+") [attempt "+V+"]: "+p+`
`+g+`
`+H})}function Ob(c,p,g,_,V,L,H){c.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+V+"]: "+p+`
`+g+`
`+L+" "+H})}function ri(c,p,g,_){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ub(c,g)+(_?" "+_:"")})}function Fb(c,p){c.info(function(){return"TIMEOUT: "+p})}No.prototype.info=function(){};function Ub(c,p){if(!c.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var _=g[c];if(!(2>_.length)){var V=_[1];if(Array.isArray(V)&&!(1>V.length)){var L=V[0];if(L!="noop"&&L!="stop"&&L!="close")for(var H=1;H<V.length;H++)V[H]=""}}}}return Zh(g)}catch{return p}}var Dl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},m0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rd;function Vl(){}T(Vl,ed),Vl.prototype.g=function(){return new XMLHttpRequest},Vl.prototype.i=function(){return{}},rd=new Vl;function vr(c,p,g,_){this.j=c,this.i=p,this.l=g,this.R=_||1,this.U=new Co(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new g0}function g0(){this.i=null,this.g="",this.h=!1}var y0={},sd={};function id(c,p,g){c.L=1,c.v=Fl(Qn(p)),c.m=g,c.P=!0,v0(c,null)}function v0(c,p){c.F=Date.now(),Ml(c),c.A=Qn(c.v);var g=c.A,_=c.R;Array.isArray(_)||(_=[String(_)]),k0(g.i,"t",_),c.C=0,g=c.j.J,c.h=new g0,c.g=Y0(c.j,g?p:null,!c.m),0<c.O&&(c.M=new Db(m(c.Y,c,c.g),c.O)),p=c.U,g=c.g,_=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(a0[0]=V.toString()),V=a0);for(var L=0;L<V.length;L++){var H=t0(g,V[L],_||p.handleEvent,!1,p.h||p);if(!H)break;p.g[H.key]=H}p=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Po(),Lb(c.i,c.u,c.A,c.l,c.R,c.m)}vr.prototype.ca=function(c){c=c.target;const p=this.M;p&&Yn(c)==3?p.j():this.Y(c)},vr.prototype.Y=function(c){try{if(c==this.g)e:{const ht=Yn(this.g);var p=this.g.Ba();const oi=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||F0(this.g)))){this.J||ht!=4||p==7||(p==8||0>=oi?Po(3):Po(2)),od(this);var g=this.g.Z();this.X=g;t:if(x0(this)){var _=F0(this.g);c="";var V=_.length,L=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gs(this),ko(this);var H="";break t}this.h.i=new a.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,c+=this.h.i.decode(_[p],{stream:!(L&&p==V-1)});_.length=0,this.h.g+=c,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=g==200,Ob(this.i,this.u,this.A,this.l,this.R,ht,g),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,et=this.g;if((xe=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(xe)){var me=xe;break t}}me=null}if(g=me)ri(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ad(this,g);else{this.o=!1,this.s=3,Et(12),gs(this),ko(this);break e}}if(this.P){g=!0;let ln;for(;!this.J&&this.C<H.length;)if(ln=Bb(this,H),ln==sd){ht==4&&(this.s=4,Et(14),g=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==y0){this.s=4,Et(15),ri(this.i,this.l,H,"[Invalid Chunk]"),g=!1;break}else ri(this.i,this.l,ln,null),ad(this,ln);if(x0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||H.length!=0||this.h.h||(this.s=1,Et(16),g=!1),this.o=this.o&&g,!g)ri(this.i,this.l,H,"[Invalid Chunked Response]"),gs(this),ko(this);else if(0<H.length&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.ba&&!ut.M&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),fd(ut),ut.M=!0,Et(11))}}else ri(this.i,this.l,H,null),ad(this,H);ht==4&&gs(this),this.o&&!this.J&&(ht==4?q0(this.j,this):(this.o=!1,Ml(this)))}else sP(this.g),g==400&&0<H.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),gs(this),ko(this)}}}catch{}finally{}};function x0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Bb(c,p){var g=c.C,_=p.indexOf(`
`,g);return _==-1?sd:(g=Number(p.substring(g,_)),isNaN(g)?y0:(_+=1,_+g>p.length?sd:(p=p.slice(_,_+g),c.C=_+g,p)))}vr.prototype.cancel=function(){this.J=!0,gs(this)};function Ml(c){c.S=Date.now()+c.I,w0(c,c.I)}function w0(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ro(m(c.ba,c),p)}function od(c){c.B&&(a.clearTimeout(c.B),c.B=null)}vr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Fb(this.i,this.A),this.L!=2&&(Po(),Et(17)),gs(this),this.s=2,ko(this)):w0(this,this.S-c)};function ko(c){c.j.G==0||c.J||q0(c.j,c)}function gs(c){od(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,l0(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function ad(c,p){try{var g=c.j;if(g.G!=0&&(g.g==c||ld(g.h,c))){if(!c.K&&ld(g.h,c)&&g.G==3){try{var _=g.Da.g.parse(p)}catch{_=null}if(Array.isArray(_)&&_.length==3){var V=_;if(V[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Wl(g),$l(g);else break e;dd(g),Et(18)}}else g.za=V[1],0<g.za-g.T&&37500>V[2]&&g.F&&g.v==0&&!g.C&&(g.C=Ro(m(g.Za,g),6e3));if(1>=T0(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else vs(g,11)}else if((c.K||g.g==c)&&Wl(g),!x(p))for(V=g.Da.g.parse(p),p=0;p<V.length;p++){let me=V[p];if(g.T=me[0],me=me[1],g.G==2)if(me[0]=="c"){g.K=me[1],g.ia=me[2];const ut=me[3];ut!=null&&(g.la=ut,g.j.info("VER="+g.la));const ht=me[4];ht!=null&&(g.Aa=ht,g.j.info("SVER="+g.Aa));const oi=me[5];oi!=null&&typeof oi=="number"&&0<oi&&(_=1.5*oi,g.L=_,g.j.info("backChannelRequestTimeoutMs_="+_)),_=g;const ln=c.g;if(ln){const Kl=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kl){var L=_.h;L.g||Kl.indexOf("spdy")==-1&&Kl.indexOf("quic")==-1&&Kl.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(cd(L,L.h),L.h=null))}if(_.D){const pd=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;pd&&(_.ya=pd,Ee(_.I,_.D,pd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),_=g;var H=c;if(_.qa=Q0(_,_.J?_.ia:null,_.W),H.K){S0(_.h,H);var xe=H,et=_.L;et&&(xe.I=et),xe.B&&(od(xe),Ml(xe)),_.g=H}else H0(_);0<g.i.length&&Hl(g)}else me[0]!="stop"&&me[0]!="close"||vs(g,7);else g.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?vs(g,7):hd(g):me[0]!="noop"&&g.l&&g.l.ta(me),g.v=0)}}Po(4)}catch{}}var zb=class{constructor(c,p){this.g=c,this.map=p}};function _0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function E0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function T0(c){return c.h?1:c.g?c.g.size:0}function ld(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function cd(c,p){c.g?c.g.add(p):c.h=p}function S0(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}_0.prototype.cancel=function(){if(this.i=I0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function I0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const g of c.g.values())p=p.concat(g.D);return p}return A(c.i)}function $b(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],g=c.length,_=0;_<g;_++)p.push(c[_]);return p}p=[],g=0;for(_ in c)p[g++]=c[_];return p}function Hb(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var g=0;g<c;g++)p.push(g);return p}p=[],g=0;for(const _ in c)p[g++]=_;return p}}}function A0(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var g=Hb(c),_=$b(c),V=_.length,L=0;L<V;L++)p.call(void 0,_[L],g&&g[L],c)}var C0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wb(c,p){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var _=c[g].indexOf("="),V=null;if(0<=_){var L=c[g].substring(0,_);V=c[g].substring(_+1)}else L=c[g];p(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ys(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ys){this.h=c.h,Ll(this,c.j),this.o=c.o,this.g=c.g,Ol(this,c.s),this.l=c.l;var p=c.i,g=new Vo;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),b0(this,g),this.m=c.m}else c&&(p=String(c).match(C0))?(this.h=!1,Ll(this,p[1]||"",!0),this.o=jo(p[2]||""),this.g=jo(p[3]||"",!0),Ol(this,p[4]),this.l=jo(p[5]||"",!0),b0(this,p[6]||"",!0),this.m=jo(p[7]||"")):(this.h=!1,this.i=new Vo(null,this.h))}ys.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Do(p,P0,!0),":");var g=this.g;return(g||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Do(p,P0,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Do(g,g.charAt(0)=="/"?Gb:Kb,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Do(g,Yb)),c.join("")};function Qn(c){return new ys(c)}function Ll(c,p,g){c.j=g?jo(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Ol(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function b0(c,p,g){p instanceof Vo?(c.i=p,Xb(c.i,c.h)):(g||(p=Do(p,Qb)),c.i=new Vo(p,c.h))}function Ee(c,p,g){c.i.set(p,g)}function Fl(c){return Ee(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function jo(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Do(c,p,g){return typeof c=="string"?(c=encodeURI(c).replace(p,qb),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function qb(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var P0=/[#\/\?@]/g,Kb=/[#\?:]/g,Gb=/[#\?]/g,Qb=/[#\?@]/g,Yb=/#/g;function Vo(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function xr(c){c.g||(c.g=new Map,c.h=0,c.i&&Wb(c.i,function(p,g){c.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=Vo.prototype,t.add=function(c,p){xr(this),this.i=null,c=si(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(p),this.h+=1,this};function R0(c,p){xr(c),p=si(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function N0(c,p){return xr(c),p=si(c,p),c.g.has(p)}t.forEach=function(c,p){xr(this),this.g.forEach(function(g,_){g.forEach(function(V){c.call(p,V,_,this)},this)},this)},t.na=function(){xr(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let _=0;_<p.length;_++){const V=c[_];for(let L=0;L<V.length;L++)g.push(p[_])}return g},t.V=function(c){xr(this);let p=[];if(typeof c=="string")N0(this,c)&&(p=p.concat(this.g.get(si(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)p=p.concat(c[g])}return p},t.set=function(c,p){return xr(this),this.i=null,c=si(this,c),N0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function k0(c,p,g){R0(c,p),0<g.length&&(c.i=null,c.g.set(si(c,p),A(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var _=p[g];const L=encodeURIComponent(String(_)),H=this.V(_);for(_=0;_<H.length;_++){var V=L;H[_]!==""&&(V+="="+encodeURIComponent(String(H[_]))),c.push(V)}}return this.i=c.join("&")};function si(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Xb(c,p){p&&!c.j&&(xr(c),c.i=null,c.g.forEach(function(g,_){var V=_.toLowerCase();_!=V&&(R0(this,_),k0(this,V,g))},c)),c.j=p}function Jb(c,p){const g=new No;if(a.Image){const _=new Image;_.onload=y(wr,g,"TestLoadImage: loaded",!0,p,_),_.onerror=y(wr,g,"TestLoadImage: error",!1,p,_),_.onabort=y(wr,g,"TestLoadImage: abort",!1,p,_),_.ontimeout=y(wr,g,"TestLoadImage: timeout",!1,p,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=c}else p(!1)}function Zb(c,p){const g=new No,_=new AbortController,V=setTimeout(()=>{_.abort(),wr(g,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:_.signal}).then(L=>{clearTimeout(V),L.ok?wr(g,"TestPingServer: ok",!0,p):wr(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),wr(g,"TestPingServer: error",!1,p)})}function wr(c,p,g,_,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),_(g)}catch{}}function eP(){this.g=new Mb}function tP(c,p,g){const _=g||"";try{A0(c,function(V,L){let H=V;h(V)&&(H=Zh(V)),p.push(_+L+"="+encodeURIComponent(H))})}catch(V){throw p.push(_+"type="+encodeURIComponent("_badmap")),V}}function Ul(c){this.l=c.Ub||null,this.j=c.eb||!1}T(Ul,ed),Ul.prototype.g=function(){return new Bl(this.l,this.j)},Ul.prototype.i=function(c){return function(){return c}}({});function Bl(c,p){ct.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Bl,ct),t=Bl.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Lo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Lo(this)),this.g&&(this.readyState=3,Lo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;j0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function j0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Mo(this):Lo(this),this.readyState==3&&j0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Mo(this))},t.Qa=function(c){this.g&&(this.response=c,Mo(this))},t.ga=function(){this.g&&Mo(this)};function Mo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Lo(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=p.next();return c.join(`\r
`)};function Lo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function D0(c){let p="";return M(c,function(g,_){p+=_,p+=":",p+=g,p+=`\r
`}),p}function ud(c,p,g){e:{for(_ in g){var _=!1;break e}_=!0}_||(g=D0(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):Ee(c,p,g))}function Ve(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ve,ct);var nP=/^https?$/i,rP=["POST","PUT"];t=Ve.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,g,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rd.g(),this.v=this.o?c0(this.o):c0(rd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(L){V0(this,L);return}if(c=g||"",g=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var V in _)g.set(V,_[V]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const L of _.keys())g.set(L,_.get(L));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),V=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(rP,p,void 0))||_||V||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,H]of g)this.g.setRequestHeader(L,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{O0(this),this.u=!0,this.g.send(c),this.u=!1}catch(L){V0(this,L)}};function V0(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,M0(c),zl(c)}function M0(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,_t(this,"complete"),_t(this,"abort"),zl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zl(this,!0)),Ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?L0(this):this.bb())},t.bb=function(){L0(this)};function L0(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Yn(c)!=4||c.Z()!=2)){if(c.u&&Yn(c)==4)i0(c.Ea,0,c);else if(_t(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const H=c.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var _;if(_=H===0){var V=String(c.D).match(C0)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),_=!nP.test(V?V.toLowerCase():"")}g=_}if(g)_t(c,"complete"),_t(c,"success");else{c.m=6;try{var L=2<Yn(c)?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.Z()+"]",M0(c)}}finally{zl(c)}}}}function zl(c,p){if(c.g){O0(c);const g=c.g,_=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||_t(c,"ready");try{g.onreadystatechange=_}catch{}}}function O0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Vb(p)}};function F0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function sP(c){const p={};c=(c.g&&2<=Yn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<c.length;_++){if(x(c[_]))continue;var g=N(c[_]);const V=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=p[V]||[];p[V]=L,L.push(g)}S(p,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oo(c,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||p}function U0(c){this.Aa=0,this.i=[],this.j=new No,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oo("baseRetryDelayMs",5e3,c),this.cb=Oo("retryDelaySeedMs",1e4,c),this.Wa=Oo("forwardChannelMaxRetries",2,c),this.wa=Oo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new _0(c&&c.concurrentRequestLimit),this.Da=new eP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=U0.prototype,t.la=8,t.G=1,t.connect=function(c,p,g,_){Et(0),this.W=c,this.H=p||{},g&&_!==void 0&&(this.H.OSID=g,this.H.OAID=_),this.F=this.X,this.I=Q0(this,null,this.W),Hl(this)};function hd(c){if(B0(c),c.G==3){var p=c.U++,g=Qn(c.I);if(Ee(g,"SID",c.K),Ee(g,"RID",p),Ee(g,"TYPE","terminate"),Fo(c,g),p=new vr(c,c.j,p),p.L=2,p.v=Fl(Qn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=Y0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ml(p)}G0(c)}function $l(c){c.g&&(fd(c),c.g.cancel(),c.g=null)}function B0(c){$l(c),c.u&&(a.clearTimeout(c.u),c.u=null),Wl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Hl(c){if(!E0(c.h)&&!c.s){c.s=!0;var p=c.Ga;pe||X(),O||(pe(),O=!0),W.add(p,c),c.B=0}}function iP(c,p){return T0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ro(m(c.Ga,c,p),K0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new vr(this,this.j,c);let L=this.o;if(this.S&&(L?(L=v(L),C(L,this.S)):L=this.S),this.m!==null||this.O||(V.H=L,L=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var _=this.i[g];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(p+=_,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=$0(this,V,p),g=Qn(this.I),Ee(g,"RID",c),Ee(g,"CVER",22),this.D&&Ee(g,"X-HTTP-Session-Id",this.D),Fo(this,g),L&&(this.O?p="headers="+encodeURIComponent(String(D0(L)))+"&"+p:this.m&&ud(g,this.m,L)),cd(this.h,V),this.Ua&&Ee(g,"TYPE","init"),this.P?(Ee(g,"$req",p),Ee(g,"SID","null"),V.T=!0,id(V,g,null)):id(V,g,p),this.G=2}}else this.G==3&&(c?z0(this,c):this.i.length==0||E0(this.h)||z0(this))};function z0(c,p){var g;p?g=p.l:g=c.U++;const _=Qn(c.I);Ee(_,"SID",c.K),Ee(_,"RID",g),Ee(_,"AID",c.T),Fo(c,_),c.m&&c.o&&ud(_,c.m,c.o),g=new vr(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),p&&(c.i=p.D.concat(c.i)),p=$0(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),cd(c.h,g),id(g,_,p)}function Fo(c,p){c.H&&M(c.H,function(g,_){Ee(p,_,g)}),c.l&&A0({},function(g,_){Ee(p,_,g)})}function $0(c,p,g){g=Math.min(c.i.length,g);var _=c.l?m(c.l.Na,c.l,c):null;e:{var V=c.i;let L=-1;for(;;){const H=["count="+g];L==-1?0<g?(L=V[0].g,H.push("ofs="+L)):L=0:H.push("ofs="+L);let xe=!0;for(let et=0;et<g;et++){let me=V[et].g;const ut=V[et].map;if(me-=L,0>me)L=Math.max(0,V[et].g-100),xe=!1;else try{tP(ut,H,"req"+me+"_")}catch{_&&_(ut)}}if(xe){_=H.join("&");break e}}}return c=c.i.splice(0,g),p.D=c,_}function H0(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;pe||X(),O||(pe(),O=!0),W.add(p,c),c.v=0}}function dd(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ro(m(c.Fa,c),K0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,W0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ro(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),$l(this),W0(this))};function fd(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function W0(c){c.g=new vr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Qn(c.qa);Ee(p,"RID","rpc"),Ee(p,"SID",c.K),Ee(p,"AID",c.T),Ee(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ee(p,"TO",c.ja),Ee(p,"TYPE","xmlhttp"),Fo(c,p),c.m&&c.o&&ud(p,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=Fl(Qn(p)),g.m=null,g.P=!0,v0(g,c)}t.Za=function(){this.C!=null&&(this.C=null,$l(this),dd(this),Et(19))};function Wl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function q0(c,p){var g=null;if(c.g==p){Wl(c),fd(c),c.g=null;var _=2}else if(ld(c.h,p))g=p.D,S0(c.h,p),_=1;else return;if(c.G!=0){if(p.o)if(_==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var V=c.B;_=jl(),_t(_,new p0(_,g)),Hl(c)}else H0(c);else if(V=p.s,V==3||V==0&&0<p.X||!(_==1&&iP(c,p)||_==2&&dd(c)))switch(g&&0<g.length&&(p=c.h,p.i=p.i.concat(g)),V){case 1:vs(c,5);break;case 4:vs(c,10);break;case 3:vs(c,6);break;default:vs(c,2)}}}function K0(c,p){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*p}function vs(c,p){if(c.j.info("Error code "+p),p==2){var g=m(c.fb,c),_=c.Xa;const V=!_;_=new ys(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ll(_,"https"),Fl(_),V?Jb(_.toString(),g):Zb(_.toString(),g)}else Et(2);c.G=0,c.l&&c.l.sa(p),G0(c),B0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function G0(c){if(c.G=0,c.ka=[],c.l){const p=I0(c.h);(p.length!=0||c.i.length!=0)&&(R(c.ka,p),R(c.ka,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.ra()}}function Q0(c,p,g){var _=g instanceof ys?Qn(g):new ys(g);if(_.g!="")p&&(_.g=p+"."+_.g),Ol(_,_.s);else{var V=a.location;_=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var L=new ys(null);_&&Ll(L,_),p&&(L.g=p),V&&Ol(L,V),g&&(L.l=g),_=L}return g=c.D,p=c.ya,g&&p&&Ee(_,g,p),Ee(_,"VER",c.la),Fo(c,_),_}function Y0(c,p,g){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Ve(new Ul({eb:g})):new Ve(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function X0(){}t=X0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ql(){}ql.prototype.g=function(c,p){return new Ot(c,p)};function Ot(c,p){ct.call(this),this.g=new U0(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!x(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!x(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ii(this)}T(Ot,ct),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){hd(this.g)},Ot.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=Zh(c),c=g);p.i.push(new zb(p.Ya++,c)),p.G==3&&Hl(p)},Ot.prototype.N=function(){this.g.l=null,delete this.j,hd(this.g),delete this.g,Ot.aa.N.call(this)};function J0(c){td.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const g in p){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}T(J0,td);function Z0(){nd.call(this),this.status=1}T(Z0,nd);function ii(c){this.g=c}T(ii,X0),ii.prototype.ua=function(){_t(this.g,"a")},ii.prototype.ta=function(c){_t(this.g,new J0(c))},ii.prototype.sa=function(c){_t(this.g,new Z0)},ii.prototype.ra=function(){_t(this.g,"b")},ql.prototype.createWebChannel=ql.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,vI=function(){return new ql},yI=function(){return jl()},gI=ms,Ap={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dl.NO_ERROR=0,Dl.TIMEOUT=8,Dl.HTTP_ERROR=6,zc=Dl,m0.COMPLETE="complete",mI=m0,u0.EventType=bo,bo.OPEN="a",bo.CLOSE="b",bo.ERROR="c",bo.MESSAGE="d",ct.prototype.listen=ct.prototype.K,na=u0,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,pI=Ve}).apply(typeof fc<"u"?fc:typeof self<"u"?self:typeof window<"u"?window:{});const t1="@firebase/firestore",n1="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new vh("@firebase/firestore");function li(){return Ks.logLevel}function G(t,...e){if(Ks.logLevel<=ce.DEBUG){const n=e.map(jg);Ks.debug(`Firestore (${vo}): ${t}`,...n)}}function dr(t,...e){if(Ks.logLevel<=ce.ERROR){const n=e.map(jg);Ks.error(`Firestore (${vo}): ${t}`,...n)}}function Yi(t,...e){if(Ks.logLevel<=ce.WARN){const n=e.map(jg);Ks.warn(`Firestore (${vo}): ${t}`,...n)}}function jg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,xI(t,r,n)}function xI(t,e,n){let r=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw dr(r),new Error(r)}function ge(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||xI(e,s,r)}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends An{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _M{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}}class EM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TM{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Gr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Gr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string",31837,{l:r}),new wI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string",2055,{h:e}),new mt(e)}}class SM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new SM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ge(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new r1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new r1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=CM(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function Cp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return ef(s)===ef(i)?ue(s,i):ef(s)?1:-1}return ue(t.length,e.length)}const bM=55296,PM=57343;function ef(t){const e=t.charCodeAt(0);return e>=bM&&e<=PM}function Xi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="__name__";class Rn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Rn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ue(e.length,n.length)}static compareSegments(e,n){const r=Rn.isNumericId(e),s=Rn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Rn.extractNumericId(e).compare(Rn.extractNumericId(n)):Cp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kr.fromString(e.substring(4,e.length-2))}}class we extends Rn{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new we(n)}static emptyPath(){return new we([])}}const RM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class st extends Rn{construct(e,n,r){return new st(e,n,r)}static isValidIdentifier(e){return RM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),st.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s1}static keyField(){return new st([s1])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new st(n)}static emptyPath(){return new st([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(we.fromString(e))}static fromName(e){return new Y(we.fromString(e).popFirst(5))}static empty(){return new Y(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&we.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new we(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t,e,n){if(!n)throw new q(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NM(t,e,n,r){if(e===!0&&r===!0)throw new q(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function i1(t){if(!Y.isDocumentKey(t))throw new q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function o1(t){if(Y.isDocumentKey(t))throw new q(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function EI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ih(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee(12329,{type:typeof t})}function Mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ih(t);throw new q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e){const n={typeString:t};return e&&(n.value=e),n}function _l(t,e){if(!EI(t))throw new q(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new q(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=-62135596800,l1=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*l1);return new Se(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<a1)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l1}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_l(e,Se._jsonSchema))return new Se(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-a1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Se._jsonSchemaVersion="firestore/timestamp/1.0",Se._jsonSchema={type:qe("string",Se._jsonSchemaVersion),seconds:qe("number"),nanoseconds:qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{static fromTimestamp(e){return new ne(e)}static min(){return new ne(new Se(0,0))}static max(){return new ne(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=-1;function kM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ne.fromTimestamp(r===1e9?new Se(n+1,0):new Se(n,r));return new Zr(s,Y.empty(),e)}function jM(t){return new Zr(t.readTime,t.key,Ya)}class Zr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zr(ne.min(),Y.empty(),Ya)}static max(){return new Zr(ne.max(),Y.empty(),Ya)}}function DM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==VM)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const h=l;n(e[h]).next(d=>{o[h]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function LM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ah.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=-1;function Ch(t){return t==null}function ju(t){return t===0&&1/t==-1/0}function OM(t){return typeof t=="number"&&Number.isInteger(t)&&!ju(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="";function FM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=c1(e)),e=UM(t.get(n),e);return c1(e)}function UM(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case TI:n+="";break;default:n+=i}}return n}function c1(t){return t+TI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||rt.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pc(this.root,e,this.comparator,!0)}}class pc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??rt.RED,this.left=s??rt.EMPTY,this.right=i??rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return rt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}}rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1;rt.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new h1(this.data.getIterator())}getIteratorFrom(e){return new h1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ye(this.comparator);return n.data=e,n}}class h1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.fields=e,e.sort(st.comparator)}static empty(){return new Bt([])}unionWith(e){let n=new Ye(st.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new II("Invalid base64 string: "+i):i}}(e);return new at(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new at(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}at.EMPTY_BYTE_STRING=new at("");const BM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(t){if(ge(!!t,39018),typeof t=="string"){let e=0;const n=BM.exec(t);if(ge(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ts(t){return typeof t=="string"?at.fromBase64String(t):at.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="server_timestamp",CI="__type__",bI="__previous_value__",PI="__local_write_time__";function Mg(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[CI])==null?void 0:r.stringValue)===AI}function bh(t){const e=t.mapValue.fields[bI];return Mg(e)?bh(e):e}function Xa(t){const e=es(t.mapValue.fields[PI].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n,r,s,i,o,a,l,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=h,this.isUsingEmulator=d}}const Du="(default)";class Ja{constructor(e,n){this.projectId=e,this.database=n||Du}static empty(){return new Ja("","")}get isDefaultDatabase(){return this.database===Du}isEqual(e){return e instanceof Ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="__type__",NI="__max__",mc={mapValue:{fields:{__type__:{stringValue:NI}}}},kI="__vector__",Vu="value";function ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mg(t)?4:HM(t)?9007199254740991:$M(t)?10:11:ee(28295,{value:t})}function Wn(t,e){if(t===e)return!0;const n=ns(t);if(n!==ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xa(t).isEqual(Xa(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=es(s.timestampValue),a=es(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ts(s.bytesValue).isEqual(ts(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Fe(s.geoPointValue.latitude)===Fe(i.geoPointValue.latitude)&&Fe(s.geoPointValue.longitude)===Fe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Fe(s.integerValue)===Fe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Fe(s.doubleValue),a=Fe(i.doubleValue);return o===a?ju(o)===ju(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Xi(t.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(u1(o)!==u1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Wn(o[l],a[l])))return!1;return!0}(t,e);default:return ee(52216,{left:t})}}function Za(t,e){return(t.values||[]).find(n=>Wn(n,e))!==void 0}function Ji(t,e){if(t===e)return 0;const n=ns(t),r=ns(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Fe(i.integerValue||i.doubleValue),l=Fe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return d1(t.timestampValue,e.timestampValue);case 4:return d1(Xa(t),Xa(e));case 5:return Cp(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ts(i),l=ts(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let h=0;h<a.length&&h<l.length;h++){const d=ue(a[h],l[h]);if(d!==0)return d}return ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ue(Fe(i.latitude),Fe(o.latitude));return a!==0?a:ue(Fe(i.longitude),Fe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return f1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,y,T,A;const a=i.fields||{},l=o.fields||{},h=(m=a[Vu])==null?void 0:m.arrayValue,d=(y=l[Vu])==null?void 0:y.arrayValue,f=ue(((T=h==null?void 0:h.values)==null?void 0:T.length)||0,((A=d==null?void 0:d.values)==null?void 0:A.length)||0);return f!==0?f:f1(h,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===mc.mapValue&&o===mc.mapValue)return 0;if(i===mc.mapValue)return 1;if(o===mc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),h=o.fields||{},d=Object.keys(h);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const m=Cp(l[f],d[f]);if(m!==0)return m;const y=Ji(a[l[f]],h[d[f]]);if(y!==0)return y}return ue(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ee(23264,{he:n})}}function d1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=es(t),r=es(e),s=ue(n.seconds,r.seconds);return s!==0?s:ue(n.nanos,r.nanos)}function f1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ji(n[s],r[s]);if(i)return i}return ue(n.length,r.length)}function Zi(t){return bp(t)}function bp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=es(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ts(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=bp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${bp(n.fields[o])}`;return s+"}"}(t.mapValue):ee(61005,{value:t})}function $c(t){switch(ns(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(t);return e?16+$c(e):16;case 5:return 2*t.stringValue.length;case 6:return ts(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+$c(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ds(r.fields,(i,o)=>{s+=i.length+$c(o)}),s}(t.mapValue);default:throw ee(13486,{value:t})}}function p1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Pp(t){return!!t&&"integerValue"in t}function Lg(t){return!!t&&"arrayValue"in t}function m1(t){return!!t&&"nullValue"in t}function g1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hc(t){return!!t&&"mapValue"in t}function $M(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[RI])==null?void 0:r.stringValue)===kI}function xa(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xa(t.arrayValue.values[n]);return e}return{...t}}function HM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===NI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.value=e}static empty(){return new Nt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xa(n)}setAll(e){let n=st.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=xa(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Hc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Hc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ds(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Nt(xa(this.value))}}function jI(t){const e=[];return ds(t.fields,(n,r)=>{const s=new st([n]);if(Hc(r)){const i=jI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Bt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yt(e,0,ne.min(),ne.min(),ne.min(),Nt.empty(),0)}static newFoundDocument(e,n,r,s){return new yt(e,1,n,ne.min(),r,s,0)}static newNoDocument(e,n){return new yt(e,2,n,ne.min(),ne.min(),Nt.empty(),0)}static newUnknownDocument(e,n){return new yt(e,3,n,ne.min(),ne.min(),Nt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.position=e,this.inclusive=n}}function y1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=Ji(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function v1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n="asc"){this.field=e,this.dir=n}}function WM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{}class We extends DI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new KM(e,n,r):n==="array-contains"?new YM(e,r):n==="in"?new XM(e,r):n==="not-in"?new JM(e,r):n==="array-contains-any"?new ZM(e,r):new We(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GM(e,r):new QM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ji(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison(Ji(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sn extends DI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Sn(e,n)}matches(e){return VI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VI(t){return t.op==="and"}function MI(t){return qM(t)&&VI(t)}function qM(t){for(const e of t.filters)if(e instanceof Sn)return!1;return!0}function Rp(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+Zi(t.value);if(MI(t))return t.filters.map(e=>Rp(e)).join(",");{const e=t.filters.map(n=>Rp(n)).join(",");return`${t.op}(${e})`}}function LI(t,e){return t instanceof We?function(r,s){return s instanceof We&&r.op===s.op&&r.field.isEqual(s.field)&&Wn(r.value,s.value)}(t,e):t instanceof Sn?function(r,s){return s instanceof Sn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&LI(o,s.filters[a]),!0):!1}(t,e):void ee(19439)}function OI(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${Zi(n.value)}`}(t):t instanceof Sn?function(n){return n.op.toString()+" {"+n.getFilters().map(OI).join(" ,")+"}"}(t):"Filter"}class KM extends We{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class GM extends We{constructor(e,n){super(e,"in",n),this.keys=FI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class QM extends We{constructor(e,n){super(e,"not-in",n),this.keys=FI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function FI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class YM extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lg(n)&&Za(n.arrayValue,this.value)}}class XM extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Za(this.value.arrayValue,n)}}class JM extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Za(this.value.arrayValue,n)}}class ZM extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Za(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function x1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new e3(t,e,n,r,s,i,o)}function Og(t){const e=re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zi(r)).join(",")),e.Te=n}return e.Te}function Fg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!v1(t.startAt,e.startAt)&&v1(t.endAt,e.endAt)}function Np(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function t3(t,e,n,r,s,i,o,a){return new _o(t,e,n,r,s,i,o,a)}function Ug(t){return new _o(t)}function w1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UI(t){return t.collectionGroup!==null}function wa(t){const e=re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ye(st.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new el(i,r))}),n.has(st.keyField().canonicalString())||e.Ie.push(new el(st.keyField(),r))}return e.Ie}function Ln(t){const e=re(t);return e.Ee||(e.Ee=n3(e,wa(t))),e.Ee}function n3(t,e){if(t.limitType==="F")return x1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new el(s.field,i)});const n=t.endAt?new Mu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mu(t.startAt.position,t.startAt.inclusive):null;return x1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function kp(t,e){const n=t.filters.concat([e]);return new _o(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lu(t,e,n){return new _o(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ph(t,e){return Fg(Ln(t),Ln(e))&&t.limitType===e.limitType}function BI(t){return`${Og(Ln(t))}|lt:${t.limitType}`}function ci(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>OI(s)).join(", ")}]`),Ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Zi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Zi(s)).join(",")),`Target(${r})`}(Ln(t))}; limitType=${t.limitType})`}function Rh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Y.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of wa(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const h=y1(o,a,l);return o.inclusive?h<=0:h<0}(r.startAt,wa(r),s)||r.endAt&&!function(o,a,l){const h=y1(o,a,l);return o.inclusive?h>=0:h>0}(r.endAt,wa(r),s))}(t,e)}function r3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zI(t){return(e,n)=>{let r=!1;for(const s of wa(t)){const i=s3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function s3(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),h=a.data.field(i);return l!==null&&h!==null?Ji(l,h):ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return SI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=new De(Y.comparator);function fr(){return i3}const $I=new De(Y.comparator);function ra(...t){let e=$I;for(const n of t)e=e.insert(n.key,n);return e}function HI(t){let e=$I;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Rs(){return _a()}function WI(){return _a()}function _a(){return new ti(t=>t.toString(),(t,e)=>t.isEqual(e))}const o3=new De(Y.comparator),a3=new Ye(Y.comparator);function he(...t){let e=a3;for(const n of t)e=e.add(n);return e}const l3=new Ye(ue);function c3(){return l3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ju(e)?"-0":e}}function qI(t){return{integerValue:""+t}}function u3(t,e){return OM(e)?qI(e):Bg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this._=void 0}}function h3(t,e,n){return t instanceof tl?function(s,i){const o={fields:{[CI]:{stringValue:AI},[PI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Mg(i)&&(i=bh(i)),i&&(o.fields[bI]=i),{mapValue:o}}(n,e):t instanceof nl?GI(t,e):t instanceof rl?QI(t,e):function(s,i){const o=KI(s,i),a=_1(o)+_1(s.Ae);return Pp(o)&&Pp(s.Ae)?qI(a):Bg(s.serializer,a)}(t,e)}function d3(t,e,n){return t instanceof nl?GI(t,e):t instanceof rl?QI(t,e):n}function KI(t,e){return t instanceof Ou?function(r){return Pp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class tl extends Nh{}class nl extends Nh{constructor(e){super(),this.elements=e}}function GI(t,e){const n=YI(e);for(const r of t.elements)n.some(s=>Wn(s,r))||n.push(r);return{arrayValue:{values:n}}}class rl extends Nh{constructor(e){super(),this.elements=e}}function QI(t,e){let n=YI(e);for(const r of t.elements)n=n.filter(s=>!Wn(s,r));return{arrayValue:{values:n}}}class Ou extends Nh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function _1(t){return Fe(t.integerValue||t.doubleValue)}function YI(t){return Lg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,n){this.field=e,this.transform=n}}function p3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof nl&&s instanceof nl||r instanceof rl&&s instanceof rl?Xi(r.elements,s.elements,Wn):r instanceof Ou&&s instanceof Ou?Wn(r.Ae,s.Ae):r instanceof tl&&s instanceof tl}(t.transform,e.transform)}class m3{constructor(e,n){this.version=e,this.transformResults=n}}class xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kh{}function XI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zg(t.key,xn.none()):new El(t.key,t.data,xn.none());{const n=t.data,r=Nt.empty();let s=new Ye(st.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new fs(t.key,r,new Bt(s.toArray()),xn.none())}}function g3(t,e,n){t instanceof El?function(s,i,o){const a=s.value.clone(),l=T1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fs?function(s,i,o){if(!Wc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=T1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(JI(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ea(t,e,n,r){return t instanceof El?function(i,o,a,l){if(!Wc(i.precondition,o))return a;const h=i.value.clone(),d=S1(i.fieldTransforms,l,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof fs?function(i,o,a,l){if(!Wc(i.precondition,o))return a;const h=S1(i.fieldTransforms,l,o),d=o.data;return d.setAll(JI(i)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Wc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function y3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=KI(r.transform,s||null);i!=null&&(n===null&&(n=Nt.empty()),n.set(r.field,i))}return n||null}function E1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Xi(r,s,(i,o)=>p3(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class El extends kh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class fs extends kh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function JI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function T1(t,e,n){const r=new Map;ge(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,d3(o,a,n[s]))}return r}function S1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,h3(i,o,e))}return r}class zg extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class v3 extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&g3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ea(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ea(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=XI(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&Xi(this.mutations,e.mutations,(n,r)=>E1(n,r))&&Xi(this.baseMutations,e.baseMutations,(n,r)=>E1(n,r))}}class $g{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return o3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new $g(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,de;function E3(t){switch(t){case F.OK:return ee(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ee(15467,{code:t})}}function ZI(t){if(t===void 0)return dr("GRPC error has no .code"),F.UNKNOWN;switch(t){case ze.OK:return F.OK;case ze.CANCELLED:return F.CANCELLED;case ze.UNKNOWN:return F.UNKNOWN;case ze.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case ze.INTERNAL:return F.INTERNAL;case ze.UNAVAILABLE:return F.UNAVAILABLE;case ze.UNAUTHENTICATED:return F.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case ze.NOT_FOUND:return F.NOT_FOUND;case ze.ALREADY_EXISTS:return F.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return F.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case ze.ABORTED:return F.ABORTED;case ze.OUT_OF_RANGE:return F.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return F.UNIMPLEMENTED;case ze.DATA_LOSS:return F.DATA_LOSS;default:return ee(39323,{code:t})}}(de=ze||(ze={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=new Kr([4294967295,4294967295],0);function I1(t){const e=T3().encode(t),n=new fI;return n.update(e),new Uint8Array(n.digest())}function A1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Kr([n,r],0),new Kr([s,i],0)]}class Hg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sa(`Invalid padding: ${n}`);if(r<0)throw new sa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sa(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Kr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Kr.fromNumber(r)));return s.compare(S3)===1&&(s=new Kr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=I1(e),[r,s]=A1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Hg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=I1(e),[r,s]=A1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Tl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jh(ne.min(),s,new De(ue),fr(),he())}}class Tl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tl(r,n,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class eA{constructor(e,n){this.targetId=e,this.Ce=n}}class tA{constructor(e,n,r=at.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class C1{constructor(){this.ve=0,this.Fe=b1(),this.Me=at.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=he(),n=he(),r=he();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ee(38017,{changeType:i})}}),new Tl(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=b1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class I3{constructor(e){this.Ge=e,this.ze=new Map,this.je=fr(),this.Je=gc(),this.He=gc(),this.Ye=new De(ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Np(i))if(r===0){const o=new Y(i.path);this.et(n,o,yt.newNoDocument(o,ne.min()))}else ge(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ts(r).toUint8Array()}catch(l){if(l instanceof II)return Yi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Hg(o,s,i)}catch(l){return Yi(l instanceof sa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Np(a.target)){const l=new Y(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,yt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=he();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const h=this.ot(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new jh(e,n,this.Ye,this.je,r);return this.je=fr(),this.Je=gc(),this.He=gc(),this.Ye=new De(ue),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new C1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ye(ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ye(ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new C1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gc(){return new De(Y.comparator)}function b1(){return new De(Y.comparator)}const A3={asc:"ASCENDING",desc:"DESCENDING"},C3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b3={and:"AND",or:"OR"};class P3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jp(t,e){return t.useProto3Json||Ch(e)?e:{value:e}}function Fu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function R3(t,e){return Fu(t,e.toTimestamp())}function On(t){return ge(!!t,49232),ne.fromTimestamp(function(n){const r=es(n);return new Se(r.seconds,r.nanos)}(t))}function Wg(t,e){return Dp(t,e).canonicalString()}function Dp(t,e){const n=function(s){return new we(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rA(t){const e=we.fromString(t);return ge(lA(e),10190,{key:e.toString()}),e}function Vp(t,e){return Wg(t.databaseId,e.path)}function tf(t,e){const n=rA(e);if(n.get(1)!==t.databaseId.projectId)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(iA(n))}function sA(t,e){return Wg(t.databaseId,e)}function N3(t){const e=rA(t);return e.length===4?we.emptyPath():iA(e)}function Mp(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iA(t){return ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function P1(t,e,n){return{name:Vp(t,e),fields:n.value.mapValue.fields}}function k3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ee(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,d){return h.useProto3Json?(ge(d===void 0||typeof d=="string",58123),at.fromBase64String(d||"")):(ge(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),at.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(h){const d=h.code===void 0?F.UNKNOWN:ZI(h.code);return new q(d,h.message||"")}(o);n=new tA(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=tf(t,r.document.name),i=On(r.document.updateTime),o=r.document.createTime?On(r.document.createTime):ne.min(),a=new Nt({mapValue:{fields:r.document.fields}}),l=yt.newFoundDocument(s,i,o,a),h=r.targetIds||[],d=r.removedTargetIds||[];n=new qc(h,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=tf(t,r.document),i=r.readTime?On(r.readTime):ne.min(),o=yt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new qc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=tf(t,r.document),i=r.removedTargetIds||[];n=new qc([],i,s,null)}else{if(!("filter"in e))return ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new _3(s,i),a=r.targetId;n=new eA(a,o)}}return n}function j3(t,e){let n;if(e instanceof El)n={update:P1(t,e.key,e.value)};else if(e instanceof zg)n={delete:Vp(t,e.key)};else if(e instanceof fs)n={update:P1(t,e.key,e.data),updateMask:z3(e.fieldMask)};else{if(!(e instanceof v3))return ee(16599,{Vt:e.type});n={verify:Vp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof tl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof nl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof rl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ou)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ee(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:R3(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee(27497)}(t,e.precondition)),n}function D3(t,e){return t&&t.length>0?(ge(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?On(s.updateTime):On(i);return o.isEqual(ne.min())&&(o=On(i)),new m3(o,s.transformResults||[])}(n,e))):[]}function V3(t,e){return{documents:[sA(t,e.path)]}}function M3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sA(t,s);const i=function(h){if(h.length!==0)return aA(Sn.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:ui(m.field),direction:F3(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=jp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:s}}function L3(t){let e=N3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ge(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const m=oA(f);return m instanceof Sn&&MI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(T){return new el(hi(T.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Ch(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,y=f.values||[];return new Mu(y,m)}(n.startAt));let h=null;return n.endAt&&(h=function(f){const m=!f.before,y=f.values||[];return new Mu(y,m)}(n.endAt)),t3(e,s,o,i,a,"F",l,h)}function O3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hi(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=hi(n.unaryFilter.field);return We.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=hi(n.unaryFilter.field);return We.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hi(n.unaryFilter.field);return We.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return We.create(hi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sn.create(n.compositeFilter.filters.map(r=>oA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(n.compositeFilter.op))}(t):ee(30097,{filter:t})}function F3(t){return A3[t]}function U3(t){return C3[t]}function B3(t){return b3[t]}function ui(t){return{fieldPath:t.canonicalString()}}function hi(t){return st.fromServerFormat(t.fieldPath)}function aA(t){return t instanceof We?function(n){if(n.op==="=="){if(g1(n.value))return{unaryFilter:{field:ui(n.field),op:"IS_NAN"}};if(m1(n.value))return{unaryFilter:{field:ui(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(g1(n.value))return{unaryFilter:{field:ui(n.field),op:"IS_NOT_NAN"}};if(m1(n.value))return{unaryFilter:{field:ui(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ui(n.field),op:U3(n.op),value:n.value}}}(t):t instanceof Sn?function(n){const r=n.getFilters().map(s=>aA(s));return r.length===1?r[0]:{compositeFilter:{op:B3(n.op),filters:r}}}(t):ee(54877,{filter:t})}function z3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,r,s,i=ne.min(),o=ne.min(),a=at.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e){this.yt=e}}function H3(t){const e=L3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(){this.Cn=new q3}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Zr.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class q3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ye(we.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ye(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cA=41943040;class Pt{static withCacheSize(e){return new Pt(e,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pt.DEFAULT_COLLECTION_PERCENTILE=10,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pt.DEFAULT=new Pt(cA,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pt.DISABLED=new Pt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new eo(0)}static cr(){return new eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="LruGarbageCollector",K3=1048576;function k1([t,e],[n,r]){const s=ue(t,n);return s===0?ue(e,r):s}class G3{constructor(e){this.Ir=e,this.buffer=new Ye(k1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();k1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Q3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(N1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?G(N1,"Ignoring IndexedDB error during garbage collection: ",n):await xo(n)}await this.Vr(3e5)})}}class Y3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Ah.ce);const r=new G3(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(R1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R1):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(h=Date.now(),li()<=ce.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(h-l)+`ms
Total Duration: ${h-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function X3(t,e){return new Y3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(){this.changes=new ti(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ea(r.mutation,s,Bt.empty(),Se.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){const s=Rs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ra();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Rs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=fr();const o=_a(),a=function(){return _a()}();return n.forEach((l,h)=>{const d=r.get(h.key);s.has(h.key)&&(d===void 0||d.mutation instanceof fs)?i=i.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),Ea(d.mutation,h,d.mutation.getFieldMask(),Se.now())):o.set(h.key,Bt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((h,d)=>o.set(h,d)),n.forEach((h,d)=>a.set(h,new Z3(d,o.get(h)??null))),a))}recalculateAndSaveOverlays(e,n){const r=_a();let s=new De((o,a)=>o-a),i=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let d=r.get(l)||Bt.empty();d=a.applyToLocalView(h,d),r.set(l,d);const f=(s.get(a.batchId)||he()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),h=l.key,d=l.value,f=WI();d.forEach(m=>{if(!i.has(m)){const y=XI(n.get(m),r.get(m));y!==null&&f.set(m,y),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(Rs());let a=Ya,l=i;return o.next(h=>U.forEach(h,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,l,h,he())).next(d=>({batchId:a,changes:HI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let s=ra();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ra();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,l=>{const h=function(f,m){return new _o(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,yt.newInvalidDocument(d)))});let a=ra();return o.forEach((l,h)=>{const d=i.get(l);d!==void 0&&Ea(d.mutation,h,Bt.empty(),Se.now()),Rh(n,h)&&(a=a.insert(l,h))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:On(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:H3(s.bundledQuery),readTime:On(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(){this.overlays=new De(Y.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Rs();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=Rs(),i=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new De((h,d)=>h-d);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=i.get(h.largestBatchId);d===null&&(d=Rs(),i=i.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const a=Rs(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,d)=>a.set(h,d)),!(a.size()>=s)););return U.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new w3(n,r));let i=this.qr.get(n);i===void 0&&(i=he(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.sessionToken=at.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.Qr=new Ye(Xe.$r),this.Ur=new Ye(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xe(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Xe(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Y(new we([])),r=new Xe(n,e),s=new Xe(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Y(new we([])),r=new Xe(n,e),s=new Xe(n,e+1);let i=he();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Xe(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xe{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Y.comparator(e.key,n.key)||ue(e.Yr,n.Yr)}static Kr(e,n){return ue(e.Yr,n.Yr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ye(Xe.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new x3(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Xe(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Vg:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xe(n,0),s=new Xe(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(ue);return n.forEach(s=>{const i=new Xe(s,0),o=new Xe(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Y.isDocumentKey(i)||(i=i.child(""));const o=new Xe(new Y(i),0);let a=new Ye(ue);return this.Zr.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(a=a.add(l.Yr)),!0)},o),U.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,s=>{const i=new Xe(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Xe(n,0),s=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.ri=e,this.docs=function(){return new De(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():yt.newInvalidDocument(n))}getEntries(e,n){let r=fr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():yt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=fr();const o=n.path,a=new Y(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:d}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||DM(jM(d),r)<=0||(s.has(d.key)||Rh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ee(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new oL(this)}getSize(e){return U.resolve(this.size)}}class oL extends J3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.persistence=e,this.si=new ti(n=>Og(n),Fg),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.oi=0,this._i=new qg,this.targetCount=0,this.ai=eo.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new eo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ah(0),this.li=!1,this.li=!0,this.hi=new rL,this.referenceDelegate=e(this),this.Pi=new aL(this),this.indexManager=new W3,this.remoteDocumentCache=function(s){return new iL(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new $3(n),this.Ii=new tL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new sL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new lL(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class lL extends MM{constructor(e){super(),this.currentSequenceNumber=e}}class Kg{constructor(e){this.persistence=e,this.Ri=new qg,this.Vi=null}static mi(e){return new Kg(e)}get fi(){if(this.Vi)return this.Vi;throw ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const s=Y.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ne.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Uu{constructor(e,n){this.persistence=e,this.pi=new ti(r=>FM(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=X3(this,n)}static mi(e,n){return new Uu(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ne.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$c(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=he(),s=he();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Gg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return wk()?8:LM(wt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new cL;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(li()<=ce.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",ci(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(li()<=ce.DEBUG&&G("QueryEngine","Query:",ci(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(li()<=ce.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",ci(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ln(n))):U.resolve())}ys(e,n){if(w1(n))return U.resolve(null);let r=Ln(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Lu(n,null,"F"),r=Ln(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=he(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.Ds(n,a);return this.Cs(n,h,o,l.readTime)?this.ys(e,Lu(n,null,"F")):this.vs(e,h,n,l)}))})))}ws(e,n,r,s){return w1(n)||s.isEqual(ne.min())?U.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?U.resolve(null):(li()<=ce.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ci(n)),this.vs(e,o,n,kM(s,Ya)).next(a=>a))})}Ds(e,n){let r=new Ye(zI(e));return n.forEach((s,i)=>{Rh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return li()<=ce.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",ci(n)),this.ps.getDocumentsMatchingQuery(e,n,Zr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="LocalStore",hL=3e8;class dL{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new De(ue),this.xs=new ti(i=>Og(i),Fg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function fL(t,e,n,r){return new dL(t,e,n,r)}async function hA(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=he();for(const h of s){o.push(h.batchId);for(const d of h.mutations)l=l.add(d.key)}for(const h of i){a.push(h.batchId);for(const d of h.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(h=>({Ls:h,removedBatchIds:o,addedBatchIds:a}))})})}function pL(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,h,d){const f=h.batch,m=f.keys();let y=U.resolve();return m.forEach(T=>{y=y.next(()=>d.getEntry(l,T)).next(A=>{const R=h.docVersions.get(T);ge(R!==null,48541),A.version.compareTo(R)<0&&(f.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),d.addEntry(A)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=he();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(l=l.add(a.batch.mutations[h].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function dA(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function mL(t,e){const n=re(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,f)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(at.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),s=s.insert(f,y),function(A,R,w){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=hL?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,y,d)&&a.push(n.Pi.updateTargetData(i,y))});let l=fr(),h=he();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(gL(i,o,e.documentUpdates).next(d=>{l=d.ks,h=d.qs})),!r.isEqual(ne.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,h)).next(()=>l)}).then(i=>(n.Ms=s,i))}function gL(t,e,n){let r=he(),s=he();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=fr();return n.forEach((a,l)=>{const h=i.get(a);l.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ne.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G(Qg,"Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",l.version)}),{ks:o,qs:s}})}function yL(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Vg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vL(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Vr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Lp(t,e,n){const r=re(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!wo(o))throw o;G(Qg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function j1(t,e,n){const r=re(t);let s=ne.min(),i=he();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,h,d){const f=re(l),m=f.xs.get(d);return m!==void 0?U.resolve(f.Ms.get(m)):f.Pi.getTargetData(h,d)}(r,o,Ln(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ne.min(),n?i:he())).next(a=>(xL(r,r3(e),a),{documents:a,Qs:i})))}function xL(t,e,n){let r=t.Os.get(e)||ne.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class D1{constructor(){this.activeTargetIds=c3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wL{constructor(){this.Mo=new D1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new D1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="ConnectivityMonitor";class M1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(V1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(V1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc=null;function Op(){return yc===null?yc=function(){return 268435456+Math.round(2147483648*Math.random())}():yc++,"0x"+yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="RestConnection",EL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Du?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Op(),a=this.zo(e,n.toUriEncodedString());G(nf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:h}=new URL(a),d=po(h);return this.Jo(e,a,l,r,d).then(f=>(G(nf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Yi(nf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=EL[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class IL extends TL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Op();return new Promise((a,l)=>{const h=new pI;h.setWithCredentials(!0),h.listenOnce(mI.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case zc.NO_ERROR:const f=h.getResponseJson();G(pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case zc.TIMEOUT:G(pt,`RPC '${e}' ${o} timed out`),l(new q(F.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const m=h.getStatus();if(G(pt,`RPC '${e}' ${o} failed with status:`,m,"response text:",h.getResponseText()),m>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const T=y==null?void 0:y.error;if(T&&T.status&&T.message){const A=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(x)>=0?x:F.UNKNOWN}(T.status);l(new q(A,T.message))}else l(new q(F.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new q(F.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{G(pt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);G(pt,`RPC '${e}' ${o} sending request:`,s),h.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Op(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vI(),a=yI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");G(pt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);this.I_(f);let m=!1,y=!1;const T=new SL({Yo:R=>{y?G(pt,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(m||(G(pt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),G(pt,`RPC '${e}' stream ${s} sending:`,R),f.send(R))},Zo:()=>f.close()}),A=(R,w,x)=>{R.listen(w,E=>{try{x(E)}catch(k){setTimeout(()=>{throw k},0)}})};return A(f,na.EventType.OPEN,()=>{y||(G(pt,`RPC '${e}' stream ${s} transport opened.`),T.o_())}),A(f,na.EventType.CLOSE,()=>{y||(y=!0,G(pt,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(f))}),A(f,na.EventType.ERROR,R=>{y||(y=!0,Yi(pt,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),T.a_(new q(F.UNAVAILABLE,"The operation could not be completed")))}),A(f,na.EventType.MESSAGE,R=>{var w;if(!y){const x=R.data[0];ge(!!x,16349);const E=x,k=(E==null?void 0:E.error)||((w=E[0])==null?void 0:w.error);if(k){G(pt,`RPC '${e}' stream ${s} received error:`,k);const D=k.status;let M=function(I){const C=ze[I];if(C!==void 0)return ZI(C)}(D),S=k.message;M===void 0&&(M=F.INTERNAL,S="Unknown error status: "+D+" with message "+k.message),y=!0,T.a_(new q(M,S)),f.close()}else G(pt,`RPC '${e}' stream ${s} received:`,x),T.u_(x)}}),A(a,gI.STAT_EVENT,R=>{R.stat===Ap.PROXY?G(pt,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===Ap.NOPROXY&&G(pt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function rf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t){return new P3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="PersistentStream";class pA{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(L1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(L1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AL extends pA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=k3(this.serializer,e),r=function(i){if(!("targetChange"in i))return ne.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?On(o.readTime):ne.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Mp(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Np(l)?{documents:V3(i,l)}:{query:M3(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=nA(i,o.resumeToken);const h=jp(i,o.expectedCount);h!==null&&(a.expectedCount=h)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=Fu(i,o.snapshotVersion.toTimestamp());const h=jp(i,o.expectedCount);h!==null&&(a.expectedCount=h)}return a}(this.serializer,e);const r=O3(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Mp(this.serializer),n.removeTarget=e,this.q_(n)}}class CL extends pA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=D3(e.writeResults,e.commitTime),r=On(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Mp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>j3(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{}class PL extends bL{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Dp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(F.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Dp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(F.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class RL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dr(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="RemoteStore";class NL{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{ni(this)&&(G(Gs,"Restarting streams for network reachability change."),await async function(l){const h=re(l);h.Ea.add(4),await Sl(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Vh(h)}(this))})}),this.Ra=new RL(r,s)}}async function Vh(t){if(ni(t))for(const e of t.da)await e(!0)}async function Sl(t){for(const e of t.da)await e(!1)}function mA(t,e){const n=re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zg(n)?Jg(n):Eo(n).O_()&&Xg(n,e))}function Yg(t,e){const n=re(t),r=Eo(n);n.Ia.delete(e),r.O_()&&gA(n,e),n.Ia.size===0&&(r.O_()?r.L_():ni(n)&&n.Ra.set("Unknown"))}function Xg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eo(t).Y_(e)}function gA(t,e){t.Va.Ue(e),Eo(t).Z_(e)}function Jg(t){t.Va=new I3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Eo(t).start(),t.Ra.ua()}function Zg(t){return ni(t)&&!Eo(t).x_()&&t.Ia.size>0}function ni(t){return re(t).Ea.size===0}function yA(t){t.Va=void 0}async function kL(t){t.Ra.set("Online")}async function jL(t){t.Ia.forEach((e,n)=>{Xg(t,e)})}async function DL(t,e){yA(t),Zg(t)?(t.Ra.ha(e),Jg(t)):t.Ra.set("Unknown")}async function VL(t,e,n){if(t.Ra.set("Online"),e instanceof tA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){G(Gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bu(t,r)}else if(e instanceof qc?t.Va.Ze(e):e instanceof eA?t.Va.st(e):t.Va.tt(e),!n.isEqual(ne.min()))try{const r=await dA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(h);d&&i.Ia.set(h,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,h)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(at.EMPTY_BYTE_STRING,d.snapshotVersion)),gA(i,l);const f=new Vr(d.target,l,h,d.sequenceNumber);Xg(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(Gs,"Failed to raise snapshot:",r),await Bu(t,r)}}async function Bu(t,e,n){if(!wo(e))throw e;t.Ea.add(1),await Sl(t),t.Ra.set("Offline"),n||(n=()=>dA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(Gs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Vh(t)})}function vA(t,e){return e().catch(n=>Bu(t,n,e))}async function Mh(t){const e=re(t),n=rs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vg;for(;ML(e);)try{const s=await yL(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,LL(e,s)}catch(s){await Bu(e,s)}xA(e)&&wA(e)}function ML(t){return ni(t)&&t.Ta.length<10}function LL(t,e){t.Ta.push(e);const n=rs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function xA(t){return ni(t)&&!rs(t).x_()&&t.Ta.length>0}function wA(t){rs(t).start()}async function OL(t){rs(t).ra()}async function FL(t){const e=rs(t);for(const n of t.Ta)e.ea(n.mutations)}async function UL(t,e,n){const r=t.Ta.shift(),s=$g.from(r,e,n);await vA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Mh(t)}async function BL(t,e){e&&rs(t).X_&&await async function(r,s){if(function(o){return E3(o)&&o!==F.ABORTED}(s.code)){const i=r.Ta.shift();rs(r).B_(),await vA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Mh(r)}}(t,e),xA(t)&&wA(t)}async function O1(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),G(Gs,"RemoteStore received new credentials");const r=ni(n);n.Ea.add(3),await Sl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Vh(n)}async function zL(t,e){const n=re(t);e?(n.Ea.delete(2),await Vh(n)):e||(n.Ea.add(2),await Sl(n),n.Ra.set("Unknown"))}function Eo(t){return t.ma||(t.ma=function(n,r,s){const i=re(n);return i.sa(),new AL(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:kL.bind(null,t),t_:jL.bind(null,t),r_:DL.bind(null,t),H_:VL.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Zg(t)?Jg(t):t.Ra.set("Unknown")):(await t.ma.stop(),yA(t))})),t.ma}function rs(t){return t.fa||(t.fa=function(n,r,s){const i=re(n);return i.sa(),new CL(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:OL.bind(null,t),r_:BL.bind(null,t),ta:FL.bind(null,t),na:UL.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Mh(t)):(await t.fa.stop(),t.Ta.length>0&&(G(Gs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new ey(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ty(t,e){if(dr("AsyncQueue",`${e}: ${t}`),wo(t))return new q(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{static emptySet(e){return new Ui(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=ra(),this.sortedSet=new De(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ui)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ui;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.ga=new De(Y.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class to{constructor(e,n,r,s,i,o,a,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new to(e,n,Ui.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class HL{constructor(){this.queries=U1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=re(n),i=s.queries;s.queries=U1(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new q(F.ABORTED,"Firestore shutting down"))}}function U1(){return new ti(t=>BI(t),Ph)}async function _A(t,e){const n=re(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new $L,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=ty(o,`Initialization of query '${ci(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&ny(n)}async function EA(t,e){const n=re(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function WL(t,e){const n=re(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&ny(n)}function qL(t,e,n){const r=re(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function ny(t){t.Ca.forEach(e=>{e.next()})}var Fp,B1;(B1=Fp||(Fp={})).Ma="default",B1.Cache="cache";class TA{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new to(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=to.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.key=e}}class IA{constructor(e){this.key=e}}class KL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=he(),this.mutatedKeys=he(),this.eu=zI(e),this.tu=new Ui(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new F1,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const m=s.get(d),y=Rh(this.query,f)?f:null,T=!!m&&this.mutatedKeys.has(m.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;m&&y?m.data.isEqual(y.data)?T!==A&&(r.track({type:3,doc:y}),R=!0):this.su(m,y)||(r.track({type:2,doc:y}),R=!0,(l&&this.eu(y,l)>0||h&&this.eu(y,h)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(l||h)&&(a=!0)),R&&(y?(o=o.add(y),i=A?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(y,T){const A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Rt:R})}};return A(y)-A(T)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,h=l!==this.Za;return this.Za=l,o.length!==0||h?{snapshot:new to(this.query,e.tu,i,o,e.mutatedKeys,l===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new F1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=he(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new IA(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new SA(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=he();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ry="SyncEngine";class GL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QL{constructor(e){this.key=e,this.hu=!1}}class YL{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ti(a=>BI(a),Ph),this.Iu=new Map,this.Eu=new Set,this.du=new De(Y.comparator),this.Au=new Map,this.Ru=new qg,this.Vu={},this.mu=new Map,this.fu=eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XL(t,e,n=!0){const r=NA(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await AA(r,e,n,!0),s}async function JL(t,e){const n=NA(t);await AA(n,e,!0,!1)}async function AA(t,e,n,r){const s=await vL(t.localStore,Ln(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await ZL(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&mA(t.remoteStore,s),a}async function ZL(t,e,n,r,s){t.pu=(f,m,y)=>async function(A,R,w,x){let E=R.view.ru(w);E.Cs&&(E=await j1(A.localStore,R.query,!1).then(({documents:S})=>R.view.ru(S,E)));const k=x&&x.targetChanges.get(R.targetId),D=x&&x.targetMismatches.get(R.targetId)!=null,M=R.view.applyChanges(E,A.isPrimaryClient,k,D);return $1(A,R.targetId,M.au),M.snapshot}(t,f,m,y);const i=await j1(t.localStore,e,!0),o=new KL(e,i.Qs),a=o.ru(i.documents),l=Tl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(a,t.isPrimaryClient,l);$1(t,n,h.au);const d=new GL(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function eO(t,e,n){const r=re(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Ph(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Lp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Yg(r.remoteStore,s.targetId),Up(r,s.targetId)}).catch(xo)):(Up(r,s.targetId),await Lp(r.localStore,s.targetId,!0))}async function tO(t,e){const n=re(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yg(n.remoteStore,r.targetId))}async function nO(t,e,n){const r=cO(t);try{const s=await function(o,a){const l=re(o),h=Se.now(),d=a.reduce((y,T)=>y.add(T.key),he());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=fr(),A=he();return l.Ns.getEntries(y,d).next(R=>{T=R,T.forEach((w,x)=>{x.isValidDocument()||(A=A.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,T)).next(R=>{f=R;const w=[];for(const x of a){const E=y3(x,f.get(x.key).overlayedDocument);E!=null&&w.push(new fs(x.key,E,jI(E.value.mapValue),xn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,h,w,a)}).next(R=>{m=R;const w=R.applyToLocalDocumentSet(f,A);return l.documentOverlayCache.saveOverlays(y,R.batchId,w)})}).then(()=>({batchId:m.batchId,changes:HI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let h=o.Vu[o.currentUser.toKey()];h||(h=new De(ue)),h=h.insert(a,l),o.Vu[o.currentUser.toKey()]=h}(r,s.batchId,n),await Il(r,s.changes),await Mh(r.remoteStore)}catch(s){const i=ty(s,"Failed to persist write");n.reject(i)}}async function CA(t,e){const n=re(t);try{const r=await mL(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?ge(o.hu,14607):s.removedDocuments.size>0&&(ge(o.hu,42227),o.hu=!1))}),await Il(n,r,e)}catch(r){await xo(r)}}function z1(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=re(o);l.onlineState=a;let h=!1;l.queries.forEach((d,f)=>{for(const m of f.Sa)m.va(a)&&(h=!0)}),h&&ny(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rO(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new De(Y.comparator);o=o.insert(i,yt.newNoDocument(i,ne.min()));const a=he().add(i),l=new jh(ne.min(),new Map,new De(ue),o,a);await CA(r,l),r.du=r.du.remove(i),r.Au.delete(e),sy(r)}else await Lp(r.localStore,e,!1).then(()=>Up(r,e,n)).catch(xo)}async function sO(t,e){const n=re(t),r=e.batch.batchId;try{const s=await pL(n.localStore,e);PA(n,r,null),bA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Il(n,s)}catch(s){await xo(s)}}async function iO(t,e,n){const r=re(t);try{const s=await function(o,a){const l=re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return l.mutationQueue.lookupMutationBatch(h,a).next(f=>(ge(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(h,f))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>l.localDocuments.getDocuments(h,d))})}(r.localStore,e);PA(r,e,n),bA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Il(r,s)}catch(s){await xo(s)}}function bA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function PA(t,e,n){const r=re(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Up(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||RA(t,r)})}function RA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Yg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),sy(t))}function $1(t,e,n){for(const r of n)r instanceof SA?(t.Ru.addReference(r.key,e),oO(t,r)):r instanceof IA?(G(ry,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||RA(t,r.key)):ee(19791,{wu:r})}function oO(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(G(ry,"New document in limbo: "+n),t.Eu.add(r),sy(t))}function sy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Y(we.fromString(e)),r=t.fu.next();t.Au.set(r,new QL(n)),t.du=t.du.insert(n,r),mA(t.remoteStore,new Vr(Ln(Ug(n.path)),r,"TargetPurposeLimboResolution",Ah.ce))}}async function Il(t,e,n){const r=re(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(h=>{var d;if((h||n)&&r.isPrimaryClient){const f=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(h){s.push(h);const f=Gg.As(l.targetId,h);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,h){const d=re(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(h,m=>U.forEach(m.Es,y=>d.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>U.forEach(m.ds,y=>d.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!wo(f))throw f;G(Qg,"Failed to update sequence numbers: "+f)}for(const f of h){const m=f.targetId;if(!f.fromCache){const y=d.Ms.get(m),T=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(T);d.Ms=d.Ms.insert(m,A)}}}(r.localStore,i))}async function aO(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){G(ry,"User change. New user:",e.toKey());const r=await hA(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new q(F.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Il(n,r.Ls)}}function lO(t,e){const n=re(t),r=n.Au.get(e);if(r&&r.hu)return he().add(r.key);{let s=he();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function NA(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rO.bind(null,e),e.Pu.H_=WL.bind(null,e.eventManager),e.Pu.yu=qL.bind(null,e.eventManager),e}function cO(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iO.bind(null,e),e}class zu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return fL(this.persistence,new uL,e.initialUser,this.serializer)}Cu(e){return new uA(Kg.mi,this.serializer)}Du(e){return new wL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zu.provider={build:()=>new zu};class uO extends zu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ge(this.persistence.referenceDelegate instanceof Uu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Q3(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Pt.withCacheSize(this.cacheSizeBytes):Pt.DEFAULT;return new uA(r=>Uu.mi(r,n),this.serializer)}}class Bp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aO.bind(null,this.syncEngine),await zL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HL}()}createDatastore(e){const n=Dh(e.databaseInfo.databaseId),r=function(i){return new IL(i)}(e.databaseInfo);return function(i,o,a,l){return new PL(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new NL(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>z1(this.syncEngine,n,0),function(){return M1.v()?new M1:new _L}())}createSyncEngine(e,n){return function(s,i,o,a,l,h,d){const f=new YL(s,i,o,a,l,h);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=re(s);G(Gs,"RemoteStore shutting down."),i.Ea.add(5),await Sl(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Bp.provider={build:()=>new Bp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="FirestoreClient";class hO{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=mt.UNAUTHENTICATED,this.clientId=Dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(ss,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(ss,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ty(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sf(t,e){t.asyncQueue.verifyOperationInProgress(),G(ss,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await hA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function H1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dO(t);G(ss,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>O1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>O1(e.remoteStore,s)),t._onlineComponents=e}async function dO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(ss,"Using user provided OfflineComponentProvider");try{await sf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Yi("Error using user provided cache. Falling back to memory cache: "+n),await sf(t,new zu)}}else G(ss,"Using default OfflineComponentProvider"),await sf(t,new uO(void 0));return t._offlineComponents}async function jA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(ss,"Using user provided OnlineComponentProvider"),await H1(t,t._uninitializedComponentsProvider._online)):(G(ss,"Using default OnlineComponentProvider"),await H1(t,new Bp))),t._onlineComponents}function fO(t){return jA(t).then(e=>e.syncEngine)}async function zp(t){const e=await jA(t),n=e.eventManager;return n.onListen=XL.bind(null,e.syncEngine),n.onUnlisten=eO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tO.bind(null,e.syncEngine),n}function pO(t,e,n={}){const r=new Gr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,h){const d=new kA({next:m=>{d.Nu(),o.enqueueAndForget(()=>EA(i,f)),m.fromCache&&l.source==="server"?h.reject(new q(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(m)},error:m=>h.reject(m)}),f=new TA(a,d,{includeMetadataChanges:!0,qa:!0});return _A(i,f)}(await zp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="firestore.googleapis.com",q1=!0;class K1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VA,this.ssl=q1}else this.host=e.host,this.ssl=e.ssl??q1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<K3)throw new q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _M;switch(r.type){case"firstParty":return new IM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=W1.get(n);r&&(G("ComponentProvider","Removing Datastore"),W1.delete(n),r.terminate())}(this),Promise.resolve()}}function mO(t,e,n,r={}){var h;t=Mn(t,Lh);const s=po(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(tS(`https://${a}`),nS("Firestore",!0)),i.host!==VA&&i.host!==a&&Yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Jr(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=mt.MOCK_USER;else{d=dk(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new mt(m)}t._authCredentials=new EM(new wI(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yr(this.firestore,e,this._query)}}class Ke{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ke(this.firestore,e,this._key)}toJSON(){return{type:Ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(_l(n,Ke._jsonSchema))return new Ke(e,r||null,new Y(we.fromString(n.referencePath)))}}Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:qe("string",Ke._jsonSchemaVersion),referencePath:qe("string")};class Qr extends yr{constructor(e,n,r){super(e,n,Ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ke(this.firestore,null,new Y(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function kr(t,e,...n){if(t=Be(t),_I("collection","path",e),t instanceof Lh){const r=we.fromString(e,...n);return o1(r),new Qr(t,null,r)}{if(!(t instanceof Ke||t instanceof Qr))throw new q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return o1(r),new Qr(t.firestore,null,r)}}function $p(t,e,...n){if(t=Be(t),arguments.length===1&&(e=Dg.newId()),_I("doc","path",e),t instanceof Lh){const r=we.fromString(e,...n);return i1(r),new Ke(t,null,new Y(r))}{if(!(t instanceof Ke||t instanceof Qr))throw new q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return i1(r),new Ke(t.firestore,t instanceof Qr?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="AsyncQueue";class Q1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fA(this,"async_queue_retry"),this._c=()=>{const r=rf();r&&G(G1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=rf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Gr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wo(e))throw e;G(G1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,dr("INTERNAL UNHANDLED ERROR: ",Y1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=ey.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ee(47125,{Pc:Y1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Y1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Qs extends Lh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Q1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q1(e),this._firestoreClient=void 0,await e}}}function gO(t,e){const n=typeof t=="object"?t:xg(),r=typeof t=="string"?t:Du,s=Zs(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=uk("firestore");i&&mO(s,...i)}return s}function iy(t){if(t._terminated)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yO(t),t._firestoreClient}function yO(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,h,d){return new zM(a,l,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,DA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new hO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jt(at.fromBase64String(e))}catch(n){throw new q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jt(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_l(e,Jt._jsonSchema))return Jt.fromBase64String(e.bytes)}}Jt._jsonSchemaVersion="firestore/bytes/1.0",Jt._jsonSchema={type:qe("string",Jt._jsonSchemaVersion),bytes:qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new st(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fn._jsonSchemaVersion}}static fromJSON(e){if(_l(e,Fn._jsonSchema))return new Fn(e.latitude,e.longitude)}}Fn._jsonSchemaVersion="firestore/geoPoint/1.0",Fn._jsonSchema={type:qe("string",Fn._jsonSchemaVersion),latitude:qe("number"),longitude:qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Un._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_l(e,Un._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Un(e.vectorValues);throw new q(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Un._jsonSchemaVersion="firestore/vectorValue/1.0",Un._jsonSchema={type:qe("string",Un._jsonSchemaVersion),vectorValues:qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=/^__.*__$/;class xO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new El(e,this.data,n,this.fieldTransforms)}}class MA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ac:t})}}class oy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new oy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $u(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(LA(this.Ac)&&vO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dh(e)}Cc(e,n,r,s=!1){return new oy({Ac:e,methodName:n,Dc:r,path:st.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ay(t){const e=t._freezeSettings(),n=Dh(t._databaseId);return new wO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _O(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);cy("Data must be an object, but it was:",o,r);const a=OA(r,o);let l,h;if(i.merge)l=new Bt(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const m=Hp(e,f,n);if(!o.contains(m))throw new q(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);UA(d,m)||d.push(m)}l=new Bt(d),h=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,h=o.fieldTransforms;return new xO(new Nt(a),l,h)}class Uh extends Fh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uh}}class ly extends Fh{_toFieldTransform(e){return new f3(e.path,new tl)}isEqual(e){return e instanceof ly}}function EO(t,e,n,r){const s=t.Cc(1,e,n);cy("Data must be an object, but it was:",s,r);const i=[],o=Nt.empty();ds(r,(l,h)=>{const d=uy(e,l,n);h=Be(h);const f=s.yc(d);if(h instanceof Uh)i.push(d);else{const m=Al(h,f);m!=null&&(i.push(d),o.set(d,m))}});const a=new Bt(i);return new MA(o,a,s.fieldTransforms)}function TO(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Hp(e,r,n)],l=[s];if(i.length%2!=0)throw new q(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(Hp(e,i[m])),l.push(i[m+1]);const h=[],d=Nt.empty();for(let m=a.length-1;m>=0;--m)if(!UA(h,a[m])){const y=a[m];let T=l[m];T=Be(T);const A=o.yc(y);if(T instanceof Uh)h.push(y);else{const R=Al(T,A);R!=null&&(h.push(y),d.set(y,R))}}const f=new Bt(h);return new MA(d,f,o.fieldTransforms)}function SO(t,e,n,r=!1){return Al(n,t.Cc(r?4:3,e))}function Al(t,e){if(FA(t=Be(t)))return cy("Unsupported field value:",e,t),OA(t,e);if(t instanceof Fh)return function(r,s){if(!LA(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Al(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return u3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Se.fromDate(r);return{timestampValue:Fu(s.serializer,i)}}if(r instanceof Se){const i=new Se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fu(s.serializer,i)}}if(r instanceof Fn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jt)return{bytesValue:nA(s.serializer,r._byteString)};if(r instanceof Ke){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Wg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Un)return function(o,a){return{mapValue:{fields:{[RI]:{stringValue:kI},[Vu]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw a.Sc("VectorValues must only contain numeric values.");return Bg(a.serializer,h)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Ih(r)}`)}(t,e)}function OA(t,e){const n={};return SI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(t,(r,s)=>{const i=Al(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function FA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Se||t instanceof Fn||t instanceof Jt||t instanceof Ke||t instanceof Fh||t instanceof Un)}function cy(t,e,n){if(!FA(n)||!EI(n)){const r=Ih(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Hp(t,e,n){if((e=Be(e))instanceof Oh)return e._internalPath;if(typeof e=="string")return uy(t,e);throw $u("Field path arguments must be of type string or ",t,!1,void 0,n)}const IO=new RegExp("[~\\*/\\[\\]]");function uy(t,e,n){if(e.search(IO)>=0)throw $u(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Oh(...e.split("."))._internalPath}catch{throw $u(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $u(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new q(F.INVALID_ARGUMENT,a+t+l)}function UA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AO extends BA{data(){return super.data()}}function Bh(t,e){return typeof e=="string"?uy(t,e):e instanceof Oh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hy{}class dy extends hy{}function Is(t,e,...n){let r=[];e instanceof hy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof fy).length,a=i.filter(l=>l instanceof zh).length;if(o>1||o>0&&a>0)throw new q(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class zh extends dy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zh(e,n,r)}_apply(e){const n=this._parse(e);return HA(e._query,n),new yr(e.firestore,e.converter,kp(e._query,n))}_parse(e){const n=ay(e.firestore);return function(i,o,a,l,h,d,f){let m;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new q(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Z1(f,d);const T=[];for(const A of f)T.push(J1(l,i,A));m={arrayValue:{values:T}}}else m=J1(l,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Z1(f,d),m=SO(a,o,f,d==="in"||d==="not-in");return We.create(h,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Pn(t,e,n){const r=e,s=Bh("where",t);return zh._create(s,r,n)}class fy extends hy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Sn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)HA(o,l),o=kp(o,l)}(e._query,n),new yr(e.firestore,e.converter,kp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class py extends dy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new py(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new q(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new q(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new el(i,o)}(e._query,this._field,this._direction);return new yr(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new _o(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function $A(t,e="asc"){const n=e,r=Bh("orderBy",t);return py._create(r,n)}class my extends dy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new my(e,n,r)}_apply(e){return new yr(e.firestore,e.converter,Lu(e._query,this._limit,this._limitType))}}function CO(t){return my._create("limit",t,"F")}function J1(t,e,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new q(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UI(e)&&n.indexOf("/")!==-1)throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(we.fromString(n));if(!Y.isDocumentKey(r))throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return p1(t,new Y(r))}if(n instanceof Ke)return p1(t,n._key);throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(n)}.`)}function Z1(t,e){if(!Array.isArray(t)||t.length===0)throw new q(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HA(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bO{convertValue(e,n="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ds(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Vu].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Fe(o.doubleValue));return new Un(n)}convertGeoPoint(e){return new Fn(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xa(e));default:return null}}convertTimestamp(e){const n=es(e);return new Se(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);ge(lA(r),9688,{name:e});const s=new Ja(r.get(1),r.get(3)),i=new Y(r.popFirst(5));return s.isEqual(n)||dr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class ia{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vs extends BA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Vs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vs._jsonSchema={type:qe("string",Vs._jsonSchemaVersion),bundleSource:qe("string","DocumentSnapshot"),bundleName:qe("string"),bundle:qe("string")};class Kc extends Vs{data(e={}){return super.data(e)}}class Ms{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ia(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kc(this._firestore,this._userDataWriter,r.key,r,new ia(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Kc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ia(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Kc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ia(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,d=-1;return a.type!==0&&(h=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:RO(a.type),doc:l,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ms._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function RO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:t})}}Ms._jsonSchemaVersion="firestore/querySnapshot/1.0",Ms._jsonSchema={type:qe("string",Ms._jsonSchemaVersion),bundleSource:qe("string","QuerySnapshot"),bundleName:qe("string"),bundle:qe("string")};class gy extends bO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ke(this.firestore,null,n)}}function vc(t){t=Mn(t,yr);const e=Mn(t.firestore,Qs),n=iy(e),r=new gy(e);return zA(t._query),pO(n,t._query).then(s=>new Ms(e,r,t,s))}function NO(t,e,n,...r){t=Mn(t,Ke);const s=Mn(t.firestore,Qs),i=ay(s);let o;return o=typeof(e=Be(e))=="string"||e instanceof Oh?TO(i,"updateDoc",t._key,e,n,r):EO(i,"updateDoc",t._key,e),vy(s,[o.toMutation(t._key,xn.exists(!0))])}function kO(t){return vy(Mn(t.firestore,Qs),[new zg(t._key,xn.none())])}function jO(t,e){const n=Mn(t.firestore,Qs),r=$p(t),s=PO(t.converter,e);return vy(n,[_O(ay(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,xn.exists(!1))]).then(()=>r)}function yy(t,...e){var l,h,d;t=Be(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||X1(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(X1(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(h=f.error)==null?void 0:h.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let i,o,a;if(t instanceof Ke)o=Mn(t.firestore,Qs),a=Ug(t._key.path),i={next:f=>{e[r]&&e[r](DO(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Mn(t,yr);o=Mn(f.firestore,Qs),a=f._query;const m=new gy(o);i={next:y=>{e[r]&&e[r](new Ms(o,m,f,y))},error:e[r+1],complete:e[r+2]},zA(t._query)}return function(m,y,T,A){const R=new kA(A),w=new TA(y,R,T);return m.asyncQueue.enqueueAndForget(async()=>_A(await zp(m),w)),()=>{R.Nu(),m.asyncQueue.enqueueAndForget(async()=>EA(await zp(m),w))}}(iy(o),a,s,i)}function vy(t,e){return function(r,s){const i=new Gr;return r.asyncQueue.enqueueAndForget(async()=>nO(await fO(r),s,i)),i.promise}(iy(t),e)}function DO(t,e,n){const r=n.docs.get(e._key),s=new gy(t);return new Vs(t,s,e._key,r,new ia(n.hasPendingWrites,n.fromCache),e.converter)}function VO(){return new ly("serverTimestamp")}(function(e,n=!0){(function(s){vo=s})(mo),Hn(new En("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Qs(new TM(r.getProvider("auth-internal")),new AM(o,r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ja(h.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),tn(t1,n1,e),tn(t1,n1,"esm2020")})();const MO={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyCy9FAmlflCY2yue2ebK2H-7FsNqkgaeJA",VITE_FIREBASE_APP_ID:"1:64082360151:web:ddf3b9107274aad5dff012",VITE_FIREBASE_AUTH_DOMAIN:"drcmovies-1dc9c.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-GV5DXMVE7L",VITE_FIREBASE_MESSAGING_SENDER_ID:"64082360151",VITE_FIREBASE_PROJECT_ID:"drcmovies-1dc9c",VITE_FIREBASE_STORAGE_BUCKET:"drcmovies-1dc9c.firebasestorage.app",VITE_PAYTM_MERCHANT_ID:"DRCMOVIES8888",VITE_PAYTM_MERCHANT_KEY:"p@ssw0rd12345",VITE_RAZORPAY_KEY_ID:"rzp_live_RYS8jZKMNTvoe6",VITE_RAZORPAY_KEY_SECRET:"7X1gyVYuayETVi7MBS4xO92f"},Ii={apiKey:"AIzaSyCy9FAmlflCY2yue2ebK2H-7FsNqkgaeJA",authDomain:"drcmovies-1dc9c.firebaseapp.com",projectId:"drcmovies-1dc9c",storageBucket:"drcmovies-1dc9c.firebasestorage.app",messagingSenderId:"64082360151",appId:"1:64082360151:web:ddf3b9107274aad5dff012",measurementId:"G-GV5DXMVE7L"};console.log(" Firebase Config Status:",{projectId:Ii.projectId||"Missing VITE_FIREBASE_PROJECT_ID",authDomain:Ii.authDomain||"Missing VITE_FIREBASE_AUTH_DOMAIN",hasApiKey:!!Ii.apiKey,hasAppId:!!Ii.appId,envMode:"production",envVariablesFound:{apiKey:!0,authDomain:!0,projectId:!0,storageBucket:!0,messagingSenderId:!0,appId:!0,measurementId:!0}});const LO=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"],ew=LO.filter(t=>!MO[t]);ew.length>0&&(console.error(" Missing required Firebase environment variables:",ew),console.error("Please add these to your .env file and Netlify environment variables"));const xy=cS(Ii);console.log(" Firebase App initialized");typeof window<"u"&&window.location.hostname!=="localhost"&&Ii.measurementId&&yM(xy);const fn=gO(xy),Wp=JD(xy);console.log(" Firestore instance:",fn);console.log(" Firestore app initialized");const OO=(t,e)=>{switch(e.type){case"ADD_ITEM":{const{item:n,quantity:r,selectedSize:s}=e.payload,i=t.items.findIndex(l=>l.id===n.id&&l.selectedSize===s);let o;if(i>-1)o=t.items.map((l,h)=>h===i?{...l,quantity:l.quantity+r}:l);else{const l={...n,quantity:r,selectedSize:s,price:s==="Large"&&n.maxPrice?n.maxPrice:n.price};o=[...t.items,l]}const a=o.reduce((l,h)=>l+h.price*h.quantity,0);return{...t,items:o,total:a}}case"REMOVE_ITEM":{const n=t.items.filter(s=>s.id!==e.payload),r=n.reduce((s,i)=>s+i.price*i.quantity,0);return{...t,items:n,total:r}}case"UPDATE_QUANTITY":{const{id:n,quantity:r}=e.payload,s=r===0?t.items.filter(o=>o.id!==n):t.items.map(o=>o.id===n?{...o,quantity:r}:o),i=s.reduce((o,a)=>o+a.price*a.quantity,0);return{...t,items:s,total:i}}case"CLEAR_CART":return{...t,items:[],total:0};case"TOGGLE_CART":return{...t,isOpen:!t.isOpen};case"OPEN_CART":return{...t,isOpen:!0};case"CLOSE_CART":return{...t,isOpen:!1};default:return t}},FO={items:[],isOpen:!1,total:0},WA=b.createContext(void 0),UO=({children:t})=>{const[e,n]=b.useReducer(OO,FO),r=(d,f,m)=>{n({type:"ADD_ITEM",payload:{item:d,quantity:f,selectedSize:m}})},s=d=>{n({type:"REMOVE_ITEM",payload:d})},i=(d,f)=>{n({type:"UPDATE_QUANTITY",payload:{id:d,quantity:f}})},o=()=>{n({type:"CLEAR_CART"})},a=()=>{n({type:"TOGGLE_CART"})},l=()=>{n({type:"OPEN_CART"})},h=()=>{n({type:"CLOSE_CART"})};return u.jsx(WA.Provider,{value:{state:e,addItem:r,removeItem:s,updateQuantity:i,clearCart:o,toggleCart:a,openCart:l,closeCart:h},children:t})},Cl=()=>{const t=b.useContext(WA);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},wy=b.createContext({});function _y(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ey=typeof window<"u",qA=Ey?b.useLayoutEffect:b.useEffect,$h=b.createContext(null);function Ty(t,e){t.indexOf(e)===-1&&t.push(e)}function Sy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const pr=(t,e,n)=>n>e?e:n<t?t:n;let Hu=()=>{};const mr={},KA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function GA(t){return typeof t=="object"&&t!==null}const QA=t=>/^0[^.\s]+$/u.test(t);function Iy(t){let e;return()=>(e===void 0&&(e=t()),e)}const nn=t=>t,BO=(t,e)=>n=>e(t(n)),bl=(...t)=>t.reduce(BO),sl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Ay{constructor(){this.subscriptions=[]}add(e){return Ty(this.subscriptions,e),()=>Sy(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bn=t=>t*1e3,zn=t=>t/1e3;function YA(t,e){return e?t*(1e3/e):0}const XA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,zO=1e-7,$O=12;function HO(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=XA(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>zO&&++a<$O);return o}function Pl(t,e,n,r){if(t===e&&n===r)return nn;const s=i=>HO(i,0,1,t,n);return i=>i===0||i===1?i:XA(s(i),e,r)}const JA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ZA=t=>e=>1-t(1-e),eC=Pl(.33,1.53,.69,.99),Cy=ZA(eC),tC=JA(Cy),nC=t=>(t*=2)<1?.5*Cy(t):.5*(2-Math.pow(2,-10*(t-1))),by=t=>1-Math.sin(Math.acos(t)),rC=ZA(by),sC=JA(by),WO=Pl(.42,0,1,1),qO=Pl(0,0,.58,1),iC=Pl(.42,0,.58,1),KO=t=>Array.isArray(t)&&typeof t[0]!="number",oC=t=>Array.isArray(t)&&typeof t[0]=="number",tw={linear:nn,easeIn:WO,easeInOut:iC,easeOut:qO,circIn:by,circInOut:sC,circOut:rC,backIn:Cy,backInOut:tC,backOut:eC,anticipate:nC},GO=t=>typeof t=="string",nw=t=>{if(oC(t)){Hu(t.length===4);const[e,n,r,s]=t;return Pl(e,n,r,s)}else if(GO(t))return Hu(tw[t]!==void 0),tw[t];return t},xc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],rw={value:null,addProjectionMetrics:null};function QO(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function h(f){o.has(f)&&(d.schedule(f),t()),l++,f(a)}const d={schedule:(f,m=!1,y=!1)=>{const A=y&&s?n:r;return m&&o.add(f),A.has(f)||A.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(h),e&&rw.value&&rw.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(f))}};return d}const YO=40;function aC(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=xc.reduce((E,k)=>(E[k]=QO(i,e?k:void 0),E),{}),{setup:a,read:l,resolveKeyframes:h,preUpdate:d,update:f,preRender:m,render:y,postRender:T}=o,A=()=>{const E=mr.useManualTiming?s.timestamp:performance.now();n=!1,mr.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(E-s.timestamp,YO),1)),s.timestamp=E,s.isProcessing=!0,a.process(s),l.process(s),h.process(s),d.process(s),f.process(s),m.process(s),y.process(s),T.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(A))},R=()=>{n=!0,r=!0,s.isProcessing||t(A)};return{schedule:xc.reduce((E,k)=>{const D=o[k];return E[k]=(M,S=!1,v=!1)=>(n||R(),D.schedule(M,S,v)),E},{}),cancel:E=>{for(let k=0;k<xc.length;k++)o[xc[k]].cancel(E)},state:s,steps:o}}const{schedule:Ce,cancel:is,state:nt,steps:of}=aC(typeof requestAnimationFrame<"u"?requestAnimationFrame:nn,!0);let Gc;function XO(){Gc=void 0}const jt={now:()=>(Gc===void 0&&jt.set(nt.isProcessing||mr.useManualTiming?nt.timestamp:performance.now()),Gc),set:t=>{Gc=t,queueMicrotask(XO)}},lC=t=>e=>typeof e=="string"&&e.startsWith(t),Py=lC("--"),JO=lC("var(--"),Ry=t=>JO(t)?ZO.test(t.split("/*")[0].trim()):!1,ZO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,To={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},il={...To,transform:t=>pr(0,1,t)},wc={...To,default:1},Ta=t=>Math.round(t*1e5)/1e5,Ny=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function e5(t){return t==null}const t5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ky=(t,e)=>n=>!!(typeof n=="string"&&t5.test(n)&&n.startsWith(t)||e&&!e5(n)&&Object.prototype.hasOwnProperty.call(n,e)),cC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Ny);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},n5=t=>pr(0,255,t),af={...To,transform:t=>Math.round(n5(t))},Ns={test:ky("rgb","red"),parse:cC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+af.transform(t)+", "+af.transform(e)+", "+af.transform(n)+", "+Ta(il.transform(r))+")"};function r5(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const qp={test:ky("#"),parse:r5,transform:Ns.transform},Rl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Tr=Rl("deg"),$n=Rl("%"),te=Rl("px"),s5=Rl("vh"),i5=Rl("vw"),sw={...$n,parse:t=>$n.parse(t)/100,transform:t=>$n.transform(t*100)},Ai={test:ky("hsl","hue"),parse:cC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+$n.transform(Ta(e))+", "+$n.transform(Ta(n))+", "+Ta(il.transform(r))+")"},$e={test:t=>Ns.test(t)||qp.test(t)||Ai.test(t),parse:t=>Ns.test(t)?Ns.parse(t):Ai.test(t)?Ai.parse(t):qp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ns.transform(t):Ai.transform(t),getAnimatableNone:t=>{const e=$e.parse(t);return e.alpha=0,$e.transform(e)}},o5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function a5(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ny))==null?void 0:e.length)||0)+(((n=t.match(o5))==null?void 0:n.length)||0)>0}const uC="number",hC="color",l5="var",c5="var(",iw="${}",u5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ol(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(u5,l=>($e.test(l)?(r.color.push(i),s.push(hC),n.push($e.parse(l))):l.startsWith(c5)?(r.var.push(i),s.push(l5),n.push(l)):(r.number.push(i),s.push(uC),n.push(parseFloat(l))),++i,iw)).split(iw);return{values:n,split:a,indexes:r,types:s}}function dC(t){return ol(t).values}function fC(t){const{split:e,types:n}=ol(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===uC?i+=Ta(s[o]):a===hC?i+=$e.transform(s[o]):i+=s[o]}return i}}const h5=t=>typeof t=="number"?0:$e.test(t)?$e.getAnimatableNone(t):t;function d5(t){const e=dC(t);return fC(t)(e.map(h5))}const os={test:a5,parse:dC,createTransformer:fC,getAnimatableNone:d5};function lf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function f5({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=lf(l,a,t+1/3),i=lf(l,a,t),o=lf(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Wu(t,e){return n=>n>0?e:t}const Ne=(t,e,n)=>t+(e-t)*n,cf=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},p5=[qp,Ns,Ai],m5=t=>p5.find(e=>e.test(t));function ow(t){const e=m5(t);if(!e)return!1;let n=e.parse(t);return e===Ai&&(n=f5(n)),n}const aw=(t,e)=>{const n=ow(t),r=ow(e);if(!n||!r)return Wu(t,e);const s={...n};return i=>(s.red=cf(n.red,r.red,i),s.green=cf(n.green,r.green,i),s.blue=cf(n.blue,r.blue,i),s.alpha=Ne(n.alpha,r.alpha,i),Ns.transform(s))},Kp=new Set(["none","hidden"]);function g5(t,e){return Kp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function y5(t,e){return n=>Ne(t,e,n)}function jy(t){return typeof t=="number"?y5:typeof t=="string"?Ry(t)?Wu:$e.test(t)?aw:w5:Array.isArray(t)?pC:typeof t=="object"?$e.test(t)?aw:v5:Wu}function pC(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>jy(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function v5(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=jy(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function x5(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const w5=(t,e)=>{const n=os.createTransformer(e),r=ol(t),s=ol(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Kp.has(t)&&!s.values.length||Kp.has(e)&&!r.values.length?g5(t,e):bl(pC(x5(r,s),s.values),n):Wu(t,e)};function mC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ne(t,e,n):jy(t)(t,e)}const _5=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ce.update(e,n),stop:()=>is(e),now:()=>nt.isProcessing?nt.timestamp:jt.now()}},gC=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},qu=2e4;function Dy(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<qu;)e+=n,r=t.next(e);return e>=qu?1/0:e}function E5(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Dy(r),qu);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:zn(s)}}const T5=5;function yC(t,e,n){const r=Math.max(e-T5,0);return YA(n-t(r),e-r)}const Me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},uf=.001;function S5({duration:t=Me.duration,bounce:e=Me.bounce,velocity:n=Me.velocity,mass:r=Me.mass}){let s,i,o=1-e;o=pr(Me.minDamping,Me.maxDamping,o),t=pr(Me.minDuration,Me.maxDuration,zn(t)),o<1?(s=h=>{const d=h*o,f=d*t,m=d-n,y=Gp(h,o),T=Math.exp(-f);return uf-m/y*T},i=h=>{const f=h*o*t,m=f*n+n,y=Math.pow(o,2)*Math.pow(h,2)*t,T=Math.exp(-f),A=Gp(Math.pow(h,2),o);return(-s(h)+uf>0?-1:1)*((m-y)*T)/A}):(s=h=>{const d=Math.exp(-h*t),f=(h-n)*t+1;return-uf+d*f},i=h=>{const d=Math.exp(-h*t),f=(n-h)*(t*t);return d*f});const a=5/t,l=A5(s,i,a);if(t=Bn(t),isNaN(l))return{stiffness:Me.stiffness,damping:Me.damping,duration:t};{const h=Math.pow(l,2)*r;return{stiffness:h,damping:o*2*Math.sqrt(r*h),duration:t}}}const I5=12;function A5(t,e,n){let r=n;for(let s=1;s<I5;s++)r=r-t(r)/e(r);return r}function Gp(t,e){return t*Math.sqrt(1-e*e)}const C5=["duration","bounce"],b5=["stiffness","damping","mass"];function lw(t,e){return e.some(n=>t[n]!==void 0)}function P5(t){let e={velocity:Me.velocity,stiffness:Me.stiffness,damping:Me.damping,mass:Me.mass,isResolvedFromDuration:!1,...t};if(!lw(t,b5)&&lw(t,C5))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*pr(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Me.mass,stiffness:s,damping:i}}else{const n=S5(t);e={...e,...n,mass:Me.mass},e.isResolvedFromDuration=!0}return e}function Ku(t=Me.visualDuration,e=Me.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:h,mass:d,duration:f,velocity:m,isResolvedFromDuration:y}=P5({...n,velocity:-zn(n.velocity||0)}),T=m||0,A=h/(2*Math.sqrt(l*d)),R=o-i,w=zn(Math.sqrt(l/d)),x=Math.abs(R)<5;r||(r=x?Me.restSpeed.granular:Me.restSpeed.default),s||(s=x?Me.restDelta.granular:Me.restDelta.default);let E;if(A<1){const D=Gp(w,A);E=M=>{const S=Math.exp(-A*w*M);return o-S*((T+A*w*R)/D*Math.sin(D*M)+R*Math.cos(D*M))}}else if(A===1)E=D=>o-Math.exp(-w*D)*(R+(T+w*R)*D);else{const D=w*Math.sqrt(A*A-1);E=M=>{const S=Math.exp(-A*w*M),v=Math.min(D*M,300);return o-S*((T+A*w*R)*Math.sinh(v)+D*R*Math.cosh(v))/D}}const k={calculatedDuration:y&&f||null,next:D=>{const M=E(D);if(y)a.done=D>=f;else{let S=D===0?T:0;A<1&&(S=D===0?Bn(T):yC(E,D,M));const v=Math.abs(S)<=r,I=Math.abs(o-M)<=s;a.done=v&&I}return a.value=a.done?o:M,a},toString:()=>{const D=Math.min(Dy(k),qu),M=gC(S=>k.next(D*S).value,D,30);return D+"ms "+M},toTransition:()=>{}};return k}Ku.applyToOptions=t=>{const e=E5(t,100,Ku);return t.ease=e.ease,t.duration=Bn(e.duration),t.type="keyframes",t};function Qp({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:h=.5,restSpeed:d}){const f=t[0],m={done:!1,value:f},y=v=>a!==void 0&&v<a||l!==void 0&&v>l,T=v=>a===void 0?l:l===void 0||Math.abs(a-v)<Math.abs(l-v)?a:l;let A=n*e;const R=f+A,w=o===void 0?R:o(R);w!==R&&(A=w-f);const x=v=>-A*Math.exp(-v/r),E=v=>w+x(v),k=v=>{const I=x(v),C=E(v);m.done=Math.abs(I)<=h,m.value=m.done?w:C};let D,M;const S=v=>{y(m.value)&&(D=v,M=Ku({keyframes:[m.value,T(m.value)],velocity:yC(E,v,m.value),damping:s,stiffness:i,restDelta:h,restSpeed:d}))};return S(0),{calculatedDuration:null,next:v=>{let I=!1;return!M&&D===void 0&&(I=!0,k(v),S(v)),D!==void 0&&v>=D?M.next(v-D):(!I&&k(v),m)}}}function R5(t,e,n){const r=[],s=n||mr.mix||mC,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||nn:e;a=bl(l,a)}r.push(a)}return r}function N5(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Hu(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=R5(e,r,s),l=a.length,h=d=>{if(o&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const m=sl(t[f],t[f+1],d);return a[f](m)};return n?d=>h(pr(t[0],t[i-1],d)):h}function k5(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=sl(0,e,r);t.push(Ne(n,1,s))}}function j5(t){const e=[0];return k5(e,t.length-1),e}function D5(t,e){return t.map(n=>n*e)}function V5(t,e){return t.map(()=>e||iC).splice(0,t.length-1)}function Sa({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=KO(r)?r.map(nw):nw(r),i={done:!1,value:e[0]},o=D5(n&&n.length===e.length?n:j5(e),t),a=N5(o,e,{ease:Array.isArray(s)?s:V5(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const M5=t=>t!==null;function Vy(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(M5),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const L5={decay:Qp,inertia:Qp,tween:Sa,keyframes:Sa,spring:Ku};function vC(t){typeof t.type=="string"&&(t.type=L5[t.type])}class My{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const O5=t=>t/100;class Ly extends My{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==jt.now()&&this.tick(jt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;vC(e);const{type:n=Sa,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Sa;l!==Sa&&typeof a[0]!="number"&&(this.mixKeyframes=bl(O5,mC(a[0],a[1])),a=[0,100]);const h=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=Dy(h));const{calculatedDuration:d}=h;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:d,repeat:f,repeatType:m,repeatDelay:y,type:T,onUpdate:A,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-h*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let E=this.currentTime,k=r;if(f){const v=Math.min(this.currentTime,s)/a;let I=Math.floor(v),C=v%1;!C&&v>=1&&(C=1),C===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(m==="reverse"?(C=1-C,y&&(C-=y/a)):m==="mirror"&&(k=o)),E=pr(0,1,C)*a}const D=x?{done:!1,value:d[0]}:k.next(E);i&&(D.value=i(D.value));let{done:M}=D;!x&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return S&&T!==Qp&&(D.value=Vy(d,this.options,R,this.speed)),A&&A(D.value),S&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return zn(this.calculatedDuration)}get time(){return zn(this.currentTime)}set time(e){var n;e=Bn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(jt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=zn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=_5,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(jt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function F5(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ks=t=>t*180/Math.PI,Yp=t=>{const e=ks(Math.atan2(t[1],t[0]));return Xp(e)},U5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Yp,rotateZ:Yp,skewX:t=>ks(Math.atan(t[1])),skewY:t=>ks(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Xp=t=>(t=t%360,t<0&&(t+=360),t),cw=Yp,uw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),hw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),B5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uw,scaleY:hw,scale:t=>(uw(t)+hw(t))/2,rotateX:t=>Xp(ks(Math.atan2(t[6],t[5]))),rotateY:t=>Xp(ks(Math.atan2(-t[2],t[0]))),rotateZ:cw,rotate:cw,skewX:t=>ks(Math.atan(t[4])),skewY:t=>ks(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Jp(t){return t.includes("scale")?1:0}function Zp(t,e){if(!t||t==="none")return Jp(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=B5,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=U5,s=a}if(!s)return Jp(e);const i=r[e],o=s[1].split(",").map($5);return typeof i=="function"?i(o):o[i]}const z5=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Zp(n,e)};function $5(t){return parseFloat(t.trim())}const So=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Io=new Set(So),dw=t=>t===To||t===te,H5=new Set(["x","y","z"]),W5=So.filter(t=>!H5.has(t));function q5(t){const e=[];return W5.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ls={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Zp(e,"x"),y:(t,{transform:e})=>Zp(e,"y")};Ls.translateX=Ls.x;Ls.translateY=Ls.y;const Os=new Set;let em=!1,tm=!1,nm=!1;function xC(){if(tm){const t=Array.from(Os).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=q5(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}tm=!1,em=!1,Os.forEach(t=>t.complete(nm)),Os.clear()}function wC(){Os.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(tm=!0)})}function K5(){nm=!0,wC(),xC(),nm=!1}class Oy{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Os.add(this),em||(em=!0,Ce.read(wC),Ce.resolveKeyframes(xC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}F5(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Os.delete(this)}cancel(){this.state==="scheduled"&&(Os.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const G5=t=>t.startsWith("--");function Q5(t,e,n){G5(e)?t.style.setProperty(e,n):t.style[e]=n}const Y5=Iy(()=>window.ScrollTimeline!==void 0),X5={};function J5(t,e){const n=Iy(t);return()=>X5[e]??n()}const _C=J5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oa=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,fw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oa([0,.65,.55,1]),circOut:oa([.55,0,1,.45]),backIn:oa([.31,.01,.66,-.59]),backOut:oa([.33,1.53,.69,.99])};function EC(t,e){if(t)return typeof t=="function"?_C()?gC(t,e):"ease-out":oC(t)?oa(t):Array.isArray(t)?t.map(n=>EC(n,e)||fw.easeOut):fw[t]}function Z5(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},h=void 0){const d={[e]:n};l&&(d.offset=l);const f=EC(a,s);Array.isArray(f)&&(d.easing=f);const m={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return h&&(m.pseudoElement=h),t.animate(d,m)}function TC(t){return typeof t=="function"&&"applyToOptions"in t}function e6({type:t,...e}){return TC(t)&&_C()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class t6 extends My{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Hu(typeof e.type!="string");const h=e6(e);this.animation=Z5(n,r,s,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=Vy(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):Q5(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return zn(Number(e))}get time(){return zn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Bn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Y5()?(this.animation.timeline=e,nn):n(this)}}const SC={anticipate:nC,backInOut:tC,circInOut:sC};function n6(t){return t in SC}function r6(t){typeof t.ease=="string"&&n6(t.ease)&&(t.ease=SC[t.ease])}const pw=10;class s6 extends t6{constructor(e){r6(e),vC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Ly({...o,autoplay:!1}),l=Bn(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-pw).value,a.sample(l).value,pw),a.stop()}}const mw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(os.test(t)||t==="0")&&!t.startsWith("url("));function i6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function o6(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=mw(s,e),a=mw(i,e);return!o||!a?!1:i6(t)||(n==="spring"||TC(n))&&r}function rm(t){t.duration=0,t.type}const a6=new Set(["opacity","clipPath","filter","transform"]),l6=Iy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function c6(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:h}=e.owner.getProps();return l6()&&n&&a6.has(n)&&(n!=="transform"||!h)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const u6=40;class h6 extends My{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:h,element:d,...f}){var T;super(),this.stop=()=>{var A,R;this._animation&&(this._animation.stop(),(A=this.stopTimeline)==null||A.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=jt.now();const m={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:h,element:d,...f},y=(d==null?void 0:d.KeyframeResolver)||Oy;this.keyframeResolver=new y(a,(A,R,w)=>this.onKeyframesResolved(A,R,m,!w),l,h,d),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:h,onUpdate:d}=r;this.resolvedAt=jt.now(),o6(e,i,o,a)||((mr.instantAnimations||!l)&&(d==null||d(Vy(e,r,n))),e[0]=e[e.length-1],rm(r),r.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>u6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!h&&c6(m)?new s6({...m,element:m.motionValue.owner.current}):new Ly(m);y.finished.then(()=>this.notifyFinished()).catch(nn),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),K5()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const d6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function f6(t){const e=d6.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function IC(t,e,n=1){const[r,s]=f6(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return KA(o)?parseFloat(o):o}return Ry(s)?IC(s,e,n+1):s}function Fy(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const AC=new Set(["width","height","top","left","right","bottom",...So]),p6={test:t=>t==="auto",parse:t=>t},CC=t=>e=>e.test(t),bC=[To,te,$n,Tr,i5,s5,p6],gw=t=>bC.find(CC(t));function m6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||QA(t):!0}const g6=new Set(["brightness","contrast","saturate","opacity"]);function y6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ny)||[];if(!r)return t;const s=n.replace(r,"");let i=g6.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const v6=/\b([a-z-]*)\(.*?\)/gu,sm={...os,getAnimatableNone:t=>{const e=t.match(v6);return e?e.map(y6).join(" "):t}},yw={...To,transform:Math.round},x6={rotate:Tr,rotateX:Tr,rotateY:Tr,rotateZ:Tr,scale:wc,scaleX:wc,scaleY:wc,scaleZ:wc,skew:Tr,skewX:Tr,skewY:Tr,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:il,originX:sw,originY:sw,originZ:te},Uy={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,backgroundPositionX:te,backgroundPositionY:te,...x6,zIndex:yw,fillOpacity:il,strokeOpacity:il,numOctaves:yw},w6={...Uy,color:$e,backgroundColor:$e,outlineColor:$e,fill:$e,stroke:$e,borderColor:$e,borderTopColor:$e,borderRightColor:$e,borderBottomColor:$e,borderLeftColor:$e,filter:sm,WebkitFilter:sm},PC=t=>w6[t];function RC(t,e){let n=PC(t);return n!==sm&&(n=os),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _6=new Set(["auto","none","0"]);function E6(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!_6.has(i)&&ol(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=RC(n,s)}class T6 extends Oy{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let h=e[l];if(typeof h=="string"&&(h=h.trim(),Ry(h))){const d=IC(h,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!AC.has(r)||e.length!==2)return;const[s,i]=e,o=gw(s),a=gw(i);if(o!==a)if(dw(o)&&dw(a))for(let l=0;l<e.length;l++){const h=e[l];typeof h=="string"&&(e[l]=parseFloat(h))}else Ls[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||m6(e[s]))&&r.push(s);r.length&&E6(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ls[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Ls[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,h])=>{e.getValue(l).set(h)}),this.resolveNoneKeyframes()}}function S6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const NC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function kC(t){return GA(t)&&"offsetHeight"in t}const vw=30,I6=t=>!isNaN(parseFloat(t));class A6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=jt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=jt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=I6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ay);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ce.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=jt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vw);return YA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function no(t,e){return new A6(t,e)}const{schedule:By,cancel:JU}=aC(queueMicrotask,!1),un={x:!1,y:!1};function jC(){return un.x||un.y}function C6(t){return t==="x"||t==="y"?un[t]?null:(un[t]=!0,()=>{un[t]=!1}):un.x||un.y?null:(un.x=un.y=!0,()=>{un.x=un.y=!1})}function DC(t,e){const n=S6(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function xw(t){return!(t.pointerType==="touch"||jC())}function b6(t,e,n={}){const[r,s,i]=DC(t,n),o=a=>{if(!xw(a))return;const{target:l}=a,h=e(l,a);if(typeof h!="function"||!l)return;const d=f=>{xw(f)&&(h(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const VC=(t,e)=>e?t===e?!0:VC(t,e.parentElement):!1,zy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,P6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function R6(t){return P6.has(t.tagName)||t.tabIndex!==-1}const Qc=new WeakSet;function ww(t){return e=>{e.key==="Enter"&&t(e)}}function hf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const N6=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=ww(()=>{if(Qc.has(n))return;hf(n,"down");const s=ww(()=>{hf(n,"up")}),i=()=>hf(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function _w(t){return zy(t)&&!jC()}function k6(t,e,n={}){const[r,s,i]=DC(t,n),o=a=>{const l=a.currentTarget;if(!_w(a))return;Qc.add(l);const h=e(l,a),d=(y,T)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),Qc.has(l)&&Qc.delete(l),_w(y)&&typeof h=="function"&&h(y,{success:T})},f=y=>{d(y,l===window||l===document||n.useGlobalTarget||VC(l,y.target))},m=y=>{d(y,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",m,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),kC(a)&&(a.addEventListener("focus",h=>N6(h,s)),!R6(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function MC(t){return GA(t)&&"ownerSVGElement"in t}function j6(t){return MC(t)&&t.tagName==="svg"}const vt=t=>!!(t&&t.getVelocity),D6=[...bC,$e,os],V6=t=>D6.find(CC(t)),$y=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class M6 extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=kC(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function L6({children:t,isPresent:e,anchorX:n,root:r}){const s=b.useId(),i=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=b.useContext($y);return b.useInsertionEffect(()=>{const{width:l,height:h,top:d,left:f,right:m}=o.current;if(e||!i.current||!l||!h)return;const y=n==="left"?`left: ${f}`:`right: ${m}`;i.current.dataset.motionPopId=s;const T=document.createElement("style");a&&(T.nonce=a);const A=r??document.head;return A.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${h}px !important;
            ${y}px !important;
            top: ${d}px !important;
          }
        `),()=>{A.contains(T)&&A.removeChild(T)}},[e]),u.jsx(M6,{isPresent:e,childRef:i,sizeRef:o,children:b.cloneElement(t,{ref:i})})}const O6=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const h=_y(F6),d=b.useId();let f=!0,m=b.useMemo(()=>(f=!1,{id:d,initial:e,isPresent:n,custom:s,onExitComplete:y=>{h.set(y,!0);for(const T of h.values())if(!T)return;r&&r()},register:y=>(h.set(y,!1),()=>h.delete(y))}),[n,h,r]);return i&&f&&(m={...m}),b.useMemo(()=>{h.forEach((y,T)=>h.set(T,!1))},[n]),b.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),o==="popLayout"&&(t=u.jsx(L6,{isPresent:n,anchorX:a,root:l,children:t})),u.jsx($h.Provider,{value:m,children:t})};function F6(){return new Map}function LC(t=!0){const e=b.useContext($h);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=b.useId();b.useEffect(()=>{if(t)return s(i)},[t]);const o=b.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const _c=t=>t.key||"";function Ew(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const ro=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[h,d]=LC(o),f=b.useMemo(()=>Ew(t),[t]),m=o&&!h?[]:f.map(_c),y=b.useRef(!0),T=b.useRef(f),A=_y(()=>new Map),[R,w]=b.useState(f),[x,E]=b.useState(f);qA(()=>{y.current=!1,T.current=f;for(let M=0;M<x.length;M++){const S=_c(x[M]);m.includes(S)?A.delete(S):A.get(S)!==!0&&A.set(S,!1)}},[x,m.length,m.join("-")]);const k=[];if(f!==R){let M=[...f];for(let S=0;S<x.length;S++){const v=x[S],I=_c(v);m.includes(I)||(M.splice(S,0,v),k.push(v))}return i==="wait"&&k.length&&(M=k),E(Ew(M)),w(f),null}const{forceRender:D}=b.useContext(wy);return u.jsx(u.Fragment,{children:x.map(M=>{const S=_c(M),v=o&&!h?!1:f===x||m.includes(S),I=()=>{if(A.has(S))A.set(S,!0);else return;let C=!0;A.forEach(N=>{N||(C=!1)}),C&&(D==null||D(),E(T.current),o&&(d==null||d()),r&&r())};return u.jsx(O6,{isPresent:v,initial:!y.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:v?void 0:I,anchorX:a,children:M},S)})})},OC=b.createContext({strict:!1}),Tw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},so={};for(const t in Tw)so[t]={isEnabled:e=>Tw[t].some(n=>!!e[n])};function U6(t){for(const e in t)so[e]={...so[e],...t[e]}}const B6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||B6.has(t)}let FC=t=>!Gu(t);function z6(t){typeof t=="function"&&(FC=e=>e.startsWith("on")?!Gu(e):t(e))}try{z6(require("@emotion/is-prop-valid").default)}catch{}function $6(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(FC(s)||n===!0&&Gu(s)||!e&&!Gu(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Hh=b.createContext({});function Wh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function al(t){return typeof t=="string"||Array.isArray(t)}const Hy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wy=["initial",...Hy];function qh(t){return Wh(t.animate)||Wy.some(e=>al(t[e]))}function UC(t){return!!(qh(t)||t.variants)}function H6(t,e){if(qh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||al(n)?n:void 0,animate:al(r)?r:void 0}}return t.inherit!==!1?e:{}}function W6(t){const{initial:e,animate:n}=H6(t,b.useContext(Hh));return b.useMemo(()=>({initial:e,animate:n}),[Sw(e),Sw(n)])}function Sw(t){return Array.isArray(t)?t.join(" "):t}const ll={};function q6(t){for(const e in t)ll[e]=t[e],Py(e)&&(ll[e].isCSSVariable=!0)}function BC(t,{layout:e,layoutId:n}){return Io.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ll[t]||t==="opacity")}const K6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},G6=So.length;function Q6(t,e,n){let r="",s=!0;for(let i=0;i<G6;i++){const o=So[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const h=NC(a,Uy[o]);if(!l){s=!1;const d=K6[o]||o;r+=`${d}(${h}) `}n&&(e[o]=h)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function qy(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const h=e[l];if(Io.has(l)){o=!0;continue}else if(Py(l)){s[l]=h;continue}else{const d=NC(h,Uy[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=Q6(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:h="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${h} ${d}`}}const Ky=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zC(t,e,n){for(const r in e)!vt(e[r])&&!BC(r,n)&&(t[r]=e[r])}function Y6({transformTemplate:t},e){return b.useMemo(()=>{const n=Ky();return qy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function X6(t,e){const n=t.style||{},r={};return zC(r,n,t),Object.assign(r,Y6(t,e)),r}function J6(t,e){const n={},r=X6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Z6={offset:"stroke-dashoffset",array:"stroke-dasharray"},eF={offset:"strokeDashoffset",array:"strokeDasharray"};function tF(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Z6:eF;t[i.offset]=te.transform(-r);const o=te.transform(e),a=te.transform(n);t[i.array]=`${o} ${a}`}function $C(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,h,d){if(qy(t,a,h),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m}=t;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&tF(f,s,i,o,!1)}const HC=()=>({...Ky(),attrs:{}}),WC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function nF(t,e,n,r){const s=b.useMemo(()=>{const i=HC();return $C(i,e,WC(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};zC(i,t.style,t),s.style={...i,...s.style}}return s}const rF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gy(t){return typeof t!="string"||t.includes("-")?!1:!!(rF.indexOf(t)>-1||/[A-Z]/u.test(t))}function sF(t,e,n,{latestValues:r},s,i=!1){const a=(Gy(t)?nF:J6)(e,r,s,t),l=$6(e,typeof t=="string",i),h=t!==b.Fragment?{...l,...a,ref:n}:{},{children:d}=e,f=b.useMemo(()=>vt(d)?d.get():d,[d]);return b.createElement(t,{...h,children:f})}function Iw(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Qy(t,e,n,r){if(typeof e=="function"){const[s,i]=Iw(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Iw(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Yc(t){return vt(t)?t.get():t}function iF({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:oF(n,r,s,t),renderState:e()}}function oF(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=Yc(i[m]);let{initial:o,animate:a}=t;const l=qh(t),h=UC(t);e&&h&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!Wh(f)){const m=Array.isArray(f)?f:[f];for(let y=0;y<m.length;y++){const T=Qy(t,m[y]);if(T){const{transitionEnd:A,transition:R,...w}=T;for(const x in w){let E=w[x];if(Array.isArray(E)){const k=d?E.length-1:0;E=E[k]}E!==null&&(s[x]=E)}for(const x in A)s[x]=A[x]}}}return s}const qC=t=>(e,n)=>{const r=b.useContext(Hh),s=b.useContext($h),i=()=>iF(t,e,r,s);return n?i():_y(i)};function Yy(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(vt(r[o])||e.style&&vt(e.style[o])||BC(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const aF=qC({scrapeMotionValuesFromProps:Yy,createRenderState:Ky});function KC(t,e,n){const r=Yy(t,e,n);for(const s in t)if(vt(t[s])||vt(e[s])){const i=So.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const lF=qC({scrapeMotionValuesFromProps:KC,createRenderState:HC}),cF=Symbol.for("motionComponentSymbol");function Ci(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function uF(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ci(n)&&(n.current=r))},[e])}const Xy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hF="framerAppearId",GC="data-"+Xy(hF),QC=b.createContext({});function dF(t,e,n,r,s){var A,R;const{visualElement:i}=b.useContext(Hh),o=b.useContext(OC),a=b.useContext($h),l=b.useContext($y).reducedMotion,h=b.useRef(null);r=r||o.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=h.current,f=b.useContext(QC);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&fF(h.current,n,s,f);const m=b.useRef(!1);b.useInsertionEffect(()=>{d&&m.current&&d.update(n,a)});const y=n[GC],T=b.useRef(!!y&&!((A=window.MotionHandoffIsComplete)!=null&&A.call(window,y))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,y)));return qA(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),T.current&&d.animationState&&d.animationState.animateChanges())}),b.useEffect(()=>{d&&(!T.current&&d.animationState&&d.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,y)}),T.current=!1),d.enteringChildren=void 0)}),d}function fF(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:h,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:YC(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Ci(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:h})}function YC(t){if(t)return t.options.allowProjection!==!1?t.projection:YC(t.parent)}function df(t,{forwardMotionProps:e=!1}={},n,r){n&&U6(n);const s=Gy(t)?lF:aF;function i(a,l){let h;const d={...b.useContext($y),...a,layoutId:pF(a)},{isStatic:f}=d,m=W6(a),y=s(a,f);if(!f&&Ey){mF();const T=gF(d);h=T.MeasureLayout,m.visualElement=dF(t,y,d,r,T.ProjectionNode)}return u.jsxs(Hh.Provider,{value:m,children:[h&&m.visualElement?u.jsx(h,{visualElement:m.visualElement,...d}):null,sF(t,a,uF(y,m.visualElement,l),y,f,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=b.forwardRef(i);return o[cF]=t,o}function pF({layoutId:t}){const e=b.useContext(wy).id;return e&&t!==void 0?e+"-"+t:t}function mF(t,e){b.useContext(OC).strict}function gF(t){const{drag:e,layout:n}=so;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function yF(t,e){if(typeof Proxy>"u")return df;const n=new Map,r=(i,o)=>df(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,df(o,void 0,t,e)),n.get(o))})}function XC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function vF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function xF(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ff(t){return t===void 0||t===1}function im({scale:t,scaleX:e,scaleY:n}){return!ff(t)||!ff(e)||!ff(n)}function Ss(t){return im(t)||JC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function JC(t){return Aw(t.x)||Aw(t.y)}function Aw(t){return t&&t!=="0%"}function Qu(t,e,n){const r=t-n,s=e*r;return n+s}function Cw(t,e,n,r,s){return s!==void 0&&(t=Qu(t,s,r)),Qu(t,n,r)+e}function om(t,e=0,n=1,r,s){t.min=Cw(t.min,e,n,r,s),t.max=Cw(t.max,e,n,r,s)}function ZC(t,{x:e,y:n}){om(t.x,e.translate,e.scale,e.originPoint),om(t.y,n.translate,n.scale,n.originPoint)}const bw=.999999999999,Pw=1.0000000000001;function wF(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Pi(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,ZC(t,o)),r&&Ss(i.latestValues)&&Pi(t,i.latestValues))}e.x<Pw&&e.x>bw&&(e.x=1),e.y<Pw&&e.y>bw&&(e.y=1)}function bi(t,e){t.min=t.min+e,t.max=t.max+e}function Rw(t,e,n,r,s=.5){const i=Ne(t.min,t.max,s);om(t,e,n,i,r)}function Pi(t,e){Rw(t.x,e.x,e.scaleX,e.scale,e.originX),Rw(t.y,e.y,e.scaleY,e.scale,e.originY)}function eb(t,e){return XC(xF(t.getBoundingClientRect(),e))}function _F(t,e,n){const r=eb(t,n),{scroll:s}=e;return s&&(bi(r.x,s.offset.x),bi(r.y,s.offset.y)),r}const Nw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ri=()=>({x:Nw(),y:Nw()}),kw=()=>({min:0,max:0}),Oe=()=>({x:kw(),y:kw()}),am={current:null},tb={current:!1};function EF(){if(tb.current=!0,!!Ey)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>am.current=t.matches;t.addEventListener("change",e),e()}else am.current=!1}const TF=new WeakMap;function SF(t,e,n){for(const r in e){const s=e[r],i=n[r];if(vt(s))t.addValue(r,s);else if(vt(i))t.addValue(r,no(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,no(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const jw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class IF{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Oy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=jt.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ce.render(this.render,!1,!0))};const{latestValues:l,renderState:h}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=qh(n),this.isVariantNode=UC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const y=f[m];l[m]!==void 0&&vt(y)&&y.set(l[m])}}mount(e){var n;this.current=e,TF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),tb.current||EF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:am.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),is(this.notifyUpdate),is(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Io.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ce.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in so){const n=so[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Oe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<jw.length;r++){const s=jw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=SF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=no(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(KA(r)||QA(r))?r=parseFloat(r):!V6(r)&&os.test(n)&&(r=RC(e,n)),this.setBaseTarget(e,vt(r)?r.get():r)),vt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Qy(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!vt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ay),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){By.render(this.render)}}class nb extends IF{constructor(){super(...arguments),this.KeyframeResolver=T6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function rb(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function AF(t){return window.getComputedStyle(t)}class CF extends nb{constructor(){super(...arguments),this.type="html",this.renderInstance=rb}readValueFromInstance(e,n){var r;if(Io.has(n))return(r=this.projection)!=null&&r.isProjecting?Jp(n):z5(e,n);{const s=AF(e),i=(Py(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return eb(e,n)}build(e,n,r){qy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Yy(e,n,r)}}const sb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bF(t,e,n,r){rb(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(sb.has(s)?s:Xy(s),e.attrs[s])}class PF extends nb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Oe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Io.has(n)){const r=PC(n);return r&&r.default||0}return n=sb.has(n)?n:Xy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return KC(e,n,r)}build(e,n,r){$C(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){bF(e,n,r,s)}mount(e){this.isSVGTag=WC(e.tagName),super.mount(e)}}const RF=(t,e)=>Gy(t)?new PF(e):new CF(e,{allowProjection:t!==b.Fragment});function Bi(t,e,n){const r=t.getProps();return Qy(r,e,n!==void 0?n:r.custom,t)}const lm=t=>Array.isArray(t);function NF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,no(n))}function kF(t){return lm(t)?t[t.length-1]||0:t}function jF(t,e){const n=Bi(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=kF(i[o]);NF(t,o,a)}}function DF(t){return!!(vt(t)&&t.add)}function cm(t,e){const n=t.getValue("willChange");if(DF(n))return n.add(e);if(!n&&mr.WillChange){const r=new mr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function ib(t){return t.props[GC]}const VF=t=>t!==null;function MF(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(VF),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const LF={type:"spring",stiffness:500,damping:25,restSpeed:10},OF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),FF={type:"keyframes",duration:.8},UF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BF=(t,{keyframes:e})=>e.length>2?FF:Io.has(t)?t.startsWith("scale")?OF(e[1]):LF:UF;function zF({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:h,...d}){return!!Object.keys(d).length}const Jy=(t,e,n,r={},s,i)=>o=>{const a=Fy(r,t)||{},l=a.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Bn(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-h,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};zF(a)||Object.assign(d,BF(t,d)),d.duration&&(d.duration=Bn(d.duration)),d.repeatDelay&&(d.repeatDelay=Bn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(rm(d),d.delay===0&&(f=!0)),(mr.instantAnimations||mr.skipAnimations)&&(f=!0,rm(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,f&&!i&&e.get()!==void 0){const m=MF(d.keyframes,a);if(m!==void 0){Ce.update(()=>{d.onUpdate(m),d.onComplete()});return}}return a.isSync?new Ly(d):new h6(d)};function $F({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function ob(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const f=t.getValue(d,t.latestValues[d]??null),m=a[d];if(m===void 0||h&&$F(h,d))continue;const y={delay:n,...Fy(i||{},d)},T=f.get();if(T!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===T&&!y.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const w=ib(t);if(w){const x=window.MotionHandoffAnimation(w,d,Ce);x!==null&&(y.startTime=x,A=!0)}}cm(t,d),f.start(Jy(d,f,m,t.shouldReduceMotion&&AC.has(d)?{type:!1}:y,t,A));const R=f.animation;R&&l.push(R)}return o&&Promise.all(l).then(()=>{Ce.update(()=>{o&&jF(t,o)})}),l}function ab(t,e,n,r=0,s=1){const i=Array.from(t).sort((h,d)=>h.sortNodePosition(d)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function um(t,e,n={}){var l;const r=Bi(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(ob(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=s;return HF(t,e,h,d,f,m,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[h,d]=a==="beforeChildren"?[i,o]:[o,i];return h().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function HF(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(um(l,e,{...o,delay:n+(typeof r=="function"?0:r)+ab(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function WF(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>um(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=um(t,e,n);else{const s=typeof e=="function"?Bi(t,e,n.custom):e;r=Promise.all(ob(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function lb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const qF=Wy.length;function cb(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?cb(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<qF;n++){const r=Wy[n],s=t.props[r];(al(s)||s===!1)&&(e[r]=s)}return e}const KF=[...Hy].reverse(),GF=Hy.length;function QF(t){return e=>Promise.all(e.map(({animation:n,options:r})=>WF(t,n,r)))}function YF(t){let e=QF(t),n=Dw(),r=!0;const s=l=>(h,d)=>{var m;const f=Bi(t,d,l==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:y,transitionEnd:T,...A}=f;h={...h,...A,...T}}return h};function i(l){e=l(t)}function o(l){const{props:h}=t,d=cb(t.parent)||{},f=[],m=new Set;let y={},T=1/0;for(let R=0;R<GF;R++){const w=KF[R],x=n[w],E=h[w]!==void 0?h[w]:d[w],k=al(E),D=w===l?x.isActive:null;D===!1&&(T=R);let M=E===d[w]&&E!==h[w]&&k;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),x.protectedKeys={...y},!x.isActive&&D===null||!E&&!x.prevProp||Wh(E)||typeof E=="boolean")continue;const S=XF(x.prevProp,E);let v=S||w===l&&x.isActive&&!M&&k||R>T&&k,I=!1;const C=Array.isArray(E)?E:[E];let N=C.reduce(s(w),{});D===!1&&(N={});const{prevResolvedValues:j={}}=x,P={...j,...N},Pe=pe=>{v=!0,m.has(pe)&&(I=!0,m.delete(pe)),x.needsAnimating[pe]=!0;const O=t.getValue(pe);O&&(O.liveStyle=!1)};for(const pe in P){const O=N[pe],W=j[pe];if(y.hasOwnProperty(pe))continue;let X=!1;lm(O)&&lm(W)?X=!lb(O,W):X=O!==W,X?O!=null?Pe(pe):m.add(pe):O!==void 0&&m.has(pe)?Pe(pe):x.protectedKeys[pe]=!0}x.prevProp=E,x.prevResolvedValues=N,x.isActive&&(y={...y,...N}),r&&t.blockInitialAnimation&&(v=!1);const bt=M&&S;v&&(!bt||I)&&f.push(...C.map(pe=>{const O={type:w};if(typeof pe=="string"&&r&&!bt&&t.manuallyAnimateOnMount&&t.parent){const{parent:W}=t,X=Bi(W,pe);if(W.enteringChildren&&X){const{delayChildren:B}=X.transition||{};O.delay=ab(W.enteringChildren,t,B)}}return{animation:pe,options:O}}))}if(m.size){const R={};if(typeof h.initial!="boolean"){const w=Bi(t,Array.isArray(h.initial)?h.initial[0]:h.initial);w&&w.transition&&(R.transition=w.transition)}m.forEach(w=>{const x=t.getBaseTarget(w),E=t.getValue(w);E&&(E.liveStyle=!0),R[w]=x??null}),f.push({animation:R})}let A=!!f.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(f):Promise.resolve()}function a(l,h){var f;if(n[l].isActive===h)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(m=>{var y;return(y=m.animationState)==null?void 0:y.setActive(l,h)}),n[l].isActive=h;const d=o(l);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Dw(),r=!0}}}function XF(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!lb(e,t):!1}function xs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Dw(){return{animate:xs(!0),whileInView:xs(),whileHover:xs(),whileTap:xs(),whileDrag:xs(),whileFocus:xs(),exit:xs()}}class ps{constructor(e){this.isMounted=!1,this.node=e}update(){}}class JF extends ps{constructor(e){super(e),e.animationState||(e.animationState=YF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let ZF=0;class e9 extends ps{constructor(){super(...arguments),this.id=ZF++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const t9={animation:{Feature:JF},exit:{Feature:e9}};function cl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Nl(t){return{point:{x:t.pageX,y:t.pageY}}}const n9=t=>e=>zy(e)&&t(e,Nl(e));function Ia(t,e,n,r){return cl(t,e,n9(n),r)}const ub=1e-4,r9=1-ub,s9=1+ub,hb=.01,i9=0-hb,o9=0+hb;function St(t){return t.max-t.min}function a9(t,e,n){return Math.abs(t-e)<=n}function Vw(t,e,n,r=.5){t.origin=r,t.originPoint=Ne(e.min,e.max,t.origin),t.scale=St(n)/St(e),t.translate=Ne(n.min,n.max,t.origin)-t.originPoint,(t.scale>=r9&&t.scale<=s9||isNaN(t.scale))&&(t.scale=1),(t.translate>=i9&&t.translate<=o9||isNaN(t.translate))&&(t.translate=0)}function Aa(t,e,n,r){Vw(t.x,e.x,n.x,r?r.originX:void 0),Vw(t.y,e.y,n.y,r?r.originY:void 0)}function Mw(t,e,n){t.min=n.min+e.min,t.max=t.min+St(e)}function l9(t,e,n){Mw(t.x,e.x,n.x),Mw(t.y,e.y,n.y)}function Lw(t,e,n){t.min=e.min-n.min,t.max=t.min+St(e)}function Ca(t,e,n){Lw(t.x,e.x,n.x),Lw(t.y,e.y,n.y)}function Qt(t){return[t("x"),t("y")]}const db=({current:t})=>t?t.ownerDocument.defaultView:null,Ow=(t,e)=>Math.abs(t-e);function c9(t,e){const n=Ow(t.x,e.x),r=Ow(t.y,e.y);return Math.sqrt(n**2+r**2)}class fb{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=mf(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,T=c9(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!T)return;const{point:A}=m,{timestamp:R}=nt;this.history.push({...A,timestamp:R});const{onStart:w,onMove:x}=this.handlers;y||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=pf(y,this.transformPagePoint),Ce.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:T,onSessionEnd:A,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=mf(m.type==="pointercancel"?this.lastMoveEventInfo:pf(y,this.transformPagePoint),this.history);this.startEvent&&T&&T(m,w),A&&A(m,w)},!zy(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=Nl(e),l=pf(a,this.transformPagePoint),{point:h}=l,{timestamp:d}=nt;this.history=[{...h,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,mf(l,this.history)),this.removeListeners=bl(Ia(this.contextWindow,"pointermove",this.handlePointerMove),Ia(this.contextWindow,"pointerup",this.handlePointerUp),Ia(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),is(this.updatePoint)}}function pf(t,e){return e?{point:e(t.point)}:t}function Fw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mf({point:t},e){return{point:t,delta:Fw(t,pb(e)),offset:Fw(t,u9(e)),velocity:h9(e,.1)}}function u9(t){return t[0]}function pb(t){return t[t.length-1]}function h9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=pb(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Bn(e)));)n--;if(!r)return{x:0,y:0};const i=zn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function d9(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ne(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ne(n,t,r.max):Math.min(t,n)),t}function Uw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function f9(t,{top:e,left:n,bottom:r,right:s}){return{x:Uw(t.x,n,s),y:Uw(t.y,e,r)}}function Bw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function p9(t,e){return{x:Bw(t.x,e.x),y:Bw(t.y,e.y)}}function m9(t,e){let n=.5;const r=St(t),s=St(e);return s>r?n=sl(e.min,e.max-r,t.min):r>s&&(n=sl(t.min,t.max-s,e.min)),pr(0,1,n)}function g9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hm=.35;function y9(t=hm){return t===!1?t=0:t===!0&&(t=hm),{x:zw(t,"left","right"),y:zw(t,"top","bottom")}}function zw(t,e,n){return{min:$w(t,e),max:$w(t,n)}}function $w(t,e){return typeof t=="number"?t:t[e]||0}const v9=new WeakMap;class x9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Oe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Nl(f).point)},o=(f,m)=>{const{drag:y,dragPropagation:T,onDragStart:A}=this.getProps();if(y&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=C6(y),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qt(w=>{let x=this.getAxisMotionValue(w).get()||0;if($n.test(x)){const{projection:E}=this.visualElement;if(E&&E.layout){const k=E.layout.layoutBox[w];k&&(x=St(k)*(parseFloat(x)/100))}}this.originPoint[w]=x}),A&&Ce.postRender(()=>A(f,m)),cm(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},a=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:y,dragDirectionLock:T,onDirectionLock:A,onDrag:R}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:w}=m;if(T&&this.currentDirection===null){this.currentDirection=w9(w),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",m.point,w),this.updateAxis("y",m.point,w),this.visualElement.render(),R&&R(f,m)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Qt(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)==null?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new fb(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:db(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ce.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Ec(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=d9(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Ci(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=f9(r.layoutBox,e):this.constraints=!1,this.elastic=y9(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Qt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=g9(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ci(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=_F(r,s.root,this.visualElement.getTransformPagePoint());let o=p9(s.layout.layoutBox,i);if(n){const a=n(vF(o));this.hasMutatedConstraints=!!a,a&&(o=XC(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},h=Qt(d=>{if(!Ec(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const m=s?200:1e6,y=s?40:1e7,T={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,T)});return Promise.all(h).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return cm(this.visualElement,e),r.start(Jy(e,r,0,n,this.visualElement,!1))}stopAnimation(){Qt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Qt(n=>{const{drag:r}=this.getProps();if(!Ec(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Ne(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ci(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Qt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=m9({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qt(o=>{if(!Ec(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:h}=this.constraints[o];a.set(Ne(l,h,s[o]))})}addListeners(){if(!this.visualElement.current)return;v9.set(this.visualElement,this);const e=this.visualElement.current,n=Ia(e,"pointerdown",l=>{const{drag:h,dragListener:d=!0}=this.getProps();h&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ci(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ce.read(r);const o=cl(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:h})=>{this.isDragging&&h&&(Qt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=hm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Ec(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function w9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _9 extends ps{constructor(e){super(e),this.removeGroupControls=nn,this.removeListeners=nn,this.controls=new x9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Hw=t=>(e,n)=>{t&&Ce.postRender(()=>t(e,n))};class E9 extends ps{constructor(){super(...arguments),this.removePointerDownListener=nn}onPointerDown(e){this.session=new fb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:db(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Hw(e),onStart:Hw(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Ce.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ia(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ww(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Qo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(te.test(t))t=parseFloat(t);else return t;const n=Ww(t,e.target.x),r=Ww(t,e.target.y);return`${n}% ${r}%`}},T9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=os.parse(t);if(s.length>5)return r;const i=os.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const h=Ne(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=h),typeof s[3+o]=="number"&&(s[3+o]/=h),i(s)}};let gf=!1;class S9 extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;q6(I9),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),gf&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Xc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,gf=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Ce.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),By.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;gf=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mb(t){const[e,n]=LC(),r=b.useContext(wy);return u.jsx(S9,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(QC),isPresent:e,safeToRemove:n})}const I9={borderRadius:{...Qo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qo,borderTopRightRadius:Qo,borderBottomLeftRadius:Qo,borderBottomRightRadius:Qo,boxShadow:T9};function A9(t,e,n){const r=vt(t)?t:no(t);return r.start(Jy("",r,e,n)),r.animation}const C9=(t,e)=>t.depth-e.depth;class b9{constructor(){this.children=[],this.isDirty=!1}add(e){Ty(this.children,e),this.isDirty=!0}remove(e){Sy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(C9),this.isDirty=!1,this.children.forEach(e)}}function P9(t,e){const n=jt.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(is(r),t(i-e))};return Ce.setup(r,!0),()=>is(r)}const gb=["TopLeft","TopRight","BottomLeft","BottomRight"],R9=gb.length,qw=t=>typeof t=="string"?parseFloat(t):t,Kw=t=>typeof t=="number"||te.test(t);function N9(t,e,n,r,s,i){s?(t.opacity=Ne(0,n.opacity??1,k9(r)),t.opacityExit=Ne(e.opacity??1,0,j9(r))):i&&(t.opacity=Ne(e.opacity??1,n.opacity??1,r));for(let o=0;o<R9;o++){const a=`border${gb[o]}Radius`;let l=Gw(e,a),h=Gw(n,a);if(l===void 0&&h===void 0)continue;l||(l=0),h||(h=0),l===0||h===0||Kw(l)===Kw(h)?(t[a]=Math.max(Ne(qw(l),qw(h),r),0),($n.test(h)||$n.test(l))&&(t[a]+="%")):t[a]=h}(e.rotate||n.rotate)&&(t.rotate=Ne(e.rotate||0,n.rotate||0,r))}function Gw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const k9=yb(0,.5,rC),j9=yb(.5,.95,nn);function yb(t,e,n){return r=>r<t?0:r>e?1:n(sl(t,e,r))}function Qw(t,e){t.min=e.min,t.max=e.max}function Gt(t,e){Qw(t.x,e.x),Qw(t.y,e.y)}function Yw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Xw(t,e,n,r,s){return t-=e,t=Qu(t,1/n,r),s!==void 0&&(t=Qu(t,1/s,r)),t}function D9(t,e=0,n=1,r=.5,s,i=t,o=t){if($n.test(e)&&(e=parseFloat(e),e=Ne(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ne(i.min,i.max,r);t===i&&(a-=e),t.min=Xw(t.min,e,n,a,s),t.max=Xw(t.max,e,n,a,s)}function Jw(t,e,[n,r,s],i,o){D9(t,e[n],e[r],e[s],e.scale,i,o)}const V9=["x","scaleX","originX"],M9=["y","scaleY","originY"];function Zw(t,e,n,r){Jw(t.x,e,V9,n?n.x:void 0,r?r.x:void 0),Jw(t.y,e,M9,n?n.y:void 0,r?r.y:void 0)}function e_(t){return t.translate===0&&t.scale===1}function vb(t){return e_(t.x)&&e_(t.y)}function t_(t,e){return t.min===e.min&&t.max===e.max}function L9(t,e){return t_(t.x,e.x)&&t_(t.y,e.y)}function n_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xb(t,e){return n_(t.x,e.x)&&n_(t.y,e.y)}function r_(t){return St(t.x)/St(t.y)}function s_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class O9{constructor(){this.members=[]}add(e){Ty(this.members,e),e.scheduleRender()}remove(e){if(Sy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function F9(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:d,rotateX:f,rotateY:m,skewX:y,skewY:T}=n;h&&(r=`perspective(${h}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),y&&(r+=`skewX(${y}deg) `),T&&(r+=`skewY(${T}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const yf=["","X","Y","Z"],U9=1e3;let B9=0;function vf(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function wb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ib(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ce,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&wb(r)}function _b({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=B9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(H9),this.nodes.forEach(G9),this.nodes.forEach(Q9),this.nodes.forEach(W9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new b9)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ay),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=MC(o)&&!j6(o),this.instance=o;const{layoutId:a,layout:l,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d,f=0;const m=()=>this.root.updateBlockedByResize=!1;Ce.read(()=>{f=window.innerWidth}),t(o,()=>{const y=window.innerWidth;y!==f&&(f=y,this.root.updateBlockedByResize=!0,d&&d(),d=P9(m,250),Xc.hasAnimatedSinceResize&&(Xc.hasAnimatedSinceResize=!1,this.nodes.forEach(a_)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&h&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||eU,{onLayoutAnimationStart:A,onLayoutAnimationComplete:R}=h.getProps(),w=!this.targetLayout||!xb(this.targetLayout,y),x=!f&&m;if(this.options.layoutRoot||this.resumeFrom||x||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...Fy(T,"layout"),onPlay:A,onComplete:R};(h.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(d,x)}else f||a_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),is(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Y9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(i_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(o_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(K9),this.nodes.forEach(z9),this.nodes.forEach($9)):this.nodes.forEach(o_),this.clearAllSnapshots();const a=jt.now();nt.delta=pr(0,1e3/60,a-nt.timestamp),nt.timestamp=a,nt.isProcessing=!0,of.update.process(nt),of.preRender.process(nt),of.render.process(nt),nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,By.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(q9),this.sharedNodes.forEach(X9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!St(this.snapshot.measuredBox.x)&&!St(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Oe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!vb(this.projectionDelta),l=this.getTransformTemplate(),h=l?l(this.latestValues,""):void 0,d=h!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ss(this.latestValues)||d)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),tU(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:o}=this.options;if(!o)return Oe();const a=o.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(nU))){const{scroll:d}=this.root;d&&(bi(a.x,d.offset.x),bi(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Oe();if(Gt(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let h=0;h<this.path.length;h++){const d=this.path[h],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Gt(a,o),bi(a.x,f.offset.x),bi(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=Oe();Gt(l,o);for(let h=0;h<this.path.length;h++){const d=this.path[h];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Pi(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ss(d.latestValues)&&Pi(l,d.latestValues)}return Ss(this.latestValues)&&Pi(l,this.latestValues),l}removeTransform(o){const a=Oe();Gt(a,o);for(let l=0;l<this.path.length;l++){const h=this.path[l];if(!h.instance||!Ss(h.latestValues))continue;im(h.latestValues)&&h.updateSnapshot();const d=Oe(),f=h.measurePageBox();Gt(d,f),Zw(a,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,d)}return Ss(this.latestValues)&&Zw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=nt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),Ca(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Gt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Oe(),this.targetWithTransforms=Oe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),l9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gt(this.target,this.layout.layoutBox),ZC(this.target,this.targetDelta)):Gt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),Ca(this.relativeTargetOrigin,this.target,y.target),Gt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||im(this.parent.latestValues)||JC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===nt.timestamp&&(l=!1),l)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;Gt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;wF(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Oe());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Yw(this.prevProjectionDelta.x,this.projectionDelta.x),Yw(this.prevProjectionDelta.y,this.projectionDelta.y)),Aa(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!s_(this.projectionDelta.x,this.prevProjectionDelta.x)||!s_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ri(),this.projectionDelta=Ri(),this.projectionDeltaWithTransform=Ri()}setAnimationOrigin(o,a=!1){const l=this.snapshot,h=l?l.latestValues:{},d={...this.latestValues},f=Ri();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=Oe(),y=l?l.source:void 0,T=this.layout?this.layout.source:void 0,A=y!==T,R=this.getStack(),w=!R||R.members.length<=1,x=!!(A&&!w&&this.options.crossfade===!0&&!this.path.some(Z9));this.animationProgress=0;let E;this.mixTargetDelta=k=>{const D=k/1e3;l_(f.x,o.x,D),l_(f.y,o.y,D),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ca(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),J9(this.relativeTarget,this.relativeTargetOrigin,m,D),E&&L9(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Oe()),Gt(E,this.relativeTarget)),A&&(this.animationValues=d,N9(d,h,this.latestValues,D,x,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,h;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(h=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||h.stop(),this.pendingAnimation&&(is(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ce.update(()=>{Xc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=no(0)),this.currentAnimation=A9(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(U9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:h,latestValues:d}=o;if(!(!a||!l||!h)){if(this!==o&&this.layout&&h&&Eb(this.options.animationType,this.layout.layoutBox,h.layoutBox)){l=this.target||Oe();const f=St(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const m=St(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}Gt(a,l),Pi(a,d),Aa(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new O9),this.sharedNodes.get(o).add(a);const h=a.options.initialPromotionConfig;a.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const h=this.getStack();h&&h.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const h={};l.z&&vf("z",o,h,this.animationValues);for(let d=0;d<yf.length;d++)vf(`rotate${yf[d]}`,o,h,this.animationValues),vf(`skew${yf[d]}`,o,h,this.animationValues);o.render();for(const d in h)o.setStaticValue(d,h[d]),this.animationValues&&(this.animationValues[d]=h[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Yc(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Yc(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ss(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=h.animationValues||h.latestValues;this.applyTransformsToTarget();let f=F9(this.projectionDeltaWithTransform,this.treeScale,d);l&&(f=l(d,f)),o.transform=f;const{x:m,y}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?o.opacity=h===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const T in ll){if(d[T]===void 0)continue;const{correct:A,applyTo:R,isCSSVariable:w}=ll[T],x=f==="none"?d[T]:A(d[T],h);if(R){const E=R.length;for(let k=0;k<E;k++)o[R[k]]=x}else w?this.options.visualElement.renderState.vars[T]=x:o[T]=x}this.options.layoutId&&(o.pointerEvents=h===this?Yc(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(i_),this.root.sharedNodes.clear()}}}function z9(t){t.updateLayout()}function $9(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Qt(f=>{const m=o?e.measuredBox[f]:e.layoutBox[f],y=St(m);m.min=r[f].min,m.max=m.min+y}):Eb(i,e.layoutBox,r)&&Qt(f=>{const m=o?e.measuredBox[f]:e.layoutBox[f],y=St(r[f]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const a=Ri();Aa(a,r,e.layoutBox);const l=Ri();o?Aa(l,t.applyTransform(s,!0),e.measuredBox):Aa(l,r,e.layoutBox);const h=!vb(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:y}=f;if(m&&y){const T=Oe();Ca(T,e.layoutBox,m.layoutBox);const A=Oe();Ca(A,r,y.layoutBox),xb(T,A)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=T,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:h,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function H9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function W9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function q9(t){t.clearSnapshot()}function i_(t){t.clearMeasurements()}function o_(t){t.isLayoutDirty=!1}function K9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function a_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function G9(t){t.resolveTargetDelta()}function Q9(t){t.calcProjection()}function Y9(t){t.resetSkewAndRotation()}function X9(t){t.removeLeadSnapshot()}function l_(t,e,n){t.translate=Ne(e.translate,0,n),t.scale=Ne(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function c_(t,e,n,r){t.min=Ne(e.min,n.min,r),t.max=Ne(e.max,n.max,r)}function J9(t,e,n,r){c_(t.x,e.x,n.x,r),c_(t.y,e.y,n.y,r)}function Z9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const eU={duration:.45,ease:[.4,0,.1,1]},u_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),h_=u_("applewebkit/")&&!u_("chrome/")?Math.round:nn;function d_(t){t.min=h_(t.min),t.max=h_(t.max)}function tU(t){d_(t.x),d_(t.y)}function Eb(t,e,n){return t==="position"||t==="preserve-aspect"&&!a9(r_(e),r_(n),.2)}function nU(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const rU=_b({attachResizeListener:(t,e)=>cl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xf={current:void 0},Tb=_b({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xf.current){const t=new rU({});t.mount(window),t.setOptions({layoutScroll:!0}),xf.current=t}return xf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sU={pan:{Feature:E9},drag:{Feature:_9,ProjectionNode:Tb,MeasureLayout:mb}};function f_(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Ce.postRender(()=>i(e,Nl(e)))}class iU extends ps{mount(){const{current:e}=this.node;e&&(this.unmount=b6(e,(n,r)=>(f_(this.node,r,"Start"),s=>f_(this.node,s,"End"))))}unmount(){}}class oU extends ps{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bl(cl(this.node.current,"focus",()=>this.onFocus()),cl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function p_(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Ce.postRender(()=>i(e,Nl(e)))}class aU extends ps{mount(){const{current:e}=this.node;e&&(this.unmount=k6(e,(n,r)=>(p_(this.node,r,"Start"),(s,{success:i})=>p_(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dm=new WeakMap,wf=new WeakMap,lU=t=>{const e=dm.get(t.target);e&&e(t)},cU=t=>{t.forEach(lU)};function uU({root:t,...e}){const n=t||document;wf.has(n)||wf.set(n,{});const r=wf.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(cU,{root:t,...e})),r[s]}function hU(t,e,n){const r=uU(e);return dm.set(t,n),r.observe(t),()=>{dm.delete(t),r.unobserve(t)}}const dU={some:0,all:1};class fU extends ps{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:dU[s]},a=l=>{const{isIntersecting:h}=l;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=h?d:f;m&&m(l)};return hU(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(pU(e,n))&&this.startObserver()}unmount(){}}function pU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const mU={inView:{Feature:fU},tap:{Feature:aU},focus:{Feature:oU},hover:{Feature:iU}},gU={layout:{ProjectionNode:Tb,MeasureLayout:mb}},yU={...t9,...mU,...sU,...gU},J=yF(yU,RF);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),se=(t,e)=>{const n=b.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...h},d)=>b.createElement("svg",{ref:d,...vU,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${xU(t)}`,a].join(" "),...h},[...e.map(([f,m])=>b.createElement(f,m)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=se("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=se("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=se("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=se("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=se("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=se("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=se("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=se("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=se("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=se("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=se("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=se("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=se("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=se("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=se("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=se("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=se("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=se("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=se("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=se("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),OU=({onStartOrdering:t,onGoToAdmin:e,onGoToPrivacyPolicy:n,onGoToTermsOfService:r})=>{const[s,i]=b.useState([]),[o,a]=b.useState(!0);return b.useEffect(()=>{const l=Is(kr(fn,"orders"),$A("timestamp","desc"),CO(10)),h=yy(l,d=>{const f=[];d.forEach(m=>{var A;const y=m.data(),T=(A=y.timestamp)!=null&&A.toDate?y.timestamp.toDate():new Date(y.timestamp);f.push({id:m.id,customerName:y.customerName||"Anonymous",items:y.items||[],total:y.total||0,timestamp:T,status:y.status||"unknown"})}),i(f),a(!1)},d=>{console.error("Error fetching recent orders:",d),a(!1)});return()=>h()},[]),u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-neutral-950 via-neutral-900 to-neutral-950 relative overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-gradient-to-br from-primary-500/10 to-accent-500/10 rounded-full blur-3xl"}),u.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-gradient-to-br from-accent-500/10 to-primary-500/10 rounded-full blur-3xl"})]}),u.jsx("div",{className:"relative z-10 flex-1 flex flex-col justify-center px-4 max-w-7xl mx-auto py-12",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-8",children:[u.jsx(J.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"lg:col-span-8 bento-card lg:p-12",children:u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs(J.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.6},className:"inline-flex items-center gap-3 px-4 py-2 bg-primary-500/10 border border-primary-500/20 rounded-full",children:[u.jsx(IU,{className:"text-primary-400",size:20}),u.jsx("span",{className:"text-primary-300 font-medium text-sm",children:"Premium Cafe Experience"})]}),u.jsxs("h1",{className:"text-5xl lg:text-7xl xl:text-8xl font-bold leading-tight",children:[u.jsx("span",{className:"gradient-text",children:"DRC"})," ",u.jsx("span",{className:"text-neutral-100",children:"CAFE"})]}),u.jsx("p",{className:"text-xl lg:text-2xl text-neutral-400 font-light max-w-2xl text-balance",children:"Artisanal coffee, gourmet snacks, and premium dining experience crafted for the modern palate."})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3 p-4 bg-neutral-800/30 rounded-xl border border-neutral-800",children:[u.jsx(_U,{className:"text-success-400",size:20}),u.jsx("span",{className:"text-neutral-300 text-xs sm:text-sm font-medium",children:"Premium Quality"})]}),u.jsxs("div",{className:"flex items-center gap-3 p-4 bg-neutral-800/30 rounded-xl border border-neutral-800",children:[u.jsx(oo,{className:"text-primary-400",size:20}),u.jsx("span",{className:"text-neutral-300 text-xs sm:text-sm font-medium",children:"Quick Service"})]}),u.jsxs("div",{className:"flex items-center gap-3 p-4 bg-neutral-800/30 rounded-xl border border-neutral-800 sm:col-span-2 lg:col-span-1",children:[u.jsx(Ju,{className:"text-accent-400",size:20}),u.jsx("span",{className:"text-neutral-300 text-xs sm:text-sm font-medium",children:"100+ Items"})]})]}),u.jsxs(J.button,{onClick:t,whileHover:{scale:1.02},whileTap:{scale:.98},className:"group inline-flex items-center gap-3 btn-primary text-base sm:text-lg px-6 sm:px-8 py-3 sm:py-4 rounded-2xl w-full sm:w-auto justify-center",children:[u.jsx("span",{children:"Start Ordering"}),u.jsx(e0,{className:"transition-transform duration-300 group-hover:translate-x-1",size:20})]})]})}),u.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[u.jsx(J.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:.4,duration:.8},className:"bento-card group hover:scale-105",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-success-500/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:u.jsx(mm,{className:"text-success-400",size:24})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-neutral-100 font-semibold text-lg",children:"Premium Quality"}),u.jsx("p",{className:"text-neutral-400 text-sm leading-relaxed",children:"Fresh ingredients sourced daily from trusted suppliers"}),u.jsxs("div",{className:"flex items-center gap-2 text-success-400 text-xs font-medium",children:[u.jsx("div",{className:"w-2 h-2 bg-success-400 rounded-full"}),u.jsx("span",{children:"Quality Guaranteed"})]})]})]})}),u.jsx(J.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:.6,duration:.8},className:"bento-card group hover:scale-105",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-primary-500/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:u.jsx(oo,{className:"text-primary-400",size:24})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-neutral-100 font-semibold text-lg",children:"Lightning Fast"}),u.jsx("p",{className:"text-neutral-400 text-sm leading-relaxed",children:"Orders ready in 10-15 minutes with real-time tracking"}),u.jsxs("div",{className:"flex items-center gap-2 text-primary-400 text-xs font-medium",children:[u.jsx("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-pulse"}),u.jsx("span",{children:"Express Service"})]})]})]})}),u.jsx(J.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:.8,duration:.8},className:"bento-card group hover:scale-105",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-accent-500/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:u.jsx(MU,{className:"text-accent-400",size:24})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-neutral-100 font-semibold text-lg",children:"Diverse Menu"}),u.jsx("p",{className:"text-neutral-400 text-sm leading-relaxed",children:"100+ carefully curated items across 11 categories"}),u.jsxs("div",{className:"flex items-center gap-2 text-accent-400 text-xs font-medium",children:[u.jsx("div",{className:"w-2 h-2 bg-accent-400 rounded-full"}),u.jsx("span",{children:"Something for Everyone"})]})]})]})})]})]})}),u.jsx("div",{className:"relative z-20 p-4 mt-auto",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 text-sm text-neutral-500",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-4 text-center select-text",children:[u.jsx("span",{className:"flex items-center gap-2 font-medium text-neutral-400",children:" V H ENTERPRISES"}),u.jsx("span",{className:"hidden sm:inline",children:""}),u.jsx("span",{className:"flex items-center gap-2",children:" +91 98765-43210"}),u.jsx("span",{className:"hidden sm:inline",children:""}),u.jsx("span",{className:"flex items-center gap-2",children:" info@drccinema.com"}),u.jsx("span",{className:"hidden sm:inline",children:""}),u.jsx("span",{className:"flex items-center gap-2",children:" DRC Cinema Hall, Main Street"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-4 text-center select-text",children:[u.jsx("span",{className:"select-text",children:" 2025 DRC Cinema Hall. All rights reserved."}),u.jsx("span",{className:"hidden sm:inline",children:""}),u.jsx("button",{onClick:n,className:"hover:text-primary-400 transition-colors duration-300 underline underline-offset-4 cursor-pointer bg-transparent border-none text-neutral-500 px-2 py-1 rounded focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-opacity-50 relative z-30",children:"Privacy Policy"}),u.jsx("span",{children:""}),u.jsx("button",{onClick:r,className:"hover:text-primary-400 transition-colors duration-300 underline underline-offset-4 cursor-pointer bg-transparent border-none text-neutral-500 px-2 py-1 rounded focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-opacity-50 relative z-30",children:"Terms of Service"})]})]})})})]})},w_=[{id:"popcorn-regular",name:"Regular Tub",category:"POPCORN TIME",price:130,maxPrice:200,sizes:["Small","Large"],hasVariants:!0,image:"https://www.simplyrecipes.com/thmb/Xzggu-Md45HKhhYSw4DK8tGlZ_I=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Simply-Recipes-Perfect-Popcorn-LEAD-41-4a75a18443ae45aa96053f30a3ed0a6b.JPG"},{id:"popcorn-butter",name:"Butter",category:"POPCORN TIME",price:150,maxPrice:300,sizes:["Small","Large"],hasVariants:!0,image:"https://www.simplyrecipes.com/thmb/Xzggu-Md45HKhhYSw4DK8tGlZ_I=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Simply-Recipes-Perfect-Popcorn-LEAD-41-4a75a18443ae45aa96053f30a3ed0a6b.JPG"},{id:"popcorn-cheese",name:"Cheese",category:"POPCORN TIME",price:150,maxPrice:300,sizes:["Small","Large"],hasVariants:!0,image:"https://www.simplyrecipes.com/thmb/Xzggu-Md45HKhhYSw4DK8tGlZ_I=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Simply-Recipes-Perfect-Popcorn-LEAD-41-4a75a18443ae45aa96053f30a3ed0a6b.JPG"},{id:"popcorn-tomato-chilli",name:"Tomato Chilli",category:"POPCORN TIME",price:150,maxPrice:300,sizes:["Small","Large"],hasVariants:!0,image:"https://www.simplyrecipes.com/thmb/Xzggu-Md45HKhhYSw4DK8tGlZ_I=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Simply-Recipes-Perfect-Popcorn-LEAD-41-4a75a18443ae45aa96053f30a3ed0a6b.JPG"},{id:"popcorn-barbeque",name:"Barbeque (Spicy)",category:"POPCORN TIME",price:150,maxPrice:300,sizes:["Small","Large"],hasVariants:!0,image:"https://www.simplyrecipes.com/thmb/Xzggu-Md45HKhhYSw4DK8tGlZ_I=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Simply-Recipes-Perfect-Popcorn-LEAD-41-4a75a18443ae45aa96053f30a3ed0a6b.JPG"},{id:"popcorn-onion",name:"Onion (Creamy)",category:"POPCORN TIME",price:150,maxPrice:300,sizes:["Small","Large"],hasVariants:!0,image:"https://www.simplyrecipes.com/thmb/Xzggu-Md45HKhhYSw4DK8tGlZ_I=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Simply-Recipes-Perfect-Popcorn-LEAD-41-4a75a18443ae45aa96053f30a3ed0a6b.JPG"},{id:"popcorn-peri-peri",name:"Peri Peri (Smoky)",category:"POPCORN TIME",price:150,maxPrice:300,sizes:["Small","Large"],hasVariants:!0,image:"https://www.simplyrecipes.com/thmb/Xzggu-Md45HKhhYSw4DK8tGlZ_I=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Simply-Recipes-Perfect-Popcorn-LEAD-41-4a75a18443ae45aa96053f30a3ed0a6b.JPG"},{id:"popcorn-mexican",name:"Mexican",category:"POPCORN TIME",price:150,maxPrice:300,sizes:["Small","Large"],hasVariants:!0,image:"https://www.simplyrecipes.com/thmb/Xzggu-Md45HKhhYSw4DK8tGlZ_I=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Simply-Recipes-Perfect-Popcorn-LEAD-41-4a75a18443ae45aa96053f30a3ed0a6b.JPG"},{id:"popcorn-schezwan",name:"Schezwan",category:"POPCORN TIME",price:150,maxPrice:300,sizes:["Small","Large"],hasVariants:!0,image:"https://www.simplyrecipes.com/thmb/Xzggu-Md45HKhhYSw4DK8tGlZ_I=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Simply-Recipes-Perfect-Popcorn-LEAD-41-4a75a18443ae45aa96053f30a3ed0a6b.JPG"},{id:"popcorn-my-mix",name:"My Mix",category:"POPCORN TIME",price:150,maxPrice:300,sizes:["Small","Large"],hasVariants:!0,image:"https://www.simplyrecipes.com/thmb/Xzggu-Md45HKhhYSw4DK8tGlZ_I=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Simply-Recipes-Perfect-Popcorn-LEAD-41-4a75a18443ae45aa96053f30a3ed0a6b.JPG"},{id:"popcorn-butter-mix",name:"My Butter Flavour Mix",category:"POPCORN TIME",price:170,maxPrice:340,sizes:["Small","Large"],hasVariants:!0,image:"https://www.simplyrecipes.com/thmb/Xzggu-Md45HKhhYSw4DK8tGlZ_I=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Simply-Recipes-Perfect-Popcorn-LEAD-41-4a75a18443ae45aa96053f30a3ed0a6b.JPG"},{id:"coke-fanta-sprite",name:"Coke/Fanta/Sprite",category:"SODAS & SIPS",price:120,description:"Served without ice",image:"https://upload.wikimedia.org/wikipedia/commons/2/27/Coca_Cola_Flasche_-_Original_Taste.jpg"},{id:"lemon-ice-tea",name:"Lemon Ice Tea",category:"SODAS & SIPS",price:100,description:"Served without ice",image:"https://upload.wikimedia.org/wikipedia/commons/2/27/Coca_Cola_Flasche_-_Original_Taste.jpg"},{id:"paper-boat",name:"Paper Boat",category:"SODAS & SIPS",price:50,description:"MRP",image:"https://upload.wikimedia.org/wikipedia/commons/2/27/Coca_Cola_Flasche_-_Original_Taste.jpg"},{id:"nachos",name:"Nachos W/Dip",category:"CRUNCHY BITES",price:150,maxPrice:160,image:"https://i.pinimg.com/736x/30/23/c6/3023c60e4804710b5a638e478c9cdfb1.jpg"},{id:"pizza-cheese",name:"Pizza Cheese W/Dip",category:"CRUNCHY BITES",price:120,image:"https://i.pinimg.com/736x/30/23/c6/3023c60e4804710b5a638e478c9cdfb1.jpg"},{id:"spring-rolls",name:"Spring Rolls W/Dip",category:"CRUNCHY BITES",price:120,image:"https://i.pinimg.com/736x/30/23/c6/3023c60e4804710b5a638e478c9cdfb1.jpg"},{id:"veg-lollipop",name:"Veg Lollipop W/Dip",category:"CRUNCHY BITES",price:100,image:"https://i.pinimg.com/736x/30/23/c6/3023c60e4804710b5a638e478c9cdfb1.jpg"},{id:"veg-combo",name:"Veg Burger + Chilli Fries + Coke",category:"COMBOS",price:220,image:"https://images.theconversation.com/files/410720/original/file-20210712-46002-1ku5one.jpg?ixlib=rb-4.1.0&rect=0%2C0%2C1000%2C696&q=20&auto=format&w=320&fit=clip&dpr=2&usm=12&cs=strip"},{id:"chicken-combo",name:"Chicken Burger + Chilli Fries + Coke",category:"COMBOS",price:230,image:"https://images.theconversation.com/files/410720/original/file-20210712-46002-1ku5one.jpg?ixlib=rb-4.1.0&rect=0%2C0%2C1000%2C696&q=20&auto=format&w=320&fit=clip&dpr=2&usm=12&cs=strip"},{id:"veg-sandwich",name:"Veg Sandwich",category:"ROLLS / SANDWICHES / BURGERS / PIZZA",price:130,image:"https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"veg-burger",name:"Veg Burger",category:"ROLLS / SANDWICHES / BURGERS / PIZZA",price:130,image:"https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"chicken-sandwich",name:"Chicken Sandwich",category:"ROLLS / SANDWICHES / BURGERS / PIZZA",price:140,image:"https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"chicken-burger",name:"Chicken Burger",category:"ROLLS / SANDWICHES / BURGERS / PIZZA",price:140,image:"https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"paneer-tikka-pizza",name:"Paneer Tikka Pizza",category:"ROLLS / SANDWICHES / BURGERS / PIZZA",price:140,image:"https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"chicken-tikka-pizza",name:"Chicken Tikka Pizza",category:"ROLLS / SANDWICHES / BURGERS / PIZZA",price:150,image:"https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"egg-roll",name:"Egg Roll",category:"ROLLS / SANDWICHES / BURGERS / PIZZA",price:100,image:"https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"chicken-roll",name:"Chicken Roll",category:"ROLLS / SANDWICHES / BURGERS / PIZZA",price:100,image:"https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"paneer-roll",name:"Paneer Roll",category:"ROLLS / SANDWICHES / BURGERS / PIZZA",price:100,image:"https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"veg-puff",name:"Veg Puff",category:"ROLLS / SANDWICHES / BURGERS / PIZZA",price:40,image:"https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"egg-puff",name:"Egg Puff",category:"ROLLS / SANDWICHES / BURGERS / PIZZA",price:50,image:"https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"veg-samosa",name:"Veg Samosa",category:"ROLLS / SANDWICHES / BURGERS / PIZZA",price:70,image:"https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"veg-mug-noodles",name:"Veg Mug Noodles",category:"ROLLS / SANDWICHES / BURGERS / PIZZA",price:90,image:"https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"aloo-tikki",name:"Aloo Tikki",category:"ROLLS / SANDWICHES / BURGERS / PIZZA",price:70,image:"https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"veg-garlic-pop",name:"Veg Garlic Pop",category:"ROLLS / SANDWICHES / BURGERS / PIZZA",price:90,image:"https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"chilli-fries",name:"Chilli Fries W/Dip",category:"ROLLS / SANDWICHES / BURGERS / PIZZA",price:140,image:"https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"bhel-puri",name:"Bhel Puri",category:"CHAATS",price:70,maxPrice:100,image:"https://cdn.tasteatlas.com//images/dishes/bb8d66ccb459436da4b69770c9d8db86.jpg?w=375&h=280"},{id:"masala-puri",name:"Masala Puri",category:"CHAATS",price:70,maxPrice:100,image:"https://cdn.tasteatlas.com//images/dishes/bb8d66ccb459436da4b69770c9d8db86.jpg?w=375&h=280"},{id:"dahi-puri",name:"Dahi Puri",category:"CHAATS",price:70,maxPrice:100,image:"https://cdn.tasteatlas.com//images/dishes/bb8d66ccb459436da4b69770c9d8db86.jpg?w=375&h=280"},{id:"sev-puri",name:"Sev Puri",category:"CHAATS",price:70,maxPrice:100,image:"https://cdn.tasteatlas.com//images/dishes/bb8d66ccb459436da4b69770c9d8db86.jpg?w=375&h=280"},{id:"samosa-chat",name:"Samosa Chat",category:"CHAATS",price:70,maxPrice:100,image:"https://cdn.tasteatlas.com//images/dishes/bb8d66ccb459436da4b69770c9d8db86.jpg?w=375&h=280"},{id:"papdi-chat",name:"Papdi Chat",category:"CHAATS",price:70,maxPrice:100,image:"https://cdn.tasteatlas.com//images/dishes/bb8d66ccb459436da4b69770c9d8db86.jpg?w=375&h=280"},{id:"vada-pav",name:"Vada Pav",category:"CHAATS",price:70,maxPrice:100,image:"https://cdn.tasteatlas.com//images/dishes/bb8d66ccb459436da4b69770c9d8db86.jpg?w=375&h=280"},{id:"tikki-chat",name:"Tikki Chat",category:"CHAATS",price:70,maxPrice:100,image:"https://cdn.tasteatlas.com//images/dishes/bb8d66ccb459436da4b69770c9d8db86.jpg?w=375&h=280"},{id:"dahi-tikki-chat",name:"Dahi Tikki Chat",category:"CHAATS",price:70,maxPrice:100,image:"https://cdn.tasteatlas.com//images/dishes/bb8d66ccb459436da4b69770c9d8db86.jpg?w=375&h=280"},{id:"sukha-puri",name:"Sukha Puri",category:"CHAATS",price:70,maxPrice:100,image:"https://cdn.tasteatlas.com//images/dishes/bb8d66ccb459436da4b69770c9d8db86.jpg?w=375&h=280"},{id:"corn-butter-bbq",name:"Classic Butter / BBQ",category:"AMERICAN SWEET CORN",price:100,image:"https://www.thefieryvegetarian.com/wp-content/uploads/2018/11/masala-corn-recipe-square.jpg"},{id:"corn-lemon-chilli",name:"Lemon Chilli / Peri Peri",category:"AMERICAN SWEET CORN",price:100,image:"https://www.thefieryvegetarian.com/wp-content/uploads/2018/11/masala-corn-recipe-square.jpg"},{id:"corn-creamy-herbs",name:"Creamy Herbs",category:"AMERICAN SWEET CORN",price:100,image:"https://www.thefieryvegetarian.com/wp-content/uploads/2018/11/masala-corn-recipe-square.jpg"},{id:"corn-schezwan",name:"Schezwan",category:"AMERICAN SWEET CORN",price:100,image:"https://www.thefieryvegetarian.com/wp-content/uploads/2018/11/masala-corn-recipe-square.jpg"},{id:"snickers",name:"Snickers",category:"CANDY BARS",price:40,description:"MRP",image:"https://kirbiecravings.com/wp-content/uploads/2024/12/2-ingredient-candy-bars.jpg"},{id:"galaxy",name:"Galaxy",category:"CANDY BARS",price:40,description:"MRP",image:"https://kirbiecravings.com/wp-content/uploads/2024/12/2-ingredient-candy-bars.jpg"},{id:"bounty",name:"Bounty",category:"CANDY BARS",price:40,description:"MRP",image:"https://kirbiecravings.com/wp-content/uploads/2024/12/2-ingredient-candy-bars.jpg"},{id:"skittles",name:"Skittles",category:"CANDY BARS",price:40,description:"MRP",image:"https://kirbiecravings.com/wp-content/uploads/2024/12/2-ingredient-candy-bars.jpg"},{id:"twix",name:"Twix",category:"CANDY BARS",price:40,description:"MRP",image:"https://kirbiecravings.com/wp-content/uploads/2024/12/2-ingredient-candy-bars.jpg"},{id:"mnms",name:"M&M's",category:"CANDY BARS",price:40,description:"MRP",image:"https://kirbiecravings.com/wp-content/uploads/2024/12/2-ingredient-candy-bars.jpg"},{id:"cold-coffee",name:"Cold Coffee",category:"MILKSHAKES",price:140,description:"350ml, served without ice/syrups",image:"https://images.pexels.com/photos/103566/pexels-photo-103566.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"cold-chocolate",name:"Cold Chocolate",category:"MILKSHAKES",price:140,description:"350ml, served without ice/syrups",image:"https://images.pexels.com/photos/103566/pexels-photo-103566.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"vanilla-shake",name:"Vanilla",category:"MILKSHAKES",price:140,description:"350ml, served without ice/syrups",image:"https://images.pexels.com/photos/103566/pexels-photo-103566.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"strawberry-shake",name:"Strawberry",category:"MILKSHAKES",price:140,description:"350ml, served without ice/syrups",image:"https://images.pexels.com/photos/103566/pexels-photo-103566.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"pista-shake",name:"Pista",category:"MILKSHAKES",price:140,description:"350ml, served without ice/syrups",image:"https://images.pexels.com/photos/103566/pexels-photo-103566.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"chickoo-shake",name:"Chickoo",category:"MILKSHAKES",price:140,description:"350ml, served without ice/syrups",image:"https://images.pexels.com/photos/103566/pexels-photo-103566.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"blackcurrant-shake",name:"Blackcurrant",category:"MILKSHAKES",price:140,description:"350ml, served without ice/syrups",image:"https://images.pexels.com/photos/103566/pexels-photo-103566.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"butterscotch-shake",name:"Butterscotch",category:"MILKSHAKES",price:140,description:"350ml, served without ice/syrups",image:"https://images.pexels.com/photos/103566/pexels-photo-103566.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"mango-shake",name:"Mango",category:"MILKSHAKES",price:140,description:"350ml, served without ice/syrups",image:"https://images.pexels.com/photos/103566/pexels-photo-103566.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"cold-caramel",name:"Cold Caramel",category:"MILKSHAKES",price:150,description:"350ml, served without ice/syrups",image:"https://images.pexels.com/photos/103566/pexels-photo-103566.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"cold-mocha",name:"Cold Mocha",category:"MILKSHAKES",price:150,description:"350ml, served without ice/syrups",image:"https://images.pexels.com/photos/103566/pexels-photo-103566.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"my-flavour",name:"My Flavour",category:"MILKSHAKES",price:150,description:"350ml, served without ice/syrups",image:"https://images.pexels.com/photos/103566/pexels-photo-103566.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"oreo-shake",name:"Oreo Shake",category:"MILKSHAKES",price:150,description:"350ml, served without ice/syrups",image:"https://images.pexels.com/photos/103566/pexels-photo-103566.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"snickers-shake",name:"Snickers Shake",category:"MILKSHAKES",price:150,description:"350ml, served without ice/syrups",image:"https://images.pexels.com/photos/103566/pexels-photo-103566.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"water-bottle",name:"Water Bottle",category:"HOT STEAMERS",price:20,description:"MRP",image:"https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"hot-coffee",name:"Hot Coffee / Mocha",category:"HOT STEAMERS",price:70,image:"https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"hot-chocolate",name:"Hot Chocolate / Hot Caramello / Tea",category:"HOT STEAMERS",price:60,image:"https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"green-tea",name:"Green Tea / Lemon Tea",category:"HOT STEAMERS",price:50,image:"https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"black-coffee-tea",name:"Black Coffee / Tea",category:"HOT STEAMERS",price:50,image:"https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:"pastry",name:"Pastry",category:"DESSERTS",price:130,image:"https://www.eatingwell.com/thmb/ZnDItGc52VXjdEWR-th4FK_wsUE=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/EWL-desserts-with-more-protein-than-an-egg-8674533-hero-1x1-a9bb74ad11704f17a28e0fc17e3179b0.jpg"},{id:"hot-brownie-fudge",name:"Hot Brownie Fudge",category:"DESSERTS",price:90,maxPrice:130,image:"https://www.eatingwell.com/thmb/ZnDItGc52VXjdEWR-th4FK_wsUE=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/EWL-desserts-with-more-protein-than-an-egg-8674533-hero-1x1-a9bb74ad11704f17a28e0fc17e3179b0.jpg"},{id:"ice-creams",name:"Ice Creams (2 Scoops Flavored)",category:"DESSERTS",price:100,image:"https://www.eatingwell.com/thmb/ZnDItGc52VXjdEWR-th4FK_wsUE=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/EWL-desserts-with-more-protein-than-an-egg-8674533-hero-1x1-a9bb74ad11704f17a28e0fc17e3179b0.jpg"},{id:"london-dairy",name:"London Dairy / Baskin Robbins",category:"DESSERTS",price:80,description:"MRP",image:"https://www.eatingwell.com/thmb/ZnDItGc52VXjdEWR-th4FK_wsUE=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/EWL-desserts-with-more-protein-than-an-egg-8674533-hero-1x1-a9bb74ad11704f17a28e0fc17e3179b0.jpg"}],Ef=[{id:"POPCORN TIME",name:"POPCORN TIME",imageUrl:"https://www.simplyrecipes.com/thmb/Xzggu-Md45HKhhYSw4DK8tGlZ_I=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Simply-Recipes-Perfect-Popcorn-LEAD-41-4a75a18443ae45aa96053f30a3ed0a6b.JPG",color:"from-yellow-400 to-orange-500"},{id:"SODAS & SIPS",name:"SODAS & SIPS",imageUrl:"https://upload.wikimedia.org/wikipedia/commons/2/27/Coca_Cola_Flasche_-_Original_Taste.jpg",color:"from-blue-400 to-cyan-500"},{id:"CRUNCHY BITES",name:"CRUNCHY BITES",imageUrl:"https://i.pinimg.com/736x/30/23/c6/3023c60e4804710b5a638e478c9cdfb1.jpg",color:"from-red-400 to-pink-500"},{id:"COMBOS",name:"COMBOS",imageUrl:"https://images.theconversation.com/files/410720/original/file-20210712-46002-1ku5one.jpg?ixlib=rb-4.1.0&rect=0%2C0%2C1000%2C696&q=20&auto=format&w=320&fit=clip&dpr=2&usm=12&cs=strip",color:"from-green-400 to-emerald-500"},{id:"ROLLS / SANDWICHES / BURGERS / PIZZA",name:"MAINS",imageUrl:"https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",color:"from-purple-400 to-indigo-500"},{id:"CHAATS",name:"CHAATS",imageUrl:"https://cdn.tasteatlas.com//images/dishes/bb8d66ccb459436da4b69770c9d8db86.jpg?w=375&h=280",color:"from-orange-400 to-red-500"},{id:"AMERICAN SWEET CORN",name:"SWEET CORN",imageUrl:"https://www.thefieryvegetarian.com/wp-content/uploads/2018/11/masala-corn-recipe-square.jpg",color:"from-yellow-400 to-green-500"},{id:"CANDY BARS",name:"CANDY BARS",imageUrl:"https://kirbiecravings.com/wp-content/uploads/2024/12/2-ingredient-candy-bars.jpg",color:"from-pink-400 to-purple-500"},{id:"MILKSHAKES",name:"MILKSHAKES",imageUrl:"https://images.pexels.com/photos/103566/pexels-photo-103566.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",color:"from-cyan-400 to-blue-500"},{id:"HOT STEAMERS",name:"HOT STEAMERS",imageUrl:"https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",color:"from-amber-400 to-orange-500"},{id:"DESSERTS",name:"DESSERTS",imageUrl:"https://www.eatingwell.com/thmb/ZnDItGc52VXjdEWR-th4FK_wsUE=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/EWL-desserts-with-more-protein-than-an-egg-8674533-hero-1x1-a9bb74ad11704f17a28e0fc17e3179b0.jpg",color:"from-pink-400 to-rose-500"}],FU=({category:t,onClick:e,itemCount:n})=>u.jsx(J.div,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:e,className:"cursor-pointer group",children:u.jsx("div",{className:"bento-card h-full hover:border-primary-500/30 transition-all duration-300",children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl overflow-hidden flex-shrink-0 group-hover:scale-105 transition-transform duration-300 shadow-lg",children:u.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover"})}),u.jsx(J.div,{className:"w-8 h-8 bg-neutral-800 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 border border-neutral-700",whileHover:{scale:1.1},children:u.jsx(e0,{className:"text-neutral-400 group-hover:text-primary-400 transition-colors duration-300",size:16})})]}),u.jsxs("div",{className:"flex-1 space-y-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-neutral-100 font-semibold text-lg mb-1 group-hover:text-primary-300 transition-colors duration-300",children:t.name}),u.jsxs("p",{className:"text-neutral-500 text-sm",children:[n," ",n===1?"item":"items"," available"]})]}),u.jsx("div",{className:"pt-2",children:u.jsx("div",{className:"w-full bg-neutral-800 rounded-full h-1",children:u.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-accent-500 h-1 rounded-full transition-all duration-500 group-hover:from-primary-400 group-hover:to-accent-400",style:{width:`${Math.min(100,n/15*100)}%`}})})})]}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-500/5 to-accent-500/5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]})})}),UU=({item:t})=>{const{addItem:e}=Cl(),[n,r]=b.useState(1),[s,i]=b.useState(t.sizes?t.sizes[0]:""),[o,a]=b.useState(!1),l=s==="Large"&&t.maxPrice?t.maxPrice:t.price,h=async()=>{a(!0),e(t,n,s||null),r(1),setTimeout(()=>{a(!1)},1500)};return u.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-2},className:"bento-card group hover:border-primary-500/30",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-16 sm:w-20 h-16 sm:h-20 rounded-2xl overflow-hidden flex items-center justify-center group-hover:scale-105 transition-transform duration-300 shadow-lg border border-neutral-700",children:t.image&&t.image.startsWith("http")?u.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"}):u.jsx("span",{className:"text-2xl sm:text-3xl",children:t.image})})}),u.jsxs("div",{className:"flex-1 space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsx("h3",{className:"text-neutral-100 font-semibold text-base sm:text-lg group-hover:text-primary-300 transition-colors duration-300",children:t.name}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-lg sm:text-xl font-bold text-primary-400",children:["",l]}),t.maxPrice&&t.maxPrice!==t.price&&u.jsxs("div",{className:"text-xs text-neutral-500",children:["up to ",t.maxPrice]})]})]}),t.description&&u.jsx("p",{className:"text-neutral-400 text-sm leading-relaxed",children:t.description})]}),t.sizes&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-neutral-300 text-sm font-medium",children:"Size"}),u.jsx("div",{className:"flex gap-2",children:t.sizes.map(d=>u.jsx("button",{onClick:()=>i(d),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300 border ${s===d?"bg-primary-500 text-white border-primary-500 shadow-lg shadow-primary-500/25":"bg-neutral-800 text-neutral-300 border-neutral-700 hover:bg-neutral-700 hover:border-neutral-600"}`,children:d},d))})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between pt-2 gap-3 sm:gap-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-neutral-300 text-sm font-medium",children:"Qty"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>r(Math.max(1,n-1)),className:"w-7 sm:w-8 h-7 sm:h-8 rounded-lg bg-neutral-800 hover:bg-neutral-700 flex items-center justify-center text-neutral-300 hover:text-white transition-all duration-300 border border-neutral-700 hover:border-neutral-600",children:u.jsx(Sb,{size:14})}),u.jsx("span",{className:"text-neutral-100 font-semibold w-7 sm:w-8 text-center text-sm sm:text-base",children:n}),u.jsx("button",{onClick:()=>r(n+1),className:"w-7 sm:w-8 h-7 sm:h-8 rounded-lg bg-neutral-800 hover:bg-neutral-700 flex items-center justify-center text-neutral-300 hover:text-white transition-all duration-300 border border-neutral-700 hover:border-neutral-600",children:u.jsx(Ab,{size:14})})]})]}),u.jsx(J.button,{onClick:h,disabled:o,whileHover:o?{}:{scale:1.02},whileTap:o?{}:{scale:.98},className:`px-6 py-2.5 rounded-xl font-medium transition-all duration-300 flex items-center gap-2 ${o?"bg-success-500 text-white shadow-lg shadow-success-500/25":"btn-primary"} text-sm sm:text-base w-full sm:w-auto justify-center`,children:o?u.jsxs(u.Fragment,{children:[u.jsx(TU,{size:16}),u.jsx("span",{children:"Added!"})]}):u.jsx("span",{children:"Add to Cart"})})]})]})]})})},BU=({onBack:t})=>{const[e,n]=b.useState(null),[r,s]=b.useState(""),{state:i,openCart:o}=Cl(),a=b.useMemo(()=>{let d=w_;return e&&(d=d.filter(f=>f.category===e)),r&&(d=d.filter(f=>f.name.toLowerCase().includes(r.toLowerCase().trim())||f.category.toLowerCase().includes(r.toLowerCase().trim())||f.description&&f.description.toLowerCase().includes(r.toLowerCase().trim()))),d},[e,r]),l=b.useMemo(()=>{const d={};return Ef.forEach(f=>{d[f.id]=w_.filter(m=>m.category===f.id).length}),d},[]),h=Ef.find(d=>d.id===e);return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-neutral-950 via-neutral-900 to-neutral-950",children:[u.jsx("div",{className:"sticky top-0 z-40 bg-neutral-950/80 backdrop-blur-xl border-b border-neutral-800/50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:e?()=>n(null):t,className:"w-10 h-10 rounded-xl bg-neutral-800 hover:bg-neutral-700 flex items-center justify-center text-neutral-300 hover:text-white transition-all duration-300 border border-neutral-700 hover:border-neutral-600",children:u.jsx(Zy,{size:20})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-neutral-100",children:e?h==null?void 0:h.name:"Menu"}),e&&u.jsxs("p",{className:"text-sm text-neutral-400",children:[a.length," ",a.length===1?"item":"items"]})]})]}),u.jsxs("button",{onClick:o,className:"relative btn-primary flex items-center gap-2 px-3 sm:px-4 py-2.5 text-sm sm:text-base",children:[u.jsx(VU,{size:20}),u.jsx("span",{className:"hidden sm:inline",children:"Cart"}),i.items.length>0&&u.jsx(J.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 w-6 h-6 bg-accent-500 rounded-full flex items-center justify-center text-xs font-bold text-white border-2 border-neutral-950",children:i.items.reduce((d,f)=>d+f.quantity,0)})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Cb,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-neutral-500",size:20}),u.jsx("input",{type:"text",placeholder:"Search for food...",value:r,onChange:d=>s(d.target.value),className:"input-field w-full pl-12 pr-4"})]})]})}),u.jsx("div",{className:"max-w-7xl mx-auto p-4",children:e?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center space-y-4 py-8",children:[u.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-neutral-800 to-neutral-700 rounded-3xl flex items-center justify-center mx-auto border border-neutral-700",children:(h==null?void 0:h.imageUrl)&&u.jsx("img",{src:h.imageUrl,alt:h.name,className:"w-full h-full object-cover rounded-3xl"})}),u.jsx("h2",{className:"text-3xl font-bold gradient-text",children:h==null?void 0:h.name}),u.jsxs("p",{className:"text-neutral-400",children:[a.length," delicious ",a.length===1?"option":"options"," to choose from"]})]}),u.jsxs("div",{className:"space-y-4",children:[a.map(d=>u.jsx(UU,{item:d},d.id)),a.length===0&&u.jsxs("div",{className:"text-center py-16",children:[u.jsx(J.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"text-6xl mb-6",children:""}),u.jsx("h3",{className:"text-2xl font-bold text-neutral-300 mb-2",children:"No items found"}),u.jsx("p",{className:"text-neutral-500",children:"Try adjusting your search or browse other categories"})]})]})]}):u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("h2",{className:"text-3xl font-bold gradient-text",children:"Choose Your Category"}),u.jsx("p",{className:"text-neutral-400 text-lg max-w-2xl mx-auto",children:"Explore our carefully curated menu categories, each offering unique flavors and experiences"})]}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:Ef.map(d=>u.jsx(FU,{category:d,onClick:()=>n(d.id),itemCount:l[d.id]||0},d.id))})]})})]})},zU=({onCheckout:t})=>{const{state:e,removeItem:n,updateQuantity:r,closeCart:s}=Cl();return e.isOpen?u.jsx(ro,{children:u.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[u.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),u.jsxs(J.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"ml-auto w-full max-w-md bg-neutral-950/95 backdrop-blur-xl border-l border-neutral-800 flex flex-col h-full",children:[u.jsx("div",{className:"p-6 border-b border-neutral-800",children:u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-primary-500/20 rounded-xl flex items-center justify-center",children:u.jsx(Xu,{className:"text-primary-400",size:20})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-neutral-100",children:"Your Order"}),u.jsxs("p",{className:"text-sm text-neutral-400",children:[e.items.length," ",e.items.length===1?"item":"items"]})]})]}),u.jsx("button",{onClick:s,className:"w-10 h-10 rounded-xl bg-neutral-800 hover:bg-neutral-700 flex items-center justify-center text-neutral-400 hover:text-white transition-all duration-300 border border-neutral-700",children:u.jsx(Ao,{size:20})})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:e.items.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[u.jsx(J.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"w-24 h-24 bg-neutral-800/50 rounded-3xl flex items-center justify-center mb-6",children:u.jsx(Xu,{className:"text-neutral-500",size:32})}),u.jsx("h3",{className:"text-xl font-semibold text-neutral-300 mb-2",children:"Your cart is empty"}),u.jsx("p",{className:"text-neutral-500 text-sm",children:"Add some delicious items to get started!"})]}):u.jsx("div",{className:"p-6 space-y-4",children:e.items.map(i=>u.jsx(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{duration:.3}},exit:{opacity:0,x:-20},layout:!0,transition:{type:"spring",stiffness:300,damping:30},className:"bento-card p-4",children:u.jsx("div",{className:"flex gap-3",children:u.jsxs("div",{className:"flex-1 space-y-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-neutral-100 font-medium text-sm",children:i.name}),i.selectedSize&&u.jsxs("p",{className:"text-neutral-500 text-xs",children:["Size: ",i.selectedSize]}),u.jsxs("p",{className:"text-primary-400 font-semibold text-sm",children:["",i.price]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>r(i.id,i.quantity-1),className:"w-7 h-7 rounded-lg bg-neutral-800 hover:bg-neutral-700 flex items-center justify-center text-neutral-400 hover:text-white transition-all duration-300 border border-neutral-700",children:u.jsx(Sb,{size:12})}),u.jsx("span",{className:"text-neutral-100 text-sm font-medium w-8 text-center",children:i.quantity}),u.jsx("button",{onClick:()=>r(i.id,i.quantity+1),className:"w-7 h-7 rounded-lg bg-neutral-800 hover:bg-neutral-700 flex items-center justify-center text-neutral-400 hover:text-white transition-all duration-300 border border-neutral-700",children:u.jsx(Ab,{size:12})})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"text-neutral-100 font-bold text-sm",children:["",i.price*i.quantity]}),u.jsx("button",{onClick:()=>n(i.id),className:"w-7 h-7 rounded-lg bg-red-500/20 hover:bg-red-500/30 flex items-center justify-center text-red-400 hover:text-red-300 transition-all duration-300 border border-red-500/30",children:u.jsx(bb,{size:12})})]})]})]})})},`${i.id}-${i.selectedSize}`))})}),e.items.length>0&&u.jsxs("div",{className:"p-6 border-t border-neutral-800 bg-neutral-950/80 backdrop-blur-sm",children:[u.jsxs("div",{className:"space-y-4 mb-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-neutral-400",children:"Subtotal"}),u.jsxs("span",{className:"text-neutral-100 font-medium",children:["",e.total]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-neutral-400",children:"Service Fee"}),u.jsx("span",{className:"text-neutral-100 font-medium",children:"0"})]}),u.jsx("div",{className:"border-t border-neutral-800 pt-4",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-lg font-semibold text-neutral-100",children:"Total"}),u.jsxs("span",{className:"text-2xl font-bold gradient-text",children:["",e.total]})]})})]}),u.jsx(J.button,{onClick:t,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full btn-primary py-4 text-lg font-semibold rounded-2xl",children:"Proceed to Checkout"}),u.jsx("p",{className:"text-xs text-neutral-500 text-center mt-3",children:"Secure payment via Instamojo"})]})]})]})}):null},$U=({isOpen:t,onClose:e,onPaymentSuccess:n,onGoToPrivacyPolicy:r,onGoToTermsOfService:s})=>{const[i,o]=b.useState(!1),[a,l]=b.useState(!1),[h,d]=b.useState(!1),[f,m]=b.useState(""),[y,T]=b.useState(""),[A,R]=b.useState(""),[w,x]=b.useState(1),[E,k]=b.useState("A"),[D,M]=b.useState(1),[S,v]=b.useState(""),{state:I,dispatch:C,clearCart:N}=Cl();fg();const j="rzp_live_RYS8jZKMNTvoe6";b.useEffect(()=>{t&&(T(""),R(""),x(1),k("A"),M(1),v(""),m(""),o(!1),l(!1),d(!1))},[t]);const P=()=>y.trim()?A.trim()?/^\d{10}$/.test(A)?"":"Phone number must be 10 digits":"Phone number is required":"Name is required",Pe=()=>{T(""),R(""),x(1),k("A"),M(1),v(""),m(""),o(!1),l(!1),d(!1)},bt=()=>{if(console.log("Attempting to clear cart..."),console.log("Cart state before clearing:",I),N&&typeof N=="function"){console.log("Using clearCart function"),N(),setTimeout(()=>{console.log("Dispatching additional action to force re-render"),C({type:"FORCE_UPDATE"})},100);return}if(C){console.log("Using dispatch with CLEAR_CART action"),C({type:"CLEAR_CART"});return}if(C){console.log("Using dispatch with RESET_CART action"),C({type:"RESET_CART"});return}if(C){console.log("Using dispatch with EMPTY_CART action"),C({type:"EMPTY_CART"});return}console.error("Could not clear cart - no clear method found")};b.useEffect(()=>{a&&console.log("Cart state after clearing:",I)},[I,a]);const Kt=async()=>{const O=P();if(O){v(O);return}v(""),m(""),o(!0);const W={amount:I.total*100,currency:"INR",receipt:`receipt_${Date.now()}`},X={key:j,amount:W.amount,currency:W.currency,name:"DRC Cinema",description:"Movie Ticket Purchase",image:"/logo.png",handler:async function(z){try{await jO(kr(fn,"orders"),{items:I.items.map(K=>({id:K.id,name:K.name,quantity:K.quantity,price:K.price,selectedSize:K.selectedSize})),total:I.total,seatNumber:w,rowSelection:E,screenNumber:D,customerName:y.trim(),customerPhone:A.trim(),timestamp:VO(),status:"paid",razorpayPaymentId:z.razorpay_payment_id}),o(!1),l(!0),d(!0),setTimeout(()=>{n(w,E,D,y,A),l(!1),e(),bt(),setTimeout(()=>{console.log("Navigating to home page"),window.location.href="/"},500)},3e3)}catch(K){console.error("Firestore Save Error:",K),m("Payment succeeded but saving to database failed. Please contact support."),o(!1)}},prefill:{name:y,email:"user@example.com",contact:A},notes:{purpose:"Movie Ticket Purchase"},theme:{color:"#8b5cf6"},modal:{ondismiss:function(){o(!1),Pe()},escape:!0,confirmclose:!1,backdropclose:!1,animation:"fadeIn",handleback:!1}},B=new window.Razorpay(X);B.on("payment.failed",function(z){console.error("Payment failed:",z.error),o(!1),m(`Payment failed: ${z.error.description||"Payment was not completed. Please try again."}`)}),B.open()},pe=()=>{!i&&!a&&(Pe(),e())};return t?u.jsx(ro,{children:u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:pe,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),u.jsx(ro,{children:h&&u.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center",children:u.jsxs(J.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-gradient-to-br from-green-600 to-emerald-700 p-8 rounded-3xl max-w-md w-full text-center shadow-2xl border border-green-500/30",children:[u.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Ib,{className:"text-white",size:40})}),u.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Payment Successful!"}),u.jsx("p",{className:"text-white/80 mb-6",children:"Your order has been confirmed and will be ready soon."}),u.jsxs("div",{className:"bg-white/10 rounded-xl p-4 mb-6",children:[u.jsx("p",{className:"text-white/90 text-sm mb-1",children:"Order Total"}),u.jsxs("p",{className:"text-2xl font-bold text-white",children:["",I.total]})]}),u.jsxs("div",{className:"flex items-center justify-center gap-2 text-white/70 text-sm",children:[u.jsx(io,{size:16}),u.jsx("span",{children:"Redirecting to home..."})]})]})})}),u.jsx(J.div,{initial:{opacity:0,scale:.9,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:50},className:"relative w-full max-w-md bg-neutral-950/95 backdrop-blur-xl rounded-3xl overflow-hidden border border-neutral-800",children:u.jsxs("div",{className:"p-6 border-b border-neutral-800",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:u.jsx(Xu,{className:"text-white",size:24})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-neutral-100",children:"Secure Payment"}),u.jsx("p",{className:"text-sm text-neutral-400",children:"Pay securely using Razorpay"})]})]}),u.jsx("button",{onClick:pe,disabled:i||a,className:"w-10 h-10 rounded-xl bg-neutral-800 hover:bg-neutral-700 flex items-center justify-center text-neutral-300 hover:text-white border border-neutral-700 hover:border-neutral-600 transition-all",children:u.jsx(Ao,{size:20})})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-6 p-4 bg-neutral-800/50 rounded-xl",children:[u.jsx("h3",{className:"text-sm font-medium text-neutral-300 mb-3",children:"Order Summary"}),u.jsx("div",{className:"space-y-2 text-sm",children:I.items.map(O=>u.jsxs("div",{className:"flex justify-between text-neutral-400",children:[u.jsxs("span",{children:[O.name,O.selectedSize?` (${O.selectedSize})`:""," ",u.jsxs("span",{className:"text-neutral-500 ml-2",children:[" ",O.quantity]})]}),u.jsxs("span",{children:["",O.price*O.quantity]})]},`${O.id}-${O.selectedSize}`))}),u.jsxs("div",{className:"border-t border-neutral-700 mt-3 pt-3 flex justify-between font-bold",children:[u.jsx("span",{className:"text-neutral-100",children:"Total"}),u.jsxs("span",{className:"text-violet-400",children:["",I.total]})]})]}),f&&u.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-xl",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(wU,{className:"text-red-400",size:20}),u.jsx("h3",{className:"text-lg font-semibold text-red-400",children:"Payment Error"})]}),u.jsx("p",{className:"text-red-300 text-sm",children:f}),u.jsxs("button",{onClick:Pe,className:"mt-3 w-full px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 hover:border-red-500/50 rounded-xl text-red-400 hover:text-red-300 font-medium text-sm transition-all flex items-center justify-center gap-2",children:[u.jsx(jU,{size:16}),"Clear and Try Again"]})]}),u.jsxs("div",{className:"space-y-4 mb-6",children:[u.jsx("input",{type:"text",placeholder:"Full Name",value:y,onChange:O=>T(O.target.value),className:"input-field w-full",disabled:i||a}),u.jsx("input",{type:"tel",placeholder:"Phone Number",value:A,onChange:O=>R(O.target.value),className:"input-field w-full",disabled:i||a}),S&&u.jsx("p",{className:"text-xs text-red-500 mt-1",children:S})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-neutral-400 block mb-1",children:"Screen"}),u.jsx("select",{value:D,onChange:O=>M(Number(O.target.value)),className:"input-field w-full",disabled:i||a,children:[1,2,3,4,5].map(O=>u.jsx("option",{value:O,children:O},O))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-neutral-400 block mb-1",children:"Row"}),u.jsx("select",{value:E,onChange:O=>k(O.target.value),className:"input-field w-full",disabled:i||a,children:["A","B","C","D","E","F","G","H"].map(O=>u.jsx("option",{value:O,children:O},O))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-neutral-400 block mb-1",children:"Seat"}),u.jsx("select",{value:w,onChange:O=>x(Number(O.target.value)),className:"input-field w-full",disabled:i||a,children:Array.from({length:20},(O,W)=>W+1).map(O=>u.jsx("option",{value:O,children:O},O))})]})]}),u.jsx(J.button,{onClick:Kt,disabled:i||a,whileHover:!i&&!a?{scale:1.02}:{},whileTap:!i&&!a?{scale:.98}:{},className:`w-full py-4 rounded-2xl font-bold text-lg transition-all duration-300 ${i||a?"bg-neutral-700 cursor-not-allowed text-neutral-400":"btn-primary"}`,children:i?u.jsxs("div",{className:"flex items-center justify-center gap-3",children:[u.jsx("div",{className:"w-5 h-5 border-2 border-neutral-500 border-t-neutral-300 rounded-full animate-spin"}),"Processing Payment..."]}):a?u.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-400",children:[u.jsx(io,{size:20})," Payment Successful!"]}):`Pay ${I.total}`}),u.jsxs("div",{className:"text-xs text-neutral-500 text-center mt-4 space-y-1",children:[u.jsx("p",{children:"Secure payment powered by Razorpay"}),s&&r&&u.jsxs("p",{children:["By proceeding, you agree to"," ",u.jsx("button",{onClick:s,className:"underline",children:"Terms of Service"})," ","and"," ",u.jsx("button",{onClick:r,className:"underline",children:"Privacy Policy"})]})]})]})]})})]})}):null},HU=({onBackToHome:t,seatNumber:e,rowSelection:n,screenNumber:r,customerName:s,customerPhone:i})=>{const{state:o,clearCart:a}=Cl(),[l,h]=b.useState([]),[d,f]=b.useState(0),[m,y]=b.useState(0),[T,A]=b.useState(!0),[R,w]=b.useState(10),[x,E]=b.useState(!0);b.useEffect(()=>{console.log(" OrderConfirmation component mounted"),console.log(" Received order details:",{seatNumber:e,rowSelection:n,screenNumber:r,customerName:s,customerPhone:i}),console.log(" Current cart state:",{itemCount:o.items.length,total:o.total,items:o.items});const D=Array.from({length:30},(C,N)=>({id:N,x:Math.random()*100,y:-50,delay:Math.random()*3,type:["","","",""][Math.floor(Math.random()*4)]}));h(D);const M=new Date;M.setHours(0,0,0,0);const S=new Date(M);S.setDate(S.getDate()+1);const v=Is(kr(fn,"orders"),Pn("timestamp",">=",M),Pn("timestamp","<",S)),I=yy(v,C=>{let N=0,j=0;C.forEach(P=>{const Pe=P.data();N+=Pe.total||0,j+=1}),f(N),y(j)});return setTimeout(()=>{console.log(" Clearing cart after 5 seconds..."),a(),console.log(" Cart cleared")},5e3),()=>I()},[a,e,n,r,s,i,o]),b.useEffect(()=>{if(!T||!x)return;const D=setInterval(()=>{w(M=>M<=1?(clearInterval(D),t(),0):M-1)},1e3);return()=>clearInterval(D)},[T,x,t]);const k=D=>{const M=Math.floor(D/60),S=D%60;return`${M}:${S<10?"0":""}${S}`};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-neutral-950 via-neutral-900 to-neutral-950 flex items-center justify-center p-4 relative overflow-hidden",children:[u.jsx(ro,{children:T&&u.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:u.jsxs(J.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-gradient-to-br from-green-600 to-green-700 p-8 rounded-3xl max-w-md w-full text-center shadow-2xl relative",children:[u.jsx("button",{onClick:()=>A(!1),className:"absolute top-4 right-4 w-8 h-8 bg-white/20 rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-colors",children:u.jsx(Ao,{size:16})}),u.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Ib,{className:"text-white",size:40})}),u.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Order Confirmed!"}),u.jsx("p",{className:"text-white/80 mb-6",children:"Your order has been successfully placed and will be ready soon."}),u.jsxs("div",{className:"bg-white/10 rounded-xl p-4 mb-6",children:[u.jsx("p",{className:"text-white/90 text-sm mb-1",children:"Order Total"}),u.jsxs("p",{className:"text-2xl font-bold text-white",children:["",o.total]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 text-white/70 text-sm mb-2",children:[u.jsx(oo,{size:16}),u.jsx("span",{children:"Redirecting to home page in"})]}),u.jsx("div",{className:"text-3xl font-bold text-white",children:k(R)})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.jsx(J.button,{onClick:()=>E(!1),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 bg-white/20 hover:bg-white/30 text-white font-medium py-3 px-4 rounded-xl transition-colors duration-300",children:"Stay Here"}),u.jsxs(J.button,{onClick:t,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 bg-white hover:bg-white/90 text-green-700 font-medium py-3 px-4 rounded-xl transition-colors duration-300 flex items-center justify-center gap-2",children:[u.jsx("span",{children:"Go to Home"}),u.jsx(e0,{size:16})]})]})]})})}),l.map(D=>u.jsx(J.div,{className:"absolute text-lg opacity-60",style:{left:`${D.x}%`},animate:{y:[D.y,window.innerHeight+50],rotate:[0,180],opacity:[.6,0]},transition:{duration:4,delay:D.delay,ease:"easeOut"},children:D.type},D.id)),u.jsxs(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md w-full bento-card text-center",children:[u.jsx(J.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",duration:.6},className:"w-20 h-20 bg-success-500/20 rounded-3xl flex items-center justify-center mx-auto mb-6",children:u.jsx(io,{className:"text-success-400",size:40})}),u.jsx(J.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-3xl font-bold text-neutral-100 mb-2",children:"Order Confirmed! "}),u.jsx(J.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"text-neutral-400 mb-8 text-lg",children:"Your delicious order is being prepared with care"}),u.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"grid grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{className:"bento-card p-4 bg-primary-500/10 border-primary-500/20",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(Pb,{className:"text-primary-400",size:16}),u.jsx("span",{className:"text-xs text-neutral-400",children:"Today's Revenue"})]}),u.jsxs("p",{className:"text-xl font-bold text-neutral-100",children:["",d]})]}),u.jsxs("div",{className:"bento-card p-4 bg-accent-500/10 border-accent-500/20",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(mm,{className:"text-accent-400",size:16}),u.jsx("span",{className:"text-xs text-neutral-400",children:"Orders Today"})]}),u.jsx("p",{className:"text-xl font-bold text-neutral-100",children:m})]})]}),u.jsxs("div",{className:"space-y-4 mb-8",children:[u.jsx(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8},className:"bento-card p-4 bg-success-500/10 border-success-500/20",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-success-500/20 rounded-xl flex items-center justify-center",children:u.jsx(io,{className:"text-success-400",size:20})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h3",{className:"text-neutral-100 font-semibold text-sm",children:"Order Saved"}),u.jsx("p",{className:"text-neutral-400 text-xs",children:"Order details saved to admin dashboard"})]})]})}),u.jsx(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:1},className:"bento-card p-4 bg-success-500/10 border-success-500/20",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-success-500/20 rounded-xl flex items-center justify-center",children:u.jsx(oo,{className:"text-success-400",size:20})}),u.jsxs("div",{className:"text-left",children:[u.jsx("h3",{className:"text-neutral-100 font-semibold text-sm",children:"Preparation Time"}),u.jsx("p",{className:"text-neutral-400 text-xs",children:"Ready in 10-15 minutes"})]})]})})]}),u.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},className:"bento-card p-4 mb-8 text-left",children:[u.jsxs("h3",{className:"text-neutral-100 font-semibold mb-3 flex items-center gap-2",children:[u.jsx(mm,{className:"text-accent-400",size:16}),"Order Summary"]}),s&&i&&u.jsxs("div",{className:"mb-4 p-3 bg-accent-500/10 rounded-xl border border-accent-500/20",children:[u.jsx("h4",{className:"text-accent-300 font-medium text-sm mb-2",children:"Customer Details"}),u.jsxs("div",{className:"space-y-1 text-sm text-neutral-300",children:[u.jsxs("div",{children:["Name: ",s]}),u.jsxs("div",{children:["Phone: ",i]})]})]}),e&&n&&r&&u.jsxs("div",{className:"mb-4 p-3 bg-primary-500/10 rounded-xl border border-primary-500/20",children:[u.jsx("h4",{className:"text-primary-300 font-medium text-sm mb-2",children:"Your Seat"}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-neutral-300",children:[u.jsxs("span",{children:["Screen ",r]}),u.jsx("span",{children:""}),u.jsxs("span",{children:["Row ",n]}),u.jsx("span",{children:""}),u.jsxs("span",{children:["Seat ",e]})]})]}),u.jsx("div",{className:"space-y-2 text-sm",children:o.items.map(D=>u.jsxs("div",{className:"flex justify-between text-neutral-300",children:[u.jsxs("span",{children:[D.name,"  ",D.quantity]}),u.jsxs("span",{className:"font-medium",children:["",D.price*D.quantity]})]},`${D.id}-${D.selectedSize}`))}),u.jsxs("div",{className:"border-t border-neutral-800 mt-3 pt-3 flex justify-between font-bold",children:[u.jsx("span",{className:"text-neutral-100",children:"Total"}),u.jsxs("span",{className:"gradient-text text-lg",children:["",o.total]})]})]}),u.jsxs(J.button,{onClick:t,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.4},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full btn-primary py-4 text-lg font-semibold rounded-2xl flex items-center justify-center gap-3",children:[u.jsx(bU,{size:20}),"Back to Home"]}),u.jsx(J.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.6},className:"text-xs text-neutral-500 mt-4",children:"Thank you for choosing DRC Cafe! "})]})]})},WU=({onBackToHome:t,onSignOut:e})=>{const[n,r]=b.useState({}),[s,i]=b.useState(!0),[o,a]=b.useState("all"),[l,h]=b.useState("time"),[d,f]=b.useState(""),[m,y]=b.useState(0),[T,A]=b.useState(0),[R,w]=b.useState(0),[x,E]=b.useState([]),[k,D]=b.useState(!1),[M,S]=b.useState("all"),[v,I]=b.useState(""),[C,N]=b.useState(""),[j,P]=b.useState(!1);b.useEffect(()=>{const B=kr(fn,"orders"),z=Is(B,$A("timestamp","desc")),K=yy(z,ie=>{const le={};ie.docs.forEach(oe=>{var on;const ye=oe.data(),Kn=(on=ye.timestamp)!=null&&on.toDate?ye.timestamp.toDate():new Date(ye.timestamp);le[oe.id]={id:oe.id,...ye,timestamp:Kn}}),r(le),i(!1)},ie=>{console.error("Firestore error:",ie),i(!1),alert(`Error connecting to Firestore: ${ie.message}`)});return()=>K()},[]),b.useEffect(()=>{(async()=>{const z=new Date;z.setHours(0,0,0,0);const K=new Date(z);K.setDate(K.getDate()-1);const ie=new Date(z);ie.setDate(ie.getDate()+1);const le=Is(kr(fn,"orders"),Pn("timestamp",">=",z),Pn("timestamp","<",ie)),oe=await vc(le);let ye=0;oe.forEach(Gn=>{ye+=Gn.data().total||0}),y(ye);const Kn=Is(kr(fn,"orders"),Pn("timestamp",">=",K),Pn("timestamp","<",z)),on=await vc(Kn);let lt=0;on.forEach(Gn=>{lt+=Gn.data().total||0}),A(lt);const an=lt>0?(ye-lt)/lt*100:0;w(an)})()},[n]),b.useEffect(()=>{k&&(async()=>{const z=Kt();let K=[];if(z.start&&z.end){const ie=Math.ceil((z.end.getTime()-z.start.getTime())/864e5);for(let le=0;le<ie;le++){const oe=new Date(z.start);oe.setDate(oe.getDate()+le),oe.setHours(0,0,0,0);const ye=new Date(oe);ye.setDate(ye.getDate()+1);const Kn=Is(kr(fn,"orders"),Pn("timestamp",">=",oe),Pn("timestamp","<",ye)),on=await vc(Kn);let lt=0,an=0;on.forEach(Gn=>{lt+=Gn.data().total||0,an++}),K.push({date:oe.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),revenue:lt,orderCount:an,fullDate:oe})}}else for(let ie=6;ie>=0;ie--){const le=new Date;le.setDate(le.getDate()-ie),le.setHours(0,0,0,0);const oe=new Date(le);oe.setDate(oe.getDate()+1);const ye=Is(kr(fn,"orders"),Pn("timestamp",">=",le),Pn("timestamp","<",oe)),Kn=await vc(ye);let on=0,lt=0;Kn.forEach(an=>{on+=an.data().total||0,lt++}),K.push({date:le.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),revenue:on,orderCount:lt,fullDate:le})}E(K)})()},[n,M,v,C,k]);const Pe=async(B,z)=>{try{const K=$p(fn,"orders",B);await NO(K,{status:z})}catch(K){console.error("Error updating order status:",K),alert("Failed to update order status.")}},bt=async B=>{if(confirm("Are you sure you want to delete this order?"))try{const z=$p(fn,"orders",B);await kO(z)}catch(z){console.error("Error deleting order:",z),alert("Failed to delete order.")}},Kt=()=>{const B=new Date;B.setHours(0,0,0,0);const z=new Date(B);z.setDate(z.getDate()+1);const K=new Date(B);K.setDate(K.getDate()-1);const ie=new Date(B);ie.setDate(ie.getDate()-ie.getDay());const le=new Date(B);switch(le.setDate(1),M){case"today":return{start:B,end:z};case"yesterday":return{start:K,end:B};case"thisWeek":return{start:ie,end:z};case"thisMonth":return{start:le,end:z};case"custom":return{start:v?new Date(v):null,end:C?new Date(C+"T23:59:59"):null};default:return{start:null,end:null}}},pe=()=>{const B=Kt();if(M==="all")return"Daily Sales Report (Last 7 Days)";if(M==="today"||M==="yesterday")return`Sales Report for ${M==="today"?"Today":"Yesterday"}`;if(M==="thisWeek")return"Sales Report (This Week)";if(M==="thisMonth")return"Sales Report (This Month)";if(M==="custom"&&B.start&&B.end){const z=B.start.toLocaleDateString("en-US",{month:"short",day:"numeric"}),K=B.end.toLocaleDateString("en-US",{month:"short",day:"numeric"});return`Sales Report (${z} - ${K})`}return"Daily Sales Report"},O=Object.entries(n).filter(([B,z])=>{var ie,le;if(o!=="all"&&z.status!==o)return!1;const K=Kt();if(K.start&&K.end){const oe=new Date(z.timestamp);if(oe<K.start||oe>K.end)return!1}if(d){const oe=d.toLowerCase();return((ie=z.customerName)==null?void 0:ie.toLowerCase().includes(oe))||((le=z.customerPhone)==null?void 0:le.includes(oe))||z.id.toLowerCase().includes(oe)||z.items.some(ye=>ye.name.toLowerCase().includes(oe))}return!0}).sort(([B,z],[K,ie])=>l==="total"?ie.total-z.total:l==="status"?z.status.localeCompare(ie.status):new Date(ie.timestamp).getTime()-new Date(z.timestamp).getTime()),W={total:Object.keys(n).length,new:Object.values(n).filter(B=>B.status==="new").length,paid:Object.values(n).filter(B=>B.status==="paid").length,confirmed:Object.values(n).filter(B=>B.status==="confirmed").length,preparing:Object.values(n).filter(B=>B.status==="preparing").length,ready:Object.values(n).filter(B=>B.status==="ready").length,ongoing:Object.values(n).filter(B=>B.status==="ongoing").length,completed:Object.values(n).filter(B=>B.status==="completed").length,revenue:Object.values(n).reduce((B,z)=>B+z.total,0)},X=()=>{const B=[["Order ID","Customer Name","Phone","Status","Total","Date","Items"],...O.map(([le,oe])=>[le.slice(-8),oe.customerName,oe.customerPhone,oe.status,oe.total,new Date(oe.timestamp).toLocaleString(),oe.items.map(ye=>`${ye.name} (${ye.quantity})`).join("; ")])].map(le=>le.join(",")).join(`
`),z=new Blob([B],{type:"text/csv"}),K=URL.createObjectURL(z),ie=document.createElement("a");ie.href=K,ie.download=`orders_${new Date().toISOString().split("T")[0]}.csv`,ie.click(),URL.revokeObjectURL(K)};return s?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neutral-950 via-neutral-900 to-neutral-950 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-neutral-400",children:"Connecting to Firestore..."})]})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neutral-950 via-neutral-900 to-neutral-950",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[u.jsxs("div",{className:"bg-neutral-900/50 backdrop-blur-sm border border-neutral-800/50 rounded-2xl p-6 mb-6",children:[u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:e,className:"w-10 h-10 rounded-xl bg-neutral-800 hover:bg-neutral-700 flex items-center justify-center text-neutral-300 hover:text-white border border-neutral-700 hover:border-neutral-600 transition-all",children:u.jsx(PU,{size:20})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-neutral-100",children:"Admin Dashboard"}),u.jsx("p",{className:"text-sm text-neutral-400",children:"Manage all orders and track revenue"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:X,className:"btn-secondary flex items-center gap-2 px-3 py-2",children:[u.jsx(AU,{size:16}),u.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),u.jsxs("button",{onClick:()=>D(!k),className:"btn-secondary flex items-center gap-2 px-3 py-2",children:[u.jsx(EU,{size:16}),u.jsxs("span",{className:"hidden sm:inline",children:[k?"Hide":"Show"," Sales"]})]}),u.jsxs("button",{onClick:t,className:"btn-secondary flex items-center gap-2 px-3 py-2",children:[u.jsx(Zy,{size:16}),u.jsx("span",{className:"hidden sm:inline",children:"Back"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 lg:gap-4 mb-6",children:[u.jsxs("div",{className:"bento-card p-3 lg:p-4 flex items-center gap-3 h-full",children:[u.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-primary-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:u.jsx(Xu,{className:"text-primary-400",size:16})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-neutral-400 text-xs lg:text-sm truncate",children:"Total Orders"}),u.jsx("p",{className:"text-xl lg:text-2xl font-bold text-neutral-100",children:W.total})]})]}),u.jsxs("div",{className:"bento-card p-3 lg:p-4 flex items-center gap-3 h-full",children:[u.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-blue-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:u.jsx(x_,{className:"text-blue-400",size:16})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-neutral-400 text-xs lg:text-sm truncate",children:"New Orders"}),u.jsx("p",{className:"text-xl lg:text-2xl font-bold text-neutral-100",children:W.new})]})]}),u.jsxs("div",{className:"bento-card p-3 lg:p-4 flex items-center gap-3 h-full",children:[u.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-green-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:u.jsx(v_,{className:"text-green-400",size:16})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-neutral-400 text-xs lg:text-sm truncate",children:"Paid"}),u.jsx("p",{className:"text-xl lg:text-2xl font-bold text-neutral-100",children:W.paid})]})]}),u.jsxs("div",{className:"bento-card p-3 lg:p-4 flex items-center gap-3 h-full",children:[u.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-amber-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:u.jsx(oo,{className:"text-amber-400",size:16})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-neutral-400 text-xs lg:text-sm truncate",children:"In Progress"}),u.jsx("p",{className:"text-xl lg:text-2xl font-bold text-neutral-100",children:W.confirmed+W.preparing+W.ready+W.ongoing})]})]}),u.jsxs("div",{className:"bento-card p-3 lg:p-4 flex items-center gap-3 h-full",children:[u.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-accent-500/20 rounded-xl flex items-center justify-center flex-shrink-0",children:u.jsx(Ju,{className:"text-accent-400",size:16})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-neutral-400 text-xs lg:text-sm truncate",children:"Total Revenue"}),u.jsxs("p",{className:"text-xl lg:text-2xl font-bold gradient-text",children:["",W.revenue]})]})]})]}),u.jsx("div",{className:"bento-card p-4 mb-6",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-neutral-100",children:"Today's Revenue"}),u.jsxs("p",{className:"text-2xl sm:text-3xl font-bold gradient-text mt-1",children:["",m]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:`flex items-center gap-1 text-sm ${R>=0?"text-success-400":"text-red-400"}`,children:[R>=0?u.jsx(Pb,{size:16}):u.jsx(LU,{size:16}),u.jsxs("span",{children:[Math.abs(R).toFixed(1),"% from yesterday"]})]}),u.jsxs("p",{className:"text-neutral-500 text-sm mt-1",children:["Yesterday: ",T]})]})]})})]}),k&&u.jsxs(J.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bento-card p-4 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-neutral-100",children:pe()}),u.jsx("div",{className:"text-sm text-neutral-400",children:x.length>0&&u.jsxs(u.Fragment,{children:["Total: ",x.reduce((B,z)=>B+z.revenue,0),u.jsxs("span",{className:"ml-2",children:["(",x.reduce((B,z)=>B+z.orderCount,0)," orders)"]})]})})]}),x.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(Tc,{size:48,className:"text-neutral-600 mx-auto mb-4"}),u.jsx("p",{className:"text-neutral-400",children:"No sales data for the selected period"})]}):u.jsx("div",{className:"space-y-3",children:x.map((B,z)=>u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 bg-neutral-800/50 rounded-lg gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-primary-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:u.jsx(Tc,{size:16,className:"text-primary-400"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-neutral-100 font-medium text-sm truncate",children:B.date}),u.jsxs("p",{className:"text-neutral-500 text-xs",children:[B.orderCount," orders"]})]})]}),u.jsxs("div",{className:"flex items-center justify-between sm:justify-end w-full sm:w-auto gap-3",children:[u.jsxs("p",{className:"text-neutral-100 font-bold",children:["",B.revenue]}),u.jsx("div",{className:"w-24 sm:w-32 h-2 bg-neutral-700 rounded-full overflow-hidden flex-shrink-0",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400 rounded-full transition-all duration-500",style:{width:`${Math.min(100,B.revenue/Math.max(...x.map(K=>K.revenue))*100)}%`}})})]})]},z))})]}),u.jsxs("div",{className:"bento-card p-4 mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-neutral-100 mb-4",children:"Order Status Flow"}),u.jsx("div",{className:"overflow-x-auto pb-2",children:u.jsx("div",{className:"flex items-center justify-between min-w-max gap-2 sm:gap-4",children:[{status:"new",label:"New",count:W.new,color:"blue",icon:x_},{status:"paid",label:"Paid",count:W.paid,color:"green",icon:v_},{status:"confirmed",label:"Confirmed",count:W.confirmed,color:"indigo",icon:io},{status:"preparing",label:"Preparing",count:W.preparing,color:"orange",icon:SU},{status:"ready",label:"Ready",count:W.ready,color:"purple",icon:NU},{status:"ongoing",label:"Ongoing",count:W.ongoing,color:"amber",icon:oo},{status:"completed",label:"Completed",count:W.completed,color:"emerald",icon:io}].map((B,z)=>u.jsxs("div",{className:"flex flex-col items-center px-2 sm:px-3 min-w-[60px] sm:min-w-[80px]",children:[u.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 bg-${B.color}-500/20 rounded-full flex items-center justify-center mb-2`,children:u.jsx(B.icon,{className:`text-${B.color}-400`,size:16})}),u.jsx("p",{className:"text-xs text-neutral-400 mb-1 hidden sm:block",children:B.label}),u.jsx("p",{className:"text-sm font-bold text-neutral-100",children:B.count}),z<6&&u.jsx("div",{className:"hidden sm:block absolute h-0.5 w-8 bg-neutral-700 ml-14 mt-6"})]},B.status))})})]}),u.jsx("div",{className:"bento-card p-4 mb-6",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Cb,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400"}),u.jsx("input",{type:"text",placeholder:"Search orders...",value:d,onChange:B=>f(B.target.value),className:"input-field w-full pl-10"})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>P(!j),className:`w-full sm:w-auto px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300 border flex items-center justify-center gap-2 ${M!=="all"?"bg-primary-500 text-white border-primary-500 shadow-lg shadow-primary-500/25":"bg-neutral-800 text-neutral-300 border-neutral-700 hover:bg-neutral-700 hover:border-neutral-600"}`,children:[u.jsx(Tc,{size:16}),M==="all"&&"All Time",M==="today"&&"Today",M==="yesterday"&&"Yesterday",M==="thisWeek"&&"This Week",M==="thisMonth"&&"This Month",M==="custom"&&"Custom Range"]}),j&&u.jsx(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:u.jsxs(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-neutral-800 border border-neutral-700 rounded-xl p-4 w-full max-w-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("h4",{className:"text-sm font-medium text-neutral-200",children:"Filter by Date"}),u.jsx("button",{onClick:()=>P(!1),children:u.jsx(Ao,{size:16,className:"text-neutral-400 hover:text-neutral-200"})})]}),u.jsx("div",{className:"space-y-2",children:[{value:"all",label:"All Time"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"thisWeek",label:"This Week"},{value:"thisMonth",label:"This Month"},{value:"custom",label:"Custom Range"}].map(B=>u.jsx("button",{onClick:()=>{S(B.value),B.value!=="custom"&&(P(!1),setTimeout(()=>{window.dispatchEvent(new Event("resize"))},100))},className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${M===B.value?"bg-primary-500/20 text-primary-400":"hover:bg-neutral-700 text-neutral-300"}`,children:B.label},B.value))}),M==="custom"&&u.jsxs("div",{className:"mt-3 pt-3 border-t border-neutral-700 space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-neutral-400 block mb-1",children:"Start Date"}),u.jsx("input",{type:"date",value:v,onChange:B=>I(B.target.value),className:"w-full px-3 py-2 bg-neutral-700 border border-neutral-600 rounded-lg text-white text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-neutral-400 block mb-1",children:"End Date"}),u.jsx("input",{type:"date",value:C,onChange:B=>N(B.target.value),className:"w-full px-3 py-2 bg-neutral-700 border border-neutral-600 rounded-lg text-white text-sm"})]}),u.jsx("button",{onClick:()=>{P(!1),setTimeout(()=>{window.dispatchEvent(new Event("resize"))},100)},className:"w-full px-3 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg text-sm font-medium transition-colors",children:"Apply Filter"})]})]})})]}),["all","new","paid","confirmed","preparing","ready","ongoing","completed"].map(B=>u.jsx("button",{onClick:()=>a(B),className:`px-3 py-2 rounded-xl text-xs font-medium transition-all duration-300 border flex-shrink-0 ${o===B?"bg-primary-500 text-white border-primary-500 shadow-lg shadow-primary-500/25":"bg-neutral-800 text-neutral-300 border-neutral-700 hover:bg-neutral-700 hover:border-neutral-600"}`,children:B.charAt(0).toUpperCase()+B.slice(1)},B)),u.jsxs("select",{value:l,onChange:B=>h(B.target.value),className:"input-field w-full sm:w-40 flex-shrink-0",children:[u.jsx("option",{value:"time",children:"Sort by Time"}),u.jsx("option",{value:"total",children:"Sort by Total"}),u.jsx("option",{value:"status",children:"Sort by Status"})]})]})]})}),u.jsx("div",{className:"pb-8",children:O.length===0?u.jsxs("div",{className:"text-center py-16",children:[u.jsx(J.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"text-6xl mb-6",children:""}),u.jsx("h3",{className:"text-2xl font-bold text-neutral-300 mb-2",children:"No orders found"}),u.jsx("p",{className:"text-neutral-500",children:d?"No orders match your search criteria":o==="all"&&M==="all"?"No orders have been placed yet":"No orders found for the selected period"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4",children:u.jsxs("p",{className:"text-neutral-400 text-sm",children:["Showing ",O.length," of ",Object.keys(n).length," orders"]})}),O.map(([B,z])=>u.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bento-card p-4 lg:p-6",children:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[u.jsxs("h3",{className:"text-lg font-semibold text-neutral-100",children:["Order #",B.slice(-8)]}),u.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${z.status==="new"?"bg-blue-500/20 text-blue-300 border border-blue-500/30":z.status==="paid"?"bg-green-500/20 text-green-300 border border-green-500/30":z.status==="confirmed"?"bg-indigo-500/20 text-indigo-300 border border-indigo-500/30":z.status==="preparing"?"bg-orange-500/20 text-orange-300 border border-orange-500/30":z.status==="ready"?"bg-purple-500/20 text-purple-300 border border-purple-500/30":z.status==="ongoing"?"bg-amber-500/20 text-amber-300 border border-amber-500/30":"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30"}`,children:z.status.charAt(0).toUpperCase()+z.status.slice(1)})]}),u.jsx("div",{className:"flex items-center gap-4 text-sm text-neutral-400",children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Tc,{size:14}),u.jsx("span",{children:new Date(z.timestamp).toLocaleString()})]})})]}),u.jsxs("div",{className:"text-xl sm:text-2xl font-bold gradient-text",children:["",z.total]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h4",{className:"text-neutral-300 font-medium text-sm flex items-center gap-2",children:[u.jsx(Rb,{size:14})," Customer Details"]}),u.jsxs("div",{className:"space-y-1 text-sm text-neutral-400",children:[u.jsxs("div",{children:["Name: ",z.customerName]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(kU,{size:12})," ",z.customerPhone]})]})]}),z.seatNumber&&z.rowSelection&&z.screenNumber&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("h4",{className:"text-neutral-300 font-medium text-sm flex items-center gap-2",children:[u.jsx(RU,{size:14})," Seat Details"]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-neutral-400",children:[u.jsxs("span",{children:["Screen ",z.screenNumber]}),"",u.jsxs("span",{children:["Row ",z.rowSelection]}),"",u.jsxs("span",{children:["Seat ",z.seatNumber]})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"text-neutral-300 font-medium text-sm",children:"Order Items"}),u.jsx("div",{className:"space-y-1",children:z.items.map((K,ie)=>u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsxs("span",{className:"text-neutral-400",children:[K.name,K.selectedSize?` (${K.selectedSize})`:""," ",u.jsxs("span",{className:"text-neutral-500 ml-2",children:[" ",K.quantity]})]}),u.jsxs("span",{className:"text-neutral-300 font-medium",children:["",K.price*K.quantity]})]},ie))})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 pt-2 border-t border-neutral-800",children:[u.jsxs("div",{className:"w-full sm:w-auto",children:[u.jsx("label",{className:"text-sm font-medium text-neutral-300 block mb-2",children:"Update Status"}),u.jsxs("select",{value:z.status,onChange:K=>Pe(B,K.target.value),className:"input-field w-full sm:w-40",children:[u.jsx("option",{value:"new",children:"New"}),u.jsx("option",{value:"paid",children:"Paid"}),u.jsx("option",{value:"confirmed",children:"Confirmed"}),u.jsx("option",{value:"preparing",children:"Preparing"}),u.jsx("option",{value:"ready",children:"Ready"}),u.jsx("option",{value:"ongoing",children:"Ongoing"}),u.jsx("option",{value:"completed",children:"Completed"})]})]}),u.jsxs(J.button,{onClick:()=>bt(B),whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full sm:w-auto px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 hover:border-red-500/50 rounded-xl text-red-400 hover:text-red-300 font-medium text-sm transition-all flex items-center justify-center gap-2",children:[u.jsx(bb,{size:14})," Delete Order"]})]})]})},B))]})})]})})},qU=({onSignIn:t,onBack:e})=>{const[n,r]=b.useState(""),[s,i]=b.useState(""),[o,a]=b.useState(!1),[l,h]=b.useState(!1),[d,f]=b.useState(""),m=async y=>{y.preventDefault(),f(""),h(!0);try{await L4(Wp,n,s),t()}catch(T){console.error("Authentication error:",T),f("Invalid email or password"),i("")}h(!1)};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-neutral-950 via-neutral-900 to-neutral-950 flex items-center justify-center p-4",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-gradient-to-br from-primary-500/5 to-accent-500/5 rounded-full blur-3xl"}),u.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-gradient-to-br from-accent-500/5 to-primary-500/5 rounded-full blur-3xl"})]}),u.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative w-full max-w-md",children:[u.jsx(J.button,{onClick:e,whileHover:{scale:1.02},whileTap:{scale:.98},className:"mb-6 w-10 h-10 rounded-xl bg-neutral-800 hover:bg-neutral-700 flex items-center justify-center text-neutral-300 hover:text-white transition-all duration-300 border border-neutral-700 hover:border-neutral-600",children:u.jsx(Zy,{size:20})}),u.jsxs("div",{className:"bento-card p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx(J.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",duration:.6},className:"w-16 h-16 bg-primary-500/20 rounded-3xl flex items-center justify-center mx-auto mb-4",children:u.jsx(ba,{className:"text-primary-400",size:32})}),u.jsx("h1",{className:"text-2xl font-bold text-neutral-100 mb-2",children:"Admin Access"}),u.jsx("p",{className:"text-neutral-400",children:"Sign in to access the admin dashboard"})]}),u.jsxs("form",{onSubmit:m,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-neutral-300",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(Rb,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-neutral-500",size:18}),u.jsx("input",{type:"email",value:n,onChange:y=>r(y.target.value),placeholder:"Enter your email",className:"input-field w-full pl-12 pr-4",required:!0,disabled:l})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-neutral-300",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Yu,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-neutral-500",size:18}),u.jsx("input",{type:o?"text":"password",value:s,onChange:y=>i(y.target.value),placeholder:"Enter your password",className:"input-field w-full pl-12 pr-12",required:!0,disabled:l}),u.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-neutral-500 hover:text-neutral-300 transition-colors duration-300",disabled:l,children:o?u.jsx(CU,{size:18}):u.jsx(fm,{size:18})})]})]}),d&&u.jsx(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl",children:u.jsx("p",{className:"text-red-400 text-sm text-center",children:d})}),u.jsx(J.button,{type:"submit",disabled:l||!n.trim()||!s.trim(),whileHover:l?{}:{scale:1.02},whileTap:l?{}:{scale:.98},className:`w-full py-4 rounded-2xl font-bold text-lg transition-all duration-300 ${l||!n.trim()||!s.trim()?"bg-neutral-700 cursor-not-allowed text-neutral-400":"btn-primary"}`,children:l?u.jsxs("div",{className:"flex items-center justify-center gap-3",children:[u.jsx("div",{className:"w-5 h-5 border-2 border-neutral-500 border-t-neutral-300 rounded-full animate-spin"}),"Signing In..."]}):"Sign In to Dashboard"})]}),u.jsxs("div",{className:"mt-6 p-4 bg-neutral-800/30 rounded-xl border border-neutral-800",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"w-6 h-6 bg-primary-500/20 rounded-lg flex items-center justify-center",children:u.jsx(Yu,{className:"text-primary-400",size:14})}),u.jsx("span",{className:"text-neutral-300 font-medium text-sm",children:"Secure Access"})]}),u.jsx("p",{className:"text-neutral-500 text-xs leading-relaxed",children:"This area is restricted to authorized personnel only. All access attempts are logged for security purposes."})]})]})]})]})},KU=({isOpen:t,onClose:e})=>t?u.jsx(ro,{children:u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),u.jsxs(J.div,{initial:{opacity:0,scale:.9,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:50},className:"relative w-full max-w-4xl max-h-[90vh] bg-neutral-950/95 backdrop-blur-xl rounded-3xl border border-neutral-800 overflow-hidden",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-neutral-950/90 backdrop-blur-xl border-b border-neutral-800/50 p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-primary-500/20 rounded-xl flex items-center justify-center",children:u.jsx(ba,{className:"text-primary-400",size:20})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-neutral-100",children:"Privacy Policy"}),u.jsxs("p",{className:"text-sm text-neutral-400",children:["Effective from ",new Date().toLocaleDateString()]})]})]}),u.jsx("button",{onClick:e,className:"w-10 h-10 rounded-xl bg-neutral-800 hover:bg-neutral-700 flex items-center justify-center text-neutral-400 hover:text-white transition-all duration-300 border border-neutral-700",children:u.jsx(Ao,{size:20})})]})}),u.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-120px)] p-6",children:u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bento-card p-6",children:u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-primary-500/20 rounded-lg flex items-center justify-center",children:u.jsx(ba,{className:"text-primary-400",size:16})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-neutral-100 mb-3",children:"Our Commitment to Your Privacy"}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:'DRC Cinema Hall ("we", "our", or "us") is committed to protecting your privacy. This Privacy Policy outlines how we collect, use, and protect the personal information you provide through our food ordering platform.'})]})]})}),u.jsx("div",{className:"bento-card p-6",children:u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-accent-500/20 rounded-lg flex items-center justify-center",children:u.jsx(y_,{className:"text-accent-400",size:16})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-neutral-100 mb-3",children:"Information We Collect"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"We collect information to provide and improve our food ordering services. The types of information we collect include:"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"p-3 bg-accent-500/10 rounded-xl border border-accent-500/20",children:[u.jsx("h4",{className:"text-accent-300 font-medium text-sm mb-2",children:" Personal Information"}),u.jsxs("ul",{className:"text-neutral-400 text-xs space-y-1",children:[u.jsx("li",{children:" Full name and contact details (phone number, email)"}),u.jsx("li",{children:" Cinema seat information (screen, row, seat number)"}),u.jsx("li",{children:" Order history and preferences"}),u.jsx("li",{children:" Account credentials for admin users"})]})]}),u.jsxs("div",{className:"p-3 bg-primary-500/10 rounded-xl border border-primary-500/20",children:[u.jsx("h4",{className:"text-primary-300 font-medium text-sm mb-2",children:" Payment Information"}),u.jsxs("ul",{className:"text-neutral-400 text-xs space-y-1",children:[u.jsx("li",{children:" Payment transaction details (handled by Instamojo)"}),u.jsx("li",{children:" Order amounts and payment status"}),u.jsx("li",{children:" We do NOT store credit card or banking details"}),u.jsx("li",{children:" All payment data is encrypted and PCI compliant"})]})]}),u.jsxs("div",{className:"p-3 bg-success-500/10 rounded-xl border border-success-500/20",children:[u.jsx("h4",{className:"text-success-300 font-medium text-sm mb-2",children:" Technical Information"}),u.jsxs("ul",{className:"text-neutral-400 text-xs space-y-1",children:[u.jsx("li",{children:" IP address and browser information"}),u.jsx("li",{children:" Device type and operating system"}),u.jsx("li",{children:" Website usage patterns and interactions"}),u.jsx("li",{children:" Cookies for session management"})]})]})]})]})]})]})}),u.jsx("div",{className:"bento-card p-6",children:u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-success-500/20 rounded-lg flex items-center justify-center",children:u.jsx(Yu,{className:"text-success-400",size:16})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-neutral-100 mb-3",children:"How We Use Your Information"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"We use your information solely for legitimate business purposes to provide our services:"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"p-3 bg-success-500/10 rounded-xl border border-success-500/20",children:[u.jsx("h4",{className:"text-success-300 font-medium text-sm mb-2",children:" Order Processing"}),u.jsxs("ul",{className:"text-neutral-400 text-xs space-y-1",children:[u.jsx("li",{children:" Process and fulfill your food orders"}),u.jsx("li",{children:" Deliver items to your cinema seat"}),u.jsx("li",{children:" Send order confirmations and status updates"}),u.jsx("li",{children:" Handle payment processing and receipts"})]})]}),u.jsxs("div",{className:"p-3 bg-primary-500/10 rounded-xl border border-primary-500/20",children:[u.jsx("h4",{className:"text-primary-300 font-medium text-sm mb-2",children:" Service Improvement"}),u.jsxs("ul",{className:"text-neutral-400 text-xs space-y-1",children:[u.jsx("li",{children:" Analyze usage patterns to improve user experience"}),u.jsx("li",{children:" Maintain platform security and prevent fraud"}),u.jsx("li",{children:" Provide customer support and resolve issues"}),u.jsx("li",{children:" Optimize delivery times and service quality"})]})]})]}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"We do not use your information for marketing purposes or share it with third parties for advertising."})]})]})]})}),u.jsx("div",{className:"bento-card p-6",children:u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-amber-500/20 rounded-lg flex items-center justify-center",children:u.jsx(fm,{className:"text-amber-400",size:16})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-neutral-100 mb-3",children:"Data Sharing & Third Parties"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"We maintain strict control over your personal data and only share it in specific circumstances:"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"p-3 bg-success-500/10 rounded-xl border border-success-500/20",children:[u.jsx("h4",{className:"text-success-300 font-medium text-sm mb-2",children:" Authorized Sharing"}),u.jsxs("ul",{className:"text-neutral-400 text-xs space-y-1",children:[u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Instamojo:"})," Payment processing (encrypted transaction data only)"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Firebase:"})," Secure data storage and authentication"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Netlify:"})," Website hosting and serverless functions"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Legal Requirements:"})," When required by Indian law or court orders"]})]})]}),u.jsxs("div",{className:"p-3 bg-red-500/10 rounded-xl border border-red-500/20",children:[u.jsx("h4",{className:"text-red-300 font-medium text-sm mb-2",children:" We Never Share"}),u.jsxs("ul",{className:"text-neutral-400 text-xs space-y-1",children:[u.jsx("li",{children:" Personal data with advertisers or marketers"}),u.jsx("li",{children:" Contact information with third parties"}),u.jsx("li",{children:" Order history for commercial purposes"}),u.jsx("li",{children:" Any data for profit or revenue generation"})]})]})]})]})]})]})}),u.jsx("div",{className:"bento-card p-6",children:u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-primary-500/20 rounded-lg flex items-center justify-center",children:u.jsx(y_,{className:"text-primary-400",size:16})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-neutral-100 mb-3",children:"Cookies"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"We use cookies to enhance your browsing experience and maintain platform functionality:"}),u.jsxs("div",{className:"p-3 bg-primary-500/10 rounded-xl border border-primary-500/20",children:[u.jsx("h4",{className:"text-primary-300 font-medium text-sm mb-2",children:" Cookie Types"}),u.jsxs("ul",{className:"text-neutral-400 text-xs space-y-1",children:[u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Essential Cookies:"})," Required for cart functionality and user sessions"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Performance Cookies:"})," Help us understand how you use our website"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Authentication Cookies:"})," Keep admin users logged in securely"]})]})]}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"You can control cookies through your browser settings, but disabling them may affect website functionality."})]})]})]})}),u.jsx("div",{className:"bento-card p-6",children:u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-success-500/20 rounded-lg flex items-center justify-center",children:u.jsx(ba,{className:"text-success-400",size:16})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-neutral-100 mb-3",children:"Data Security"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"We implement comprehensive security measures to protect your personal information:"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"p-3 bg-success-500/10 rounded-xl border border-success-500/20",children:[u.jsx("h4",{className:"text-success-300 font-medium text-sm mb-2",children:" Technical Security"}),u.jsxs("ul",{className:"text-neutral-400 text-xs space-y-1",children:[u.jsx("li",{children:" SSL/TLS encryption for all data transmission"}),u.jsx("li",{children:" Firebase Authentication with industry-standard protocols"}),u.jsx("li",{children:" Encrypted database storage with access controls"}),u.jsx("li",{children:" Regular security updates and monitoring"})]})]}),u.jsxs("div",{className:"p-3 bg-primary-500/10 rounded-xl border border-primary-500/20",children:[u.jsx("h4",{className:"text-primary-300 font-medium text-sm mb-2",children:" Access Controls"}),u.jsxs("ul",{className:"text-neutral-400 text-xs space-y-1",children:[u.jsx("li",{children:" Admin access restricted to authorized personnel only"}),u.jsx("li",{children:" Multi-factor authentication for sensitive operations"}),u.jsx("li",{children:" Regular access reviews and permission audits"}),u.jsx("li",{children:" Secure API endpoints with rate limiting"})]})]})]}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"Despite our security measures, no system is 100% secure. We continuously monitor and improve our security practices."})]})]})]})}),u.jsx("div",{className:"bento-card p-6",children:u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-accent-500/20 rounded-lg flex items-center justify-center",children:u.jsx(fm,{className:"text-accent-400",size:16})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-neutral-100 mb-3",children:"Third-Party Links"}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"Our platform may contain links to third-party sites such as Instamojo, and we are not responsible for their privacy practices."})]})]})}),u.jsx("div",{className:"bento-card p-6",children:u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-primary-500/20 rounded-lg flex items-center justify-center",children:u.jsx(Yu,{className:"text-primary-400",size:16})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-neutral-100 mb-3",children:"Your Rights"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"Under Indian data protection laws, you have the following rights regarding your personal information:"}),u.jsxs("div",{className:"p-3 bg-primary-500/10 rounded-xl border border-primary-500/20",children:[u.jsx("h4",{className:"text-primary-300 font-medium text-sm mb-2",children:" Your Data Rights"}),u.jsxs("ul",{className:"text-neutral-400 text-xs space-y-1",children:[u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Access:"})," Request a copy of your personal data we hold"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Deletion:"})," Request deletion of your personal data (subject to legal requirements)"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Portability:"})," Receive your data in a structured, machine-readable format"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Withdrawal:"})," Withdraw consent for data processing at any time"]})]})]}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"To exercise these rights, contact us at info@drccinema.com with your request and proof of identity."})]})]})]})}),u.jsx("div",{className:"bento-card p-6",children:u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-amber-500/20 rounded-lg flex items-center justify-center",children:u.jsx(pm,{className:"text-amber-400",size:16})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-neutral-100 mb-3",children:"Policy Updates"}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"We may update this policy from time to time, and any changes will be reflected on this page with a new effective date."})]})]})}),u.jsx("div",{className:"bento-card p-6",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"w-8 h-8 bg-primary-500/20 rounded-lg flex items-center justify-center",children:u.jsx(pm,{className:"text-primary-400",size:16})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-neutral-100 mb-3",children:"Contact Us"}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm mb-3",children:"If you have any questions about this policy or how your data is used, you may contact us at:"}),u.jsxs("div",{className:"p-4 bg-primary-500/10 rounded-xl border border-primary-500/20 space-y-2",children:[u.jsx("div",{className:"text-primary-300 font-bold text-sm",children:"V H ENTERPRISES"}),u.jsx("p",{className:"text-primary-300 font-medium text-sm",children:" Phone: +91 98765-43210 (India)"}),u.jsx("p",{className:"text-primary-300 font-medium text-sm",children:" Email: info@drccinema.com"}),u.jsx("p",{className:"text-primary-300 font-medium text-sm",children:" Address: DRC Cinema Hall, Main Street, India"}),u.jsx("p",{className:"text-neutral-400 text-xs mt-1",children:"Data Protection Officer: Available via email | Response time: 24-48 hours"})]})]})]})})]})})]})]})}):null,GU=({isOpen:t,onClose:e})=>t?u.jsx(ro,{children:u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),u.jsxs(J.div,{initial:{opacity:0,scale:.9,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:50},className:"relative w-full max-w-4xl max-h-[90vh] bg-neutral-950/95 backdrop-blur-xl rounded-3xl border border-neutral-800 overflow-hidden",children:[u.jsx("div",{className:"sticky top-0 z-10 bg-neutral-950/90 backdrop-blur-xl border-b border-neutral-800/50 p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-accent-500/20 rounded-xl flex items-center justify-center",children:u.jsx(_f,{className:"text-accent-400",size:20})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-neutral-100",children:"Terms & Conditions"}),u.jsxs("p",{className:"text-sm text-neutral-400",children:["Effective from ",new Date().toLocaleDateString()]})]})]}),u.jsx("button",{onClick:e,className:"w-10 h-10 rounded-xl bg-neutral-800 hover:bg-neutral-700 flex items-center justify-center text-neutral-400 hover:text-white transition-all duration-300 border border-neutral-700",children:u.jsx(Ao,{size:20})})]})}),u.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-120px)] p-6",children:u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bento-card p-6",children:u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-accent-500/20 rounded-lg flex items-center justify-center",children:u.jsx(_f,{className:"text-accent-400",size:16})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-neutral-100 mb-3",children:"Agreement to Terms"}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"By accessing and using the DRC Cinema Hall Food Ordering Platform, you agree to the following terms and conditions. This platform is intended for users who are at least 13 years old. By using our services, you confirm that you meet this requirement and agree to use the platform only for lawful and authorized purposes."})]})]})}),u.jsx("div",{className:"bento-card p-6",children:u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-primary-500/20 rounded-lg flex items-center justify-center",children:u.jsx(g_,{className:"text-primary-400",size:16})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-neutral-100 mb-3",children:"Order Processing & Payment"}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm mb-4",children:"All orders placed through the platform are subject to availability and confirmation. Once an order is submitted and payment is processed via Instamojo, it cannot be modified or canceled."}),u.jsxs("div",{className:"p-4 bg-amber-500/10 rounded-xl border border-amber-500/20 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(m_,{className:"text-amber-400",size:16}),u.jsx("span",{className:"text-amber-300 font-medium text-sm",children:"Refund & Cancellation Policy"})]}),u.jsxs("div",{className:"space-y-2 text-neutral-400 text-xs leading-relaxed",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Cancellations:"})," Orders cannot be canceled once payment is confirmed and preparation has begun. All sales are final."]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Refunds:"})," Refunds are only issued for:"]}),u.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[u.jsx("li",{children:"Failed payment transactions (processed within 5-7 business days)"}),u.jsx("li",{children:"Duplicate charges (verified and processed within 3-5 business days)"}),u.jsx("li",{children:"Technical errors on our platform (case-by-case basis)"})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Refund Process:"})," Contact us at info@drccinema.com with your order ID and payment details. Refunds will be processed to the original payment method after verification."]})]})]}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"You are responsible for providing accurate information during the checkout process, including your contact details and order preferences."})]})]})}),u.jsx("div",{className:"bento-card p-6",children:u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-success-500/20 rounded-lg flex items-center justify-center",children:u.jsx(g_,{className:"text-success-400",size:16})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-neutral-100 mb-3",children:"Services & Pricing"}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm mb-4",children:"DRC Cinema Hall offers a comprehensive food ordering service with the following features:"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"p-3 bg-success-500/10 rounded-xl border border-success-500/20",children:[u.jsx("h4",{className:"text-success-300 font-medium text-sm mb-2",children:" Food & Beverage Services"}),u.jsxs("ul",{className:"text-neutral-400 text-xs space-y-1",children:[u.jsx("li",{children:" Premium Popcorn (130 - 340)"}),u.jsx("li",{children:" Fresh Beverages & Milkshakes (50 - 150)"}),u.jsx("li",{children:" Hot Food Items & Combos (70 - 230)"}),u.jsx("li",{children:" Snacks & Desserts (40 - 160)"}),u.jsx("li",{children:" 100+ items across 11 categories"})]})]}),u.jsxs("div",{className:"p-3 bg-primary-500/10 rounded-xl border border-primary-500/20",children:[u.jsx("h4",{className:"text-primary-300 font-medium text-sm mb-2",children:" Service Features"}),u.jsxs("ul",{className:"text-neutral-400 text-xs space-y-1",children:[u.jsx("li",{children:" Seat-side delivery within cinema halls"}),u.jsx("li",{children:" Real-time order tracking"}),u.jsx("li",{children:" Secure online payment processing"}),u.jsx("li",{children:" Admin dashboard for order management"})]})]})]}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm mt-4",children:"All prices are inclusive of applicable taxes. Prices may vary based on size selections and seasonal availability."})]})]})}),u.jsx("div",{className:"bento-card p-6",children:u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-accent-500/20 rounded-lg flex items-center justify-center",children:u.jsx(Ju,{className:"text-accent-400",size:16})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-neutral-100 mb-3",children:"Delivery & Service Policy"}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm mb-4",children:"Our in-cinema delivery service ensures you receive your order quickly and efficiently."}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"p-3 bg-accent-500/10 rounded-xl border border-accent-500/20",children:[u.jsx("h4",{className:"text-accent-300 font-medium text-sm mb-2",children:" Delivery Timelines"}),u.jsxs("ul",{className:"text-neutral-400 text-xs space-y-1",children:[u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Minimum Delivery Time:"})," 8-10 minutes from order confirmation"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Maximum Delivery Time:"})," 15-20 minutes during peak hours"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Average Delivery Time:"})," 10-15 minutes"]}),u.jsxs("li",{children:[" ",u.jsx("strong",{children:"Rush Hour Delays:"})," Up to 25 minutes during movie intervals"]})]})]}),u.jsxs("div",{className:"p-3 bg-primary-500/10 rounded-xl border border-primary-500/20",children:[u.jsx("h4",{className:"text-primary-300 font-medium text-sm mb-2",children:" Delivery Process"}),u.jsxs("ul",{className:"text-neutral-400 text-xs space-y-1",children:[u.jsx("li",{children:" Orders are delivered directly to your cinema seat"}),u.jsx("li",{children:" Staff will locate you using screen, row, and seat number"}),u.jsx("li",{children:" Contactless delivery available upon request"}),u.jsx("li",{children:" Real-time SMS updates on order status"})]})]})]}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm mt-4",children:"Delivery times may vary based on order complexity, cinema occupancy, and movie showtimes. We strive to minimize disruption during movie screenings."})]})]})}),u.jsx("div",{className:"bento-card p-6",children:u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-success-500/20 rounded-lg flex items-center justify-center",children:u.jsx(Ju,{className:"text-success-400",size:16})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-neutral-100 mb-3",children:"Admin Access & Security"}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm mb-4",children:"Access to the admin dashboard is restricted to authorized personnel. If you are an admin, you are responsible for keeping your login credentials secure."}),u.jsxs("div",{className:"p-3 bg-red-500/10 rounded-xl border border-red-500/20",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(ba,{className:"text-red-400",size:16}),u.jsx("span",{className:"text-red-300 font-medium text-sm",children:"Security Warning"})]}),u.jsx("p",{className:"text-neutral-400 text-xs leading-relaxed",children:"Any unauthorized access or misuse of the admin area is strictly prohibited and may lead to account suspension or legal action."})]})]})]})}),u.jsx("div",{className:"bento-card p-6",children:u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-accent-500/20 rounded-lg flex items-center justify-center",children:u.jsx(DU,{className:"text-accent-400",size:16})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-neutral-100 mb-3",children:"Intellectual Property"}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"All intellectual property on the platform, including but not limited to the code, user interface, branding, and content, is owned by DRC Cinema Hall or its developers. You may not reproduce, redistribute, or use any part of the platform for commercial purposes without express written permission."})]})]})}),u.jsx("div",{className:"bento-card p-6",children:u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-amber-500/20 rounded-lg flex items-center justify-center",children:u.jsx(m_,{className:"text-amber-400",size:16})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-neutral-100 mb-3",children:"Liability & Disclaimers"}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm mb-4",children:"We are not liable for any delays, interruptions, or issues caused by third-party services, internet failures, or unauthorized access."}),u.jsx("div",{className:"p-3 bg-neutral-800/30 rounded-xl border border-neutral-700",children:u.jsx("p",{className:"text-neutral-300 text-xs leading-relaxed",children:'The platform is provided "as is" without any warranties of any kind, and we reserve the right to modify, suspend, or discontinue any part of the service at our sole discretion.'})})]})]})}),u.jsx("div",{className:"bento-card p-6",children:u.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-primary-500/20 rounded-lg flex items-center justify-center",children:u.jsx(_f,{className:"text-primary-400",size:16})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-neutral-100 mb-3",children:"Terms Updates"}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"By continuing to use the platform, you accept any updates or modifications to these terms. We will notify users of significant changes through the platform or via email."})]})]})}),u.jsx("div",{className:"bento-card p-6",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"w-8 h-8 bg-primary-500/20 rounded-lg flex items-center justify-center",children:u.jsx(pm,{className:"text-primary-400",size:16})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-neutral-100 mb-3",children:"Contact Us"}),u.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm mb-3",children:"For questions regarding these terms or any legal concerns, please contact us at:"}),u.jsxs("div",{className:"p-4 bg-primary-500/10 rounded-xl border border-primary-500/20 space-y-2",children:[u.jsx("div",{className:"text-primary-300 font-bold text-sm",children:"V H ENTERPRISES"}),u.jsx("p",{className:"text-primary-300 font-medium text-sm",children:" Phone: +91 98765-43210 (India)"}),u.jsx("p",{className:"text-primary-300 font-medium text-sm",children:" Email: info@drccinema.com"}),u.jsx("p",{className:"text-primary-300 font-medium text-sm",children:" Address: DRC Cinema Hall, Main Street, India"}),u.jsx("p",{className:"text-neutral-400 text-xs mt-1",children:"Business Hours: 10:00 AM - 11:00 PM (All Days) | We'll respond to inquiries within 24-48 hours."})]})]})]})})]})})]})]})}):null;function QU(){const[t,e]=b.useState(!1),[n,r]=b.useState(!1),[s,i]=b.useState(!1),[o,a]=b.useState(!1),[l,h]=b.useState({seatNumber:null,rowSelection:null,screenNumber:null,customerName:null,customerPhone:null});EP.useEffect(()=>{const m=U4(Wp,y=>{a(!!y)});return()=>m()},[]);const d=async()=>{try{await B4(Wp)}catch(m){console.error("Sign out error:",m)}},f=(m,y,T,A,R)=>{h({seatNumber:m,rowSelection:y,screenNumber:T,customerName:A,customerPhone:R}),e(!1)};return u.jsx(UO,{children:u.jsx(qN,{children:u.jsxs("div",{className:"min-h-screen",children:[u.jsxs(TN,{children:[u.jsx(Es,{path:"/",element:u.jsx(OU,{onStartOrdering:()=>window.location.href="/menu",onGoToAdmin:()=>window.location.href="/admin",onGoToPrivacyPolicy:()=>r(!0),onGoToTermsOfService:()=>i(!0)})}),u.jsx(Es,{path:"/menu",element:u.jsx(BU,{onBack:()=>window.location.href="/"})}),u.jsx(Es,{path:"/confirmation",element:u.jsx(HU,{onBackToHome:()=>window.location.href="/",seatNumber:l.seatNumber,rowSelection:l.rowSelection,screenNumber:l.screenNumber,customerName:l.customerName,customerPhone:l.customerPhone})}),u.jsx(Es,{path:"/admin-signin",element:o?u.jsx(zd,{to:"/admin"}):u.jsx(qU,{onSignIn:()=>window.location.href="/admin",onBack:()=>window.location.href="/"})}),u.jsx(Es,{path:"/admin",element:o?u.jsx(WU,{onBackToHome:()=>window.location.href="/",onSignOut:d}):u.jsx(zd,{to:"/admin-signin"})}),u.jsx(Es,{path:"*",element:u.jsx(zd,{to:"/"})})]}),u.jsx(zU,{onCheckout:()=>e(!0)}),u.jsx($U,{isOpen:t,onClose:()=>e(!1),onPaymentSuccess:f,onGoToPrivacyPolicy:()=>r(!0),onGoToTermsOfService:()=>i(!0)}),u.jsx(KU,{isOpen:n,onClose:()=>r(!1)}),u.jsx(GU,{isOpen:s,onClose:()=>i(!1)})]})})})}jT(document.getElementById("root")).render(u.jsx(b.StrictMode,{children:u.jsx(QU,{})}));
